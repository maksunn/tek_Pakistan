(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{lIRb:function(c,e,r){"use strict";r.r(e),r.d(e,"LoginModule",(function(){return S}));var t=r("fXoL"),s=r("ofXK"),i=r("3Pt+"),o=r("5EfC"),n=r("tyNb");function a(c,e){if(1&c&&(t.ec(0,"h1"),t.Gc(1),t.qc(2,"async"),t.dc()),2&c){const c=t.pc();let e=null;t.Pb(1),t.Ic("Hello ",null==(e=t.rc(2,1,c.authService.user))?null:e.email,"")}}function d(c,e){if(1&c){const c=t.fc();t.ec(0,"div"),t.ec(1,"div",0),t.ec(2,"div",9),t.cc(3,"img",10),t.dc(),t.ec(4,"div",11),t.ec(5,"form",12),t.cc(6,"input",13),t.cc(7,"input",14),t.ec(8,"button",15),t.lc("click",(function(){return t.yc(c),t.pc().signin()})),t.Gc(9,"Login"),t.dc(),t.dc(),t.dc(),t.dc(),t.dc()}if(2&c){const c=t.pc();t.Pb(5),t.sc("formGroup",c.form)}}function l(c,e){if(1&c){const c=t.fc();t.ec(0,"button",16),t.lc("click",(function(){return t.yc(c),t.pc().signOut()})),t.Gc(1,"Logout"),t.dc()}}let u=(()=>{class c{constructor(c,e,r){this.authService=c,this.router=e,this.fb=r.get(i.b),this.createForm()}createForm(){this.form=this.fb.group({email:null,password:null})}resetForm(){this.form.controls.email.setValue(null),this.form.controls.password.setValue(null)}signin(){this.authService.login(this.form.controls.email.value,this.form.controls.password.value),console.log(localStorage.getItem("user")),this.authService&&this.authService.user.subscribe(c=>{c?localStorage.setItem("user",JSON.stringify(c)):localStorage.setItem("user",null)}),this.resetForm()}signUp(){this.router.navigate(["/login/signup"])}pwdRest(){this.authService.sendPasswordResetEmail()}signOut(){this.authService.logout(),this.resetForm()}}return c.\u0275fac=function(e){return new(e||c)(t.bc(o.a),t.bc(n.c),t.bc(t.A))},c.\u0275cmp=t.Vb({type:c,selectors:[["app-login"]],decls:16,vars:9,consts:[[1,"row"],[1,"container","pt-3"],[1,"row","justify-content-sm-center"],[1,"col-sm-10","col-md-6"],[1,"card","border-info"],[1,"card-header"],[1,"card-body"],[4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"col-md-4","text-center"],["src","https://placeimg.com/128/128/nature"],[1,"col-md-8"],[3,"formGroup"],["type","text","formControlName","email","placeholder","Email","id","name","required","","autofocus","",1,"text-primary","form-control","mb-2"],["type","password","formControlName","password","id","password","placeholder","Password",1,"text-primary","form-control","mb-2"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block","mb-1",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(c,e){1&c&&(t.ec(0,"div",0),t.Gc(1," \xa0"),t.dc(),t.ec(2,"div",1),t.ec(3,"div",2),t.ec(4,"div",3),t.ec(5,"div",4),t.ec(6,"div",5),t.Gc(7,"Login"),t.dc(),t.ec(8,"div",6),t.Fc(9,a,3,3,"h1",7),t.qc(10,"async"),t.Fc(11,d,10,1,"div",7),t.qc(12,"async"),t.ec(13,"div"),t.Fc(14,l,2,0,"button",8),t.qc(15,"async"),t.dc(),t.dc(),t.dc(),t.dc(),t.dc(),t.dc()),2&c&&(t.Pb(9),t.sc("ngIf",t.rc(10,3,e.authService&&e.authService.user)),t.Pb(2),t.sc("ngIf",!t.rc(12,5,e.authService.user)),t.Pb(3),t.sc("ngIf",t.rc(15,7,e.authService.user)))},directives:[s.k,i.n,i.h,i.e,i.a,i.g,i.d,i.l],pipes:[s.b],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23)}"]}),c})();var m=r("vz+L");function f(c,e){1&c&&(t.ec(0,"div"),t.Gc(1,"First Name is required"),t.dc())}function b(c,e){if(1&c&&(t.ec(0,"div",20),t.Fc(1,f,2,0,"div",21),t.dc()),2&c){const c=t.pc();t.Pb(1),t.sc("ngIf",c.f.firstName.errors.required)}}function p(c,e){1&c&&(t.ec(0,"div"),t.Gc(1,"Last Name is required"),t.dc())}function g(c,e){if(1&c&&(t.ec(0,"div",20),t.Fc(1,p,2,0,"div",21),t.dc()),2&c){const c=t.pc();t.Pb(1),t.sc("ngIf",c.f.lastName.errors.required)}}function h(c,e){1&c&&(t.ec(0,"div"),t.Gc(1,"Email is required"),t.dc())}function v(c,e){if(1&c&&(t.ec(0,"div",20),t.Fc(1,h,2,0,"div",21),t.dc()),2&c){const c=t.pc();t.Pb(1),t.sc("ngIf",c.f.email.errors.required)}}function w(c,e){1&c&&(t.ec(0,"div"),t.Gc(1,"Password is required"),t.dc())}function y(c,e){1&c&&(t.ec(0,"div"),t.Gc(1,"Password must be at least 6 characters"),t.dc())}function P(c,e){if(1&c&&(t.ec(0,"div",20),t.Fc(1,w,2,0,"div",21),t.Fc(2,y,2,0,"div",21),t.dc()),2&c){const c=t.pc();t.Pb(1),t.sc("ngIf",c.f.password.errors.required),t.Pb(1),t.sc("ngIf",c.f.password.errors.minlength)}}function I(c,e){1&c&&t.cc(0,"span",22)}const N=function(c){return{"is-invalid":c}},G=[{path:"",component:u},{path:"signup",component:(()=>{class c{constructor(c,e,r,t,s){this.auth=c,this.authguard=e,this.router=r,this.formBuilder=t,this.route=s,this.state="",this.loading=!1,this.submitted=!1,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$"}ngOnInit(){this.form=this.formBuilder.group({firstName:["",i.m.required],lastName:["",i.m.required],email:["",[i.m.required,i.m.pattern(this.emailPattern)]],password:["",[i.m.required,i.m.minLength(6)]]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.form.valid&&(console.log(this.form.value),this.auth.doRegister({email:this.form.value.email,password:this.form.value.password}).then(c=>{console.log(c),alert("Registration successful"),this.router.navigate(["/"])}).catch(c=>{console.log(c),this.error=c,alert("Error occured. Please try again")}))}}return c.\u0275fac=function(e){return new(e||c)(t.bc(o.a),t.bc(m.a),t.bc(n.c),t.bc(i.b),t.bc(n.a))},c.\u0275cmp=t.Vb({type:c,selectors:[["app-signup"]],decls:35,vars:19,consts:[[1,"row"],[1,"row","justify-content-sm-center"],[1,"col-sm-10","col-md-6"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["for","email"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../../login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(c,e){1&c&&(t.ec(0,"div",0),t.Gc(1," &nbsp"),t.dc(),t.ec(2,"div",1),t.ec(3,"div",2),t.ec(4,"div",3),t.ec(5,"h4",4),t.Gc(6,"Signup"),t.dc(),t.ec(7,"div",5),t.ec(8,"form",6),t.lc("ngSubmit",(function(){return e.onSubmit()})),t.ec(9,"div",7),t.ec(10,"label",8),t.Gc(11,"First Name"),t.dc(),t.cc(12,"input",9),t.Fc(13,b,2,1,"div",10),t.dc(),t.ec(14,"div",7),t.ec(15,"label",11),t.Gc(16,"Last Name"),t.dc(),t.cc(17,"input",12),t.Fc(18,g,2,1,"div",10),t.dc(),t.ec(19,"div",7),t.ec(20,"label",13),t.Gc(21,"Email"),t.dc(),t.cc(22,"input",14),t.Fc(23,v,2,1,"div",10),t.dc(),t.ec(24,"div",7),t.ec(25,"label",15),t.Gc(26,"Password"),t.dc(),t.cc(27,"input",16),t.Fc(28,P,3,2,"div",10),t.dc(),t.ec(29,"div",7),t.ec(30,"button",17),t.Fc(31,I,1,0,"span",18),t.Gc(32," Register "),t.dc(),t.ec(33,"a",19),t.Gc(34,"Cancel"),t.dc(),t.dc(),t.dc(),t.dc(),t.dc(),t.dc(),t.dc()),2&c&&(t.Pb(8),t.sc("formGroup",e.form),t.Pb(4),t.sc("ngClass",t.wc(11,N,e.submitted&&e.f.firstName.errors)),t.Pb(1),t.sc("ngIf",e.submitted&&e.f.firstName.errors),t.Pb(4),t.sc("ngClass",t.wc(13,N,e.submitted&&e.f.lastName.errors)),t.Pb(1),t.sc("ngIf",e.submitted&&e.f.lastName.errors),t.Pb(4),t.sc("ngClass",t.wc(15,N,e.submitted&&e.f.email.errors)),t.Pb(1),t.sc("ngIf",e.submitted&&e.f.email.errors),t.Pb(4),t.sc("ngClass",t.wc(17,N,e.submitted&&e.f.password.errors)),t.Pb(1),t.sc("ngIf",e.submitted&&e.f.password.errors),t.Pb(2),t.sc("disabled",e.loading),t.Pb(1),t.sc("ngIf",e.loading))},directives:[i.n,i.h,i.e,i.a,i.g,i.d,s.i,s.k,n.f],styles:[""]}),c})()}];let F=(()=>{class c{}return c.\u0275mod=t.Zb({type:c}),c.\u0275inj=t.Yb({factory:function(e){return new(e||c)},imports:[[n.g.forChild(G)],n.g]}),c})(),S=(()=>{class c{}return c.\u0275mod=t.Zb({type:c}),c.\u0275inj=t.Yb({factory:function(e){return new(e||c)},providers:[],imports:[[s.c,F,i.f,i.k]]}),c})()}}]);