(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))}}class s extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"05qF":function(t,e,n){"use strict";n.r(e),n.d(e,"RealtimeDatabaseURL",(function(){return r.c})),n.d(e,"DATABASE_URL",(function(){return r.a})),n.d(e,"\u0275ZoneScheduler",(function(){return r.h})),n.d(e,"\u0275BlockUntilFirstOperator",(function(){return r.g})),n.d(e,"\u0275AngularFireSchedulers",(function(){return r.f})),n.d(e,"\u0275keepUnstableUntilFirstFactory",(function(){return r.i})),n.d(e,"runOutsideAngular",(function(){return r.e})),n.d(e,"runInZone",(function(){return r.d})),n.d(e,"FirebaseZoneScheduler",(function(){return r.b})),n.d(e,"\u0275lazySDKProxy",(function(){return r.j})),n.d(e,"FirebaseOptionsToken",(function(){return i.f})),n.d(e,"FirebaseNameOrConfigToken",(function(){return i.e})),n.d(e,"FIREBASE_OPTIONS",(function(){return i.c})),n.d(e,"FIREBASE_APP_NAME",(function(){return i.b})),n.d(e,"FirebaseApp",(function(){return i.d})),n.d(e,"VERSION",(function(){return i.g})),n.d(e,"_firebaseAppFactory",(function(){return i.h})),n.d(e,"AngularFireModule",(function(){return i.a}));var r=n("XU1U"),i=n("Czum")},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("bHdf");function i(){return Object(r.a)(1)}},"1uah":function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return c}));var r=n("yCtX"),i=n("DH7j"),o=n("7o/Q"),s=n("Lhse"),a=n("zx2A");function u(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(r.a)(t,void 0).lift(new c(e))}class c{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new l(t,this.resultSelector))}}class l extends o.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(i.a)(t)?e.push(new f(t)):e.push("function"==typeof t[s.a]?new h(t[s.a]()):new d(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class h{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class f{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[s.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class d extends a.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[s.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(a.c)(this.observable,new a.a(this))}}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp");class o extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__await",(function(){return b})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return I})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return C})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:b(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function C(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"32Ea":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t){return e=>e.lift(new o(t))}class o{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new s(t,this.predicate))}}class s extends r.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}},"36mX":function(t,e,n){"use strict";n.r(e),n.d(e,"AngularFireDatabase",(function(){return R})),n.d(e,"RealtimeDatabaseURL",(function(){return O.c})),n.d(e,"DATABASE_URL",(function(){return O.a})),n.d(e,"URL",(function(){return O.a})),n.d(e,"listChanges",(function(){return b})),n.d(e,"createListReference",(function(){return x})),n.d(e,"snapshotChanges",(function(){return E})),n.d(e,"stateChanges",(function(){return I})),n.d(e,"auditTrail",(function(){return T})),n.d(e,"fromRef",(function(){return f})),n.d(e,"AngularFireDatabaseModule",(function(){return P}));var r=n("fXoL");function i(t){return null==t}function o(t){return"function"==typeof t.set}function s(t,e){return o(e)?e:t.ref(e)}function a(t,e){if("string"==typeof t)return e.stringCase();if(o(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}var u=n("D0XW"),c=n("HDdC"),l=n("lJxs"),h=n("w1tV");function f(t,e,n="on",r=u.b){return new c.a(i=>{let o=null;return o=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"==n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"==n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(Object(l.a)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(h.a)())}var d=n("LRne"),p=n("VRyK"),g=n("eIep"),m=n("Kqap"),v=n("/uUt");function b(t,e,n){return f(t,"value","once",n).pipe(Object(g.a)(r=>{const i=[Object(d.a)(r)];return e.forEach(e=>i.push(f(t,e,"on",n))),Object(p.a)(...i).pipe(Object(m.a)(_,[]))}),Object(v.a)())}function y(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function _(t,e){const{payload:n,prevKey:r,key:o}=e,s=y(t,o),a=function(t,e){if(i(e))return 0;{const n=y(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(s>-1){const i=t[s-1];(i&&i.key||null)!=r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(a,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(a,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===o?e:t);case"child_moved":if(s>-1){const e=t.splice(s,1)[0];return(t=t.slice()).splice(a,0,e),t}return t;default:return t}}function w(t){return(i(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function E(t,e,n){return b(t,e=w(e),n)}function I(t,e,n){const r=(e=w(e)).map(e=>f(t,e,"on",n));return Object(p.a)(...r)}var S=n("zp1y"),C=n("32Ea");function T(t,e,n){return function(t,e,n){return function(t,e){return f(t,"value","on",e).pipe(Object(l.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(Object(S.a)(e),Object(l.a)(([t,e])=>{let n=t.lastKeyToLoad;const r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),Object(C.a)(t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad)),Object(l.a)(t=>t.actions))}(t,I(t,e).pipe(Object(m.a)((t,e)=>[...t,e],[])),n)}function N(t,e){return function(n,r){return a(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function x(t,e){const n=e.schedulers.outsideAngular;return{query:t,update:N(t.ref,"update"),set:N(t.ref,"set"),push:e=>t.ref.push(e),remove:(r=t.ref,function(t){return t?a(t,{stringCase:()=>r.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):r.remove()}),snapshotChanges:r=>E(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>I(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>T(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:r=>E(t,r,n).pipe(e.keepUnstableUntilFirst,Object(l.a)(t=>t.map(t=>t.payload.val())))};var r}function k(t,e){return function(){return f(t,"value","on",e)}}var O=n("XU1U"),A=n("Czum");let R=(()=>{let t=class{constructor(t,e,n,r,i){this.schedulers=new O.f(i),this.keepUnstableUntilFirst=Object(O.i)(this.schedulers,r),this.database=i.runOutsideAngular(()=>Object(A.h)(t,i,e).database(n||void 0))}list(t,e){const n=s(this.database,t);let r=n;return e&&(r=e(n)),x(r,this)}object(t){const e=s(this.database,t);return r=this,{query:n=e,snapshotChanges:()=>k(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>k(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,Object(l.a)(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.database.ref().push().key}};return t.\u0275fac=function(e){return new(e||t)(r.Rb(A.c),r.Rb(A.b,8),r.Rb(O.a,8),r.Rb(r.B),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();n("NSPt");let P=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[R]}),t})()},"3E0/":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("D0XW"),i=n("mlxB"),o=n("7o/Q"),s=n("WMd4");function a(t,e=r.a){const n=Object(i.a)(t)?+t-e.now():Math.abs(t);return t=>t.lift(new u(n,e))}class u{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new c(t,this.delay,this.scheduler))}}class c extends o.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(c.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new l(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(s.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(s.a.createComplete()),this.unsubscribe()}}class l{constructor(t,e){this.time=t,this.notification=e}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"4XzM":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n("89kA")},"5+tZ":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return c}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const c=s},"5EfC":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("mrSG"),i=n("Wcq6"),o=n("2Vo4"),s=n("fXoL"),a=n("aECQ"),u=n("tyNb");let c=(()=>{class t{constructor(t,e){this.afAuth=t,this.router=e,this.loggedIn=new o.a(!1),this.user=t.authState,this.afAuth.authState.subscribe(t=>{t||localStorage.setItem("user",null)})}login(t,e){return Object(r.a)(this,void 0,void 0,(function*(){yield this.afAuth.auth.signInWithEmailAndPassword(t,e).then(e=>{console.log("Nice, it worked!"),this.loggedIn.next(!0),this.email=t,this.router.navigate(["/"])}).catch(t=>{this.loggedIn.next(!1),this.email=null,console.log("Something went wrong:",t.message),alert("Email or password is not correct!")})}))}register(t,e){return Object(r.a)(this,void 0,void 0,(function*(){yield this.afAuth.auth.createUserWithEmailAndPassword(t,e),this.sendEmailVerification()}))}sendEmailVerification(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.afAuth.auth.currentUser.sendEmailVerification(),this.router.navigate(["admin/verify-email"])}))}sendPasswordResetEmail(){return Object(r.a)(this,void 0,void 0,(function*(){return yield this.afAuth.auth.sendPasswordResetEmail(this.email.toString(),null).then(()=>{alert("Password reset email sent to your registered email id")},t=>{alert("Some Error happened, Please check with admin")})}))}logout(){return Object(r.a)(this,void 0,void 0,(function*(){this.loggedIn.next(!1),this.user=null,this.email=null,yield this.afAuth.auth.signOut(),localStorage.removeItem("user"),this.router.navigate(["/"])}))}get isLoggedIn(){return this.loggedIn.asObservable()}loginWithGoogle(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.afAuth.auth.signInWithPopup(new i.auth.GoogleAuthProvider),this.router.navigate(["/"])}))}doFacebookLogin(){return new Promise((t,e)=>{let n=new i.auth.FacebookAuthProvider;this.afAuth.auth.signInWithPopup(n).then(e=>{t(e)},t=>{console.log(t),e(t)})})}doGoogleLogin(){return new Promise((t,e)=>{let n=new i.auth.GoogleAuthProvider;n.addScope("profile"),n.addScope("email"),this.afAuth.auth.signInWithPopup(n).then(e=>{t(e)})})}doRegister(t){return new Promise((e,n)=>{i.auth().createUserWithEmailAndPassword(t.email,t.password).then(t=>{e(t)},t=>n(t))})}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(a.a),s.Rb(u.c))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"5yfJ":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r=n("HDdC"),i=n("KqfI");const o=new r.a(i.a);function s(){return o}},6233:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("36mX"))},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("30Go"),i=n("wj3C"),o=n("q/0M"),s=n("zVF4"),a=n("x7I3"),u=n("S+S0"),c=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(i),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),f=new o.Logger("@firebase/firestore");function d(){return f.logLevel}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.DEBUG){var i=e.map(v);f.debug.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.ERROR){var i=e.map(v);f.error.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.WARN){var i=e.map(v);f.warn.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function v(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function b(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function y(t,e){t||b()}function _(t,e){return t}function w(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function E(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var S=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&b(),void 0===n?n=t.length-e:n>t.length-e&&b(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return this.o(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.P=function(){return new e([])},e}(S),T=/^[_a-zA-Z][_a-zA-Z0-9]*$/,N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return T.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new h(l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new h(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new h(l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.P=function(){return new e([])},e}(S),x=function(){function t(t){this.path=t}return t.D=function(e){return new t(C.g(e))},t.C=function(e){return new t(C.g(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===C.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return C.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new C(e.slice()))},t}();function k(t,e){if(0!==e.length)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+K(e.length,"argument")+".")}function O(t,e,n){if(e.length!==n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function A(t,e,n){if(e.length<n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function R(t,e,n,r){if(e.length<n||e.length>r)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function P(t,e,n,r){U(t,e,G(n)+" argument",r)}function M(t,e,n,r){void 0!==r&&P(t,e,n,r)}function D(t,e,n,r){U(t,e,n+" option",r)}function L(t,e,n,r){void 0!==r&&D(t,e,n,r)}function j(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(q(u))}var c=q(r);throw new h(l.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function F(t,e,n,r){if(!e.some((function(t){return t===r})))throw new h(l.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+t+"() for its "+G(n)+" argument. Acceptable values: "+e.join(", "));return r}function U(t,e,n,r){if(!("object"===e?V(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=q(r);throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function V(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function q(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":b()}function H(t,e,n){if(void 0===n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+G(e)+" argument, but it was undefined.")}function B(t,e,n){E(e,(function(e,r){if(n.indexOf(e)<0)throw new h(l.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function W(t,e,n,r){var i=q(r);return new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+G(n)+" argument to be a "+e+", but it was: "+i)}function z(t,e,n){if(n<=0)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+G(e)+" argument to be a positive number, but it was: "+n+".")}function G(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}function Q(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Y=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Q(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function $(t,e){return t<e?-1:t>e?1:0}function X(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function J(t){return t+"\0"}var Z=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.M)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return $(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();Z.B=new Z("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(Z.fromBase64String(e))}catch(e){throw new h(l.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Z.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();function et(){if("undefined"==typeof Uint8Array)throw new h(l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nt(){if("undefined"==typeof atob)throw new h(l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.fromBase64String=function(t){O("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,t),nt();try{return new e(Z.fromBase64String(t))}catch(t){throw new h(l.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(O("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw W("Blob.fromUint8Array","Uint8Array",1,t);return new e(Z.fromUint8Array(t))},e.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),nt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return O("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),it=function(t,e,n,r,i,o){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o},ot=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return $(this.projectId,t.projectId)||$(this.database,t.database)},t}(),st=function(){function t(t,e){this.K=t,this.G=e,this.H={}}return t.prototype.get=function(t){var e=this.K(t),n=this.H[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.G(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.K(t),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.H[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.K(t),n=this.H[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],t))return 1===n.length?delete this.H[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){E(this.H,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.m=function(){return I(this.H)},t}(),at=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(t){return this.seconds===t.seconds?$(this.nanoseconds,t.nanoseconds):$(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ut=function(){function t(t){this.timestamp=t}return t.J=function(e){return new t(e)},t.min=function(){return new t(new at(0,0))},t.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();function ct(t){return null==t}function lt(t){return 0===t&&1/t==-1/0}function ht(t){return"number"==typeof t&&Number.isInteger(t)&&!lt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ft=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.tt=null};function dt(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ft(t,e,n,r,i,o,s)}function pt(t){var e=_(t);if(null===e.tt){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.R()+t.op.toString()+ie(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),ct(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=sr(e.startAt)),e.endAt&&(n+="|ub:",n+=sr(e.endAt)),e.tt=n}return e.tt}function gt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!hr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!te(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ur(t.startAt,e.startAt)&&ur(t.endAt,e.endAt)}function mt(t){return x.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}var vt,bt,yt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ut.min()),void 0===o&&(o=ut.min()),void 0===s&&(s=Z.B),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),_t=function(t){this.count=t};function wt(t){switch(t){case l.OK:return b();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0;default:return b()}}function Et(t){if(void 0===t)return g("GRPC error has no .code"),l.UNKNOWN;switch(t){case vt.OK:return l.OK;case vt.CANCELLED:return l.CANCELLED;case vt.UNKNOWN:return l.UNKNOWN;case vt.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case vt.INTERNAL:return l.INTERNAL;case vt.UNAVAILABLE:return l.UNAVAILABLE;case vt.UNAUTHENTICATED:return l.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case vt.NOT_FOUND:return l.NOT_FOUND;case vt.ALREADY_EXISTS:return l.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return l.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case vt.ABORTED:return l.ABORTED;case vt.OUT_OF_RANGE:return l.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return l.UNIMPLEMENTED;case vt.DATA_LOSS:return l.DATA_LOSS;default:return b()}}(bt=vt||(vt={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";var It=function(){function t(t,e){this.i=t,this.root=e||Ct.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,Ct.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,Ct.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new St(this.root,null,this.i,!1)},t.prototype.ft=function(t){return new St(this.root,t,this.i,!1)},t.prototype.dt=function(){return new St(this.root,null,this.i,!0)},t.prototype.wt=function(t){return new St(this.root,t,this.i,!0)},t}(),St=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),Ct=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw b();if(this.right.yt())throw b();var t=this.left.Nt();if(t!==this.right.Nt())throw b();return t+(this.yt()?0:1)},t}();Ct.EMPTY=null,Ct.RED=!0,Ct.at=!1,Ct.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw b()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new Ct(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var Tt=function(){function t(t){this.i=t,this.data=new It(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.Ft=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.$t=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new Nt(this.data._t())},t.prototype.ft=function(t){return new Nt(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),Nt=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),xt=new It(x.i);function kt(){return xt}function Ot(){return kt()}var At=new It(x.i);function Rt(){return At}var Pt=new It(x.i),Mt=new Tt(x.i);function Dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Mt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Lt=new Tt($);function jt(){return Lt}var Ft=function(){function t(t){this.i=t?function(e,n){return t(e,n)||x.i(e.key,n.key)}:function(t,e){return x.i(t.key,e.key)},this.Ot=Rt(),this.Lt=new It(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Ot.get(t)},t.prototype.get=function(t){return this.Ot.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(t){var e=this.Ot.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Ot=e,r.Lt=n,r},t}(),Ut=function(){function t(){this.qt=new It(x.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):b():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),Vt=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=s,this.Kt=a}return t.Gt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ft.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&zn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),qt=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,Ht.Zt(e,n)),new t(ut.min(),r,jt(),kt(),Dt())},t}(),Ht=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(Z.B,n,Dt(),Dt(),Dt())},t}(),Bt=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},Wt=function(t,e){this.targetId=t,this.oe=e},zt=function(t,e,n,r){void 0===n&&(n=Z.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Gt=function(){function t(){this.ae=0,this.ce=Yt(),this.ue=Z.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.O()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=Dt(),e=Dt(),n=Dt();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:b()}})),new Ht(this.ue,this.he,t,e,n)},t.prototype.me=function(){this.le=!1,this.ce=Yt()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Kt=function(){function t(t){this.ge=t,this.Pe=new Map,this.ye=kt(),this.Ve=Qt(),this.pe=new Tt($)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof kn?this.ve(r,t.re):t.re instanceof On&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Se(o[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.Fe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.Fe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.Fe(n)&&(e.xe(n),r.de(t.resumeToken));break;default:b()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Fe(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(mt(i))if(0===n){var o=new x(i.path);this.Se(e,o,new On(o,ut.min()))}else y(1===n);else this.Me(e)!==n&&(this.xe(e),this.pe=this.pe.add(e))}},t.prototype.Oe=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.ke(i);if(o){if(r.te&&mt(o.target)){var s=new x(o.target.path);null!==e.ye.get(s)||e.Le(i,s)||e.Se(i,s,new On(s,t))}r.fe&&(n.set(i,r.we()),r.me())}}));var r=Dt();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new qt(t,n,this.pe,this.ye,r);return this.ye=kt(),this.Ve=Qt(),this.pe=new Tt($),i},t.prototype.ve=function(t,e){if(this.Fe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.Fe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},t.prototype.Ie=function(t){this.Ne(t).Ie()},t.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new Gt,this.Pe.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new Tt($),this.Ve=this.Ve.ot(t,e)),e},t.prototype.Fe=function(t){var e=null!==this.ke(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new Gt),this.ge.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},t}();function Qt(){return new It(x.i)}function Yt(){return new It(x.i)}function $t(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xt(t){var e=oe(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}var Jt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$t(t)?4:10:b()}function te(t,e){var n=Zt(t);if(n!==Zt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xt(t).isEqual(Xt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=oe(t.timestampValue),r=oe(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ae(t.bytesValue).isEqual(ae(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return se(t.geoPointValue.latitude)===se(e.geoPointValue.latitude)&&se(t.geoPointValue.longitude)===se(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return se(t.integerValue)===se(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=se(t.doubleValue),r=se(e.doubleValue);return n===r?lt(n)===lt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return X(t.arrayValue.values||[],e.arrayValue.values||[],te);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(w(n)!==w(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!te(n[i],r[i])))return!1;return!0}(t,e);default:return b()}}function ee(t,e){return void 0!==(t.values||[]).find((function(t){return te(t,e)}))}function ne(t,e){var n=Zt(t),r=Zt(e);if(n!==r)return $(n,r);switch(n){case 0:return 0;case 1:return $(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=se(t.integerValue||t.doubleValue),r=se(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return re(t.timestampValue,e.timestampValue);case 4:return re(Xt(t),Xt(e));case 5:return $(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ae(t),r=ae(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=$(n[i],r[i]);if(0!==o)return o}return $(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=$(se(t.latitude),se(e.latitude));return 0!==n?n:$(se(t.longitude),se(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ne(n[i],r[i]);if(o)return o}return $(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=$(r[s],o[s]);if(0!==a)return a;var u=ne(n[r[s]],i[o[s]]);if(0!==u)return u}return $(r.length,o.length)}(t.mapValue,e.mapValue);default:throw b()}}function re(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $(t,e);var n=oe(t),r=oe(e),i=$(n.seconds,r.seconds);return 0!==i?i:$(n.nanos,r.nanos)}function ie(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=oe(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ae(e.bytesValue).toBase64():"referenceValue"in e?x.C(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):b();var n}(t)}function oe(t){if(y(!!t),"string"==typeof t){var e=0,n=Jt.exec(t);if(y(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:se(t.seconds),nanos:se(t.nanos)}}function se(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ae(t){return"string"==typeof t?Z.fromBase64String(t):Z.fromUint8Array(t)}function ue(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function ce(t){return!!t&&"integerValue"in t}function le(t){return!!t&&"arrayValue"in t}function he(t){return!!t&&"nullValue"in t}function fe(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function de(t){return!!t&&"mapValue"in t}var pe={asc:"ASCENDING",desc:"DESCENDING"},ge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},me=function(t,e){this.U=t,this.Qe=e};function ve(t){return{integerValue:""+t}}function be(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lt(e)?"-0":e}}function ye(t,e){return ht(e)?ve(e):be(t,e)}function _e(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function we(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function Ee(t,e){return _e(t,e.Z())}function Ie(t){return y(!!t),ut.J(function(t){var e=oe(t);return new at(e.seconds,e.nanos)}(t))}function Se(t,e){return function(t){return new C(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Ce(t){var e=C.g(t);return y(Ge(e)),e}function Te(t,e){return Se(t.U,e.path)}function Ne(t,e){var n=Ce(e);return y(n.get(1)===t.U.projectId),y(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new x(Ae(n))}function xe(t,e){return Se(t.U,e)}function ke(t){var e=Ce(t);return 4===e.length?C.P():Ae(e)}function Oe(t){return new C(["projects",t.U.projectId,"databases",t.U.database]).R()}function Ae(t){return y(t.length>4&&"documents"===t.get(4)),t.u(5)}function Re(t,e,n){return{name:Te(t,e),fields:n.proto.mapValue.fields}}function Pe(t,e){var n;if(e instanceof vn)n={update:Re(t,e.key,e.value)};else if(e instanceof In)n={delete:Te(t,e.key)};else if(e instanceof bn)n={update:Re(t,e.key,e.data),updateMask:ze(e.We)};else if(e instanceof _n)n={transform:{document:Te(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Xe)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Je)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof tn)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof nn)return{fieldPath:e.field.R(),increment:n.je};throw b()}(0,t)}))}};else{if(!(e instanceof Sn))return b();n={verify:Te(t,e.key)}}return e.Ge.Ke||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ee(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:b()}(t,e.Ge)),n}function Me(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?cn.updateTime(Ie(t.updateTime)):void 0!==t.exists?cn.exists(t.exists):cn.ze()}(e.currentDocument):cn.ze();if(e.update){var r=Ne(t,e.update.name),i=new Cn({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new sn((t.fieldPaths||[]).map((function(t){return N.S(t)})))}(e.updateMask);return new bn(r,i,o,n)}return new vn(r,i,n)}if(e.delete){var s=Ne(t,e.delete);return new In(s,n)}if(e.transform){var a=Ne(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(y("REQUEST_TIME"===e.setToServerValue),n=new Xe):"appendMissingElements"in e?n=new Je(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new tn(e.removeAllFromArray.values||[]):"increment"in e?n=new nn(t,e.increment):b();var r=N.S(e.fieldPath);return new an(r,n)}(t,e)}));return y(!0===n.exists),new _n(a,u)}if(e.verify){var c=Ne(t,e.verify);return new Sn(c,n)}return b()}function De(t,e){return{documents:[xe(t,e.path)]}}function Le(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=xe(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xe(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(fe(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NAN"}};if(he(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fe(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NOT_NAN"}};if(he(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qe(t.field),op:Ve(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:qe(t.field),direction:Ue(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Qe||ct(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=je(e.startAt)),e.endAt&&(n.structuredQuery.endAt=je(e.endAt)),n}function je(t){return{before:t.before,values:t.position}}function Fe(t){return new or(t.values||[],!!t.before)}function Ue(t){return pe[t]}function Ve(t){return ge[t]}function qe(t){return{fieldPath:t.R()}}function He(t){return N.S(t.fieldPath)}function Be(t){return $n.create(He(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return b()}}(t.fieldFilter.op),t.fieldFilter.value)}function We(t){switch(t.unaryFilter.op){case"IS_NAN":var e=He(t.unaryFilter.field);return $n.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=He(t.unaryFilter.field);return $n.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=He(t.unaryFilter.field);return $n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=He(t.unaryFilter.field);return $n.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return b()}}function ze(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function Ge(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ke=function(){this.He=void 0};function Qe(t,e,n){return t instanceof Xe?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Je?Ze(t,e):t instanceof tn?en(t,e):function(t,e){var n=$e(t,e),r=rn(n)+rn(t.je);return ce(n)&&ce(t.je)?ve(r):be(t.serializer,r)}(t,e)}function Ye(t,e,n){return t instanceof Je?Ze(t,e):t instanceof tn?en(t,e):n}function $e(t,e){return t instanceof nn?ce(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Ke),Je=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ke);function Ze(t,e){for(var n=on(e),r=function(t){n.some((function(e){return te(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ke);function en(t,e){for(var n=on(e),r=function(t){n=n.filter((function(e){return!te(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.je=n,r}return r.__extends(e,t),e}(Ke);function rn(t){return se(t.integerValue||t.doubleValue)}function on(t){return le(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var sn=function(){function t(t){this.fields=t,t.sort(N.i)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return X(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),an=function(t,e){this.field=t,this.transform=e},un=function(t,e){this.version=t,this.transformResults=e},cn=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ln(t,e){return void 0!==t.updateTime?e instanceof kn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof kn}var hn=function(){};function fn(t,e,n){return t instanceof vn?function(t,e,n){return new kn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof bn?function(t,e,n){if(!ln(t.Ge,e))return new An(t.key,n.version);var r=yn(t,e);return new kn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof _n?function(t,e,n){if(y(null!=n.transformResults),!ln(t.Ge,e))return new An(t.key,n.version);var r=wn(0,e),i=function(t,e,n){var r=[];y(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof kn&&(a=e.field(o.field)),r.push(Ye(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=En(t,r.data(),i);return new kn(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new On(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function dn(t,e,n,r){return t instanceof vn?function(t,e){if(!ln(t.Ge,e))return e;var n=mn(e);return new kn(t.key,n,t.value,{Je:!0})}(t,e):t instanceof bn?function(t,e){if(!ln(t.Ge,e))return e;var n=mn(e),r=yn(t,e);return new kn(t.key,n,r,{Je:!0})}(t,e):t instanceof _n?function(t,e,n,r){if(!ln(t.Ge,e))return e;var i=wn(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof kn&&(c=n.field(a.field)),null===c&&r instanceof kn&&(c=r.field(a.field)),i.push(Qe(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=En(t,i.data(),o);return new kn(t.key,i.version,s,{Je:!0})}(t,e,r,n):function(t,e){return ln(t.Ge,e)?new On(t.key,ut.min()):e}(t,e)}function pn(t,e){return t instanceof _n?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof kn?e.field(o.field):void 0,a=$e(o.transform,s||null);null!=a&&(n=null==n?(new Tn).set(o.field,a):n.set(o.field,a))}return n?n.Xe():null}(t,e):null}function gn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||X(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Je&&e instanceof Je||t instanceof tn&&e instanceof tn?X(t.elements,e.elements,te):t instanceof nn&&e instanceof nn?te(t.je,e.je):t instanceof Xe&&e instanceof Xe}(t.transform,e.transform)}(t,e)})))}function mn(t){return t instanceof kn?t.version:ut.min()}var vn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return r.__extends(e,t),e}(hn),bn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.We=r,o.Ge=i,o.type=1,o}return r.__extends(e,t),e}(hn);function yn(t,e){return function(t,e){var n=new Tn(e);return t.We.fields.forEach((function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof kn?e.data():Cn.empty())}var _n=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=cn.exists(!0),r}return r.__extends(e,t),e}(hn);function wn(t,e){return e}function En(t,e,n){for(var r=new Tn(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var In=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return r.__extends(e,t),e}(hn),Sn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return r.__extends(e,t),e}(hn),Cn=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!de(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return te(this.proto,t.proto)},t}(),Tn=function(){function t(t){void 0===t&&(t=Cn.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Zt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Xe=function(){var t=this.nn(N.P(),this.tn);return null!=t?new Cn(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=de(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.nn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Nn(t){var e=[];return E(t.fields||{},(function(t,n){var r=new N([t]);if(de(n)){var i=Nn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new sn(e)}var xn=function(t,e){this.key=t,this.version=e},kn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(xn),On=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(xn),An=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(xn),Rn=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=s,this.endAt=a,this.cn=null,this.un=null};function Pn(t,e,n,r,i,o,s,a){return new Rn(t,e,n,r,i,o,s,a)}function Mn(t){return new Rn(t)}function Dn(t){return!ct(t.limit)&&"F"===t.an}function Ln(t){return!ct(t.limit)&&"L"===t.an}function jn(t){return t.on.length>0?t.on[0].field:null}function Fn(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function Un(t){return null!==t.collectionGroup}function Vn(t){var e=_(t);if(null===e.cn){e.cn=[];var n=Fn(e),r=jn(e);if(null!==n&&null===r)n.p()||e.cn.push(new cr(n)),e.cn.push(new cr(N.v(),"asc"));else{for(var i=!1,o=0,s=e.on;o<s.length;o++){var a=s[o];e.cn.push(a),a.field.p()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new cr(N.v(),u))}}}return e.cn}function qn(t){var e=_(t);if(!e.un)if("F"===e.an)e.un=dt(e.path,e.collectionGroup,Vn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Vn(e);r<i.length;r++){var o=i[r];n.push(new cr(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new or(e.endAt.position,!e.endAt.before):null,a=e.startAt?new or(e.startAt.position,!e.startAt.before):null;e.un=dt(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.un}function Hn(t,e,n){return new Rn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bn(t,e){return new Rn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function Wn(t,e){return new Rn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function zn(t,e){return gt(qn(t),qn(e))&&t.an===e.an}function Gn(t){return pt(qn(t))+"|lt:"+t.an}function Kn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+ie(e.value);var e})).join(", ")+"]"),ct(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+sr(t.startAt)),t.endAt&&(e+=", endAt: "+sr(t.endAt)),"Target("+e+")"}(qn(t))+"; limitType="+t.an+")"}function Qn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):x.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ar(t.startAt,Vn(t),e)||t.endAt&&ar(t.endAt,Vn(t),e))}(t,e)}function Yn(t){return function(e,n){for(var r=!1,i=0,o=Vn(t);i<o.length;i++){var s=o[i],a=lr(s,e,n);if(0!==a)return a;r=r||s.field.p()}return 0}}var $n=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.ln(t,n,r):new Xn(t,n,r);if(he(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(fe(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new er(t,r):"in"===n?new nr(t,r):"not-in"===n?new rr(t,r):"array-contains-any"===n?new ir(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new Jn(t,n):new Zn(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(ne(e,this.value)):null!==e&&Zt(this.value)===Zt(e)&&this._n(ne(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return b()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Xn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=x.C(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=x.i(t.key,this.key);return this._n(e)},e}($n),Jn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}($n),Zn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}($n);function tr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return x.C(t.referenceValue)}))}var er=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return le(e)&&ee(e.arrayValue,this.value)},e}($n),nr=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ee(this.value.arrayValue,e)},e}($n),rr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){if(ee(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ee(this.value.arrayValue,e)},e}($n),ir=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!le(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ee(e.value.arrayValue,t)}))},e}($n),or=function(t,e){this.position=t,this.before=e};function sr(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ie(t)})).join(",")}function ar(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.p()?x.i(x.C(s.referenceValue),n.key):ne(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ur(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!te(t.position[n],e.position[n]))return!1;return!0}var cr=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function lr(t,e,n){var r=t.field.p()?x.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ne(r,i):b()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return b()}}function hr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},dr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(t){var e=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),pr=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&b(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.Fn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.xn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),gr=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.On(s.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return p("SimpleDb","Removing database:",t),wr(window.indexedDB.deleteDatabase(t)).Fn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=s.getUA(),n=t.On(e),r=0<n&&n<10,i=t.qn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Qn=function(t,e){return t.store(e)},t.On=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Wn=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new vr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new h(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new vr(t,n))},i.onupgradeneeded=function(t){p("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){p("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return n.jn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,c;return r.__generator(this,(function(l){switch(l.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,c,l,h;return r.__generator(this,(function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Wn(t)];case 2:return u.db=r.sent(),e=yr.open(u.db,t,o?"readonly":"readwrite",n),a=i(e).catch((function(t){return e.abort(t),pr.reject(t)})).Fn(),c={},a.catch((function(){})),[4,e.Gn];case 3:return[2,(c.value=(r.sent(),a),c)];case 4:return p("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),mr=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return wr(this.zn.delete())},t}(),vr=function(t){function e(e,n){var r=this;return(r=t.call(this,l.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return r.__extends(e,t),e}(h);function br(t){return"IndexedDbTransactionError"===t.name}var yr=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new fr,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new vr(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=Ir(e.target.error);n.Zn.reject(new vr(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new vr(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new _r(e)},t}(),_r=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),wr(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),wr(this.store.add(t))},t.prototype.get=function(t){var e=this;return wr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),wr(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),wr(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new pr((function(n,r){e.onerror=function(t){var e=Ir(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new pr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new mr(i),s=e(i.primaryKey,i.value,o);if(s instanceof pr){var a=s.catch((function(t){return o.done(),pr.reject(t)}));n.push(a)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return pr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function wr(t){return new pr((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ir(t.target.error);n(e)}}))}var Er=!1;function Ir(t){var e=gr.On(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Er||(Er=!0,setTimeout((function(){throw r}),0)),r}}return t}function Sr(){return"undefined"!=typeof window?window:null}function Cr(){return"undefined"!=typeof document?document:null}var Tr=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new fr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new h(l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),Nr=function(){function t(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new dr(this,"async_queue_retry"),this.Vs=function(){var e=Cr();e&&p("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=Cr();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=Cr();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Es.push(t),e.Ns()}))},t.prototype.Ns=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!br(t=n.sent()))throw t;return p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Es.length>0&&this.ys.gn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Ts.then((function(){return e.gs=!0,t().catch((function(t){throw e.Rs=t,e.gs=!1,g("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gs=!1,t}))}));return this.Ts=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.Ps.indexOf(t)>-1&&(e=0);var i=Tr._s(this,t,e,n,(function(t){return r.Fs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&b()},t.prototype.xs=function(){},t.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.$s().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.$s()}))},t.prototype.Os=function(t){this.Ps.push(t)},t.prototype.Fs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function xr(t,e){if(g("AsyncQueue",e+": "+t),br(t))return new h(l.UNAVAILABLE,e+": "+t);throw t}var kr=function(){this.Ls=void 0,this.listeners=[]},Or=function(){this.Bs=new st((function(t){return Gn(t)}),zn),this.onlineState="Unknown",this.qs=new Set};function Ar(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=_(t),o=!1,(s=n.Bs.get(i=e.query))||(o=!0,s=new kr),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.Us(i)];case 2:return a.Ls=r.sent(),[3,4];case 3:return u=r.sent(),c=xr(u,"Initialization of query '"+Kn(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Bs.set(i,s),s.listeners.push(e),e.Qs(n.onlineState),s.Ls&&e.Ws(s.Ls)&&Dr(n),[2]}}))}))}function Rr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){return n=_(t),o=!1,(s=n.Bs.get(i=e.query))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.Bs.delete(i),n.js(i))]:[2]}))}))}function Pr(t,e){for(var n=_(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.Bs.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Ws(s)&&(r=!0);a.Ls=s}}r&&Dr(n)}function Mr(t,e,n){var r=_(t),i=r.Bs.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Bs.delete(e)}function Dr(t){t.qs.forEach((function(t){t.next()}))}var Lr=function(){function t(t,e,n){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Vt(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.Ks.error(t)},t.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.m()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.jt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=Vt.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},t}(),jr=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();jr.UNAUTHENTICATED=new jr(null),jr.ei=new jr("google-credentials-uid"),jr.ni=new jr("first-party-uid");var Fr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function Ur(t,e){return"firestore_clients_"+t+"_"+e}function Vr(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function qr(t,e){return"firestore_targets_"+t+"_"+e}Fr.ai=-1;var Hr=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ci=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new h(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(g("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Br=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ci=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new h(r.error.code,r.error.message)),i?new t(e,r.state,o):(g("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ci=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=jt(),s=0;i&&s<r.activeTargetIds.length;++s)i=ht(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(g("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),zr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ci=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(g("SharedClientState","Failed to parse online state: "+e),null)},t}(),Gr=function(){function t(){this.activeTargetIds=jt()}return t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Kr=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new It($),this.Ei=!1,this.Ii=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Ur(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Gr),this.gi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Vi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,u,c,l,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._i&&(o=this.getItem(Ur(this.persistenceKey,i)))&&(s=Wr.ci(i,o))&&(this.Ti=this.Ti.ot(s.clientId,s));for(this.bi(),(a=this.storage.getItem(this.Vi))&&(u=this.vi(a))&&this.Si(u),c=0,l=this.Ii;c<l.length;c++)this.mi(l[c]);return this.Ii=[],this.window.addEventListener("unload",(function(){return h.Di()})),this.Ei=!0,[2]}}))}))},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(t){var e=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xi=function(t){this.$i(t,"pending")},t.prototype.ki=function(t,e,n){this.$i(t,e,n),this.Mi(t)},t.prototype.Oi=function(t){var e="not-current";if(this.Fi(t)){var n=this.storage.getItem(qr(this.persistenceKey,t));if(n){var r=Br.ci(t,n);r&&(e=r.state)}}return this.Li.hi(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(qr(this.persistenceKey,t))},t.prototype.Qi=function(t,e,n){this.Wi(t,e,n)},t.prototype.ji=function(t,e,n){var r=this;e.forEach((function(t){r.Mi(t)})),this.currentUser=t,n.forEach((function(t){r.xi(t)}))},t.prototype.Ki=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.mi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,o,s,a;return r.__generator(this,(function(r){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Yi(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Ji(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(o=this.Zi(n.key,n.newValue)))return[2,this.tr(o)]}else if(n.key===this.Vi){if(null!==n.newValue&&(s=this.vi(n.newValue)))return[2,this.Si(s)]}else n.key===this.Ri&&(a=function(t){var e=Fr.ai;if(null!=t)try{var n=JSON.parse(t);y("number"==typeof n),e=n}catch(t){g("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Fr.ai&&this.si(a)}else this.Ii.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(t,e,n){var r=new Hr(this.currentUser,t,e,n),i=Vr(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ui())},t.prototype.Mi=function(t){var e=Vr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:t}))},t.prototype.Wi=function(t,e,n){var r=qr(this.persistenceKey,t),i=new Br(t,e,n);this.setItem(r,i.ui())},t.prototype.zi=function(t){var e=this.gi.exec(t);return e?e[1]:null},t.prototype.Yi=function(t,e){var n=this.zi(t);return Wr.ci(n,e)},t.prototype.Ji=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]);return Hr.ci(new jr(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Zi=function(t,e){var n=this.yi.exec(t),r=Number(n[1]);return Br.ci(r,e)},t.prototype.vi=function(t){return zr.ci(t)},t.prototype.Xi=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fi.sr(s,a).then((function(){n.Ti=r}))},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=jt();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),Qr=function(){function t(){this.ir=new Gr,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(t){},t.prototype.ki=function(t,e,n){},t.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},t.prototype.Qi=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Gr,Promise.resolve()},t.prototype.ji=function(t,e,n){},t.prototype.Ki=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),Yr=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.cr=function(t,e,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=fn(o,e,r[i]))}return e},t.prototype.hr=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=dn(i,e,e,this.ar))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=dn(u,e,o,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.hr(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Dt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&X(this.mutations,t.mutations,(function(t,e){return gn(t,e)}))&&X(this.baseMutations,t.baseMutations,(function(t,e){return gn(t,e)}))},t}(),$r=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.ur=n,this.dr=r}return t.from=function(e,n,r){y(e.mutations.length===r.length);for(var i=Pt,o=e.mutations,s=0;s<o.length;s++)i=i.ot(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Xr=function(){function t(){this.wr=new st((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.Ir();var n=this.wr.get(e);return void 0!==n?pr.resolve(n):this.gr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},t.prototype.Ir=function(){},t}(),Jr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zr=function(){function t(){this.Vr=[]}return t.prototype.pr=function(t){this.Vr.push(t)},t.prototype.br=function(){this.Vr.forEach((function(t){return t()}))},t}(),ti=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next((function(r){return n.Fr(t,e,r)}))},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].hr(e,t);return t}))},t.prototype.$r=function(t,e,n){var r=Ot();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].hr(t,e);r=r.ot(t,e)})),r},t.prototype.kr=function(t,e){var n=this;return this.vr.getEntries(t,e).next((function(e){return n.Mr(t,e)}))},t.prototype.Mr=function(t,e){var n=this;return this.Sr.Or(t,e).next((function(r){var i=n.$r(t,e,r),o=kt();return i.forEach((function(t,e){e||(e=new On(t,ut.min())),o=o.ot(t,e)})),o}))},t.prototype.Lr=function(t,e,n){return function(t){return x.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):Un(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new x(e)).next((function(t){var e=Rt();return t instanceof kn&&(e=e.ot(t.key,t)),e}))},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=Rt();return this.Dr.Qr(t,i).next((function(s){return pr.forEach(s,(function(s){var a=function(t,e){return new Rn(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,s.child(i));return r.Ur(t,a,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next((function(n){return r=n,o.Sr.Wr(t,e)})).next((function(e){return o.jr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=dn(u,l,l,o.ar);r=h instanceof kn?r.ot(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Qn(e,n)||(r=r.remove(t))})),r}))},t.prototype.jr=function(t,e,n){for(var r=Dt(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof bn&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.vr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof kn&&(c=c.ot(t,e))})),c}))},t}(),ei=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Kr=n,this.Gr=r}return t.zr=function(e,n){for(var r=Dt(),i=Dt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function ni(t,e){var n=t[1],r=e[1],i=$(t[0],e[0]);return 0===i?$(n,r):i}var ri=function(){function t(t){this.Hr=t,this.buffer=new Tt(ni),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(t){var e=[t,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ni(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ii={Zr:!1,eo:0,no:0,so:0},oi=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();oi.ho=-1,oi.lo=1048576,oi._o=41943040,oi.co=10,oi.uo=1e3,oi.fo=new oi(oi._o,oi.co,oi.uo),oi.do=new oi(oi.ho,0,0);var si=function(){function t(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==oi.ho&&this.Eo(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t){var e=this,n=this.mo?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return br(e=n.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,To(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ai=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yo=function(t,e){var n=this;if(0===e)return pr.resolve(Fr.ai);var r=new ri(e);return this.Ao.Ce(t,(function(t){return r.Xr(t.sequenceNumber)})).next((function(){return n.Ao.Vo(t,(function(t){return r.Xr(t)}))})).next((function(){return r.maxValue}))},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===oi.ho?(p("LruGarbageCollector","Garbage collection skipped; disabled"),pr.resolve(ii)):this.So(t).next((function(r){return r<n.params.io?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),ii):n.Do(t,e)}))},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,r,i,s,a,u,c,l=this,h=Date.now();return this.Ro(t,this.params.ro).next((function(e){return e>l.params.oo?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.oo+" from "+e),r=l.params.oo):r=e,s=Date.now(),l.yo(t,r)})).next((function(r){return n=r,a=Date.now(),l.po(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.bo(t,n)})).next((function(t){return c=Date.now(),d()<=o.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),pr.resolve({Zr:!0,eo:r,no:i,so:t})}))},t}();function ui(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=li(e)),e=ci(t.get(n),e);return li(e)}function ci(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function li(t){return t+"\x01\x01"}function hi(t){var e=t.length;if(y(e>=2),2===e)return y("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),C.P();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&b(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:b()}o=s+2}return new C(r)}var fi=function(t){this.Co=t};function di(t,e){if(e.document)return function(t,e,n){var r=Ne(t,e.name),i=Ie(e.updateTime),o=new Cn({mapValue:{fields:e.fields}});return new kn(r,i,o,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=x.$(e.noDocument.path),r=bi(e.noDocument.readTime);return new On(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=x.$(e.unknownDocument.path),o=bi(e.unknownDocument.version);return new An(i,o)}return b()}function pi(t,e,n){var r=gi(n),i=e.key.path.h().A();if(e instanceof kn){var o=function(t,e){return{name:Te(t,e.key),fields:e.rn().mapValue.fields,updateTime:_e(t,e.version.Z())}}(t.Co,e);return new Wi(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof On){var s=e.key.path.A(),a=vi(e.version),u=e.hasCommittedMutations;return new Wi(null,new Hi(s,a),null,u,r,i)}if(e instanceof An){var c=e.key.path.A(),l=vi(e.version);return new Wi(new Bi(c,l),null,null,!0,r,i)}return b()}function gi(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function mi(t){var e=new at(t[0],t[1]);return ut.J(e)}function vi(t){var e=t.Z();return new ji(e.seconds,e.nanoseconds)}function bi(t){var e=new at(t.seconds,t.nanoseconds);return ut.J(e)}function yi(t,e){var n=(e.baseMutations||[]).map((function(e){return Me(t.Co,e)})),r=e.mutations.map((function(e){return Me(t.Co,e)})),i=at.fromMillis(e.localWriteTimeMs);return new Yr(e.batchId,i,n,r)}function _i(t){var e,n,r=bi(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?bi(t.lastLimboFreeSnapshotVersion):ut.min();return void 0!==t.query.documents?(y(1===(n=t.query).documents.length),e=qn(Mn(ke(n.documents[0])))):e=function(t){var e=ke(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){y(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[We(e)]:void 0!==e.fieldFilter?[Be(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):b():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new cr(He(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ct(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Fe(n.startAt));var l=null;return n.endAt&&(l=Fe(n.endAt)),qn(Pn(e,i,a,s,u,"F",c,l))}(t.query),new yt(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Z.fromBase64String(t.resumeToken))}function wi(t,e){var n,r=vi(e.nt),i=vi(e.lastLimboFreeSnapshotVersion);n=mt(e.target)?De(t.Co,e.target):Le(t.Co,e.target);var o=e.resumeToken.toBase64();return new Gi(e.targetId,pt(e.target),r,o,e.sequenceNumber,i,n)}var Ei=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.Fo={}}return t.xo=function(e,n,r,i){return y(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ci(t).rs({index:Vi.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.ko=function(t,e,n,r){var i=this,o=Ti(t),s=Ci(t);return s.add({}).next((function(a){y("number"==typeof a);for(var u=new Yr(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Pe(t.Co,e)})),i=n.mutations.map((function(e){return Pe(t.Co,e)}));return new Vi(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Tt((function(t,e){return $(t.R(),e.R())})),f=0,d=r;f<d.length;f++){var p=d[f],g=qi.key(i.userId,p.key.path,a);h=h.add(p.key.path.h()),l.push(s.put(c)),l.push(o.put(g,qi.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Dr.Mo(t,e))})),t.pr((function(){i.Fo[a]=u.keys()})),pr.$n(l).next((function(){return u}))}))},t.prototype.Oo=function(t,e){var n=this;return Ci(t).get(e).next((function(t){return t?(y(t.userId===n.userId),yi(n.serializer,t)):null}))},t.prototype.Lo=function(t,e){var n=this;return this.Fo[e]?pr.resolve(this.Fo[e]):this.Oo(t,e).next((function(t){if(t){var r=t.keys();return n.Fo[e]=r,r}return null}))},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ci(t).rs({index:Vi.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(y(e.batchId>=r),o=yi(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ci(t).rs({index:Vi.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ci(t).ts(Vi.userMutationsIndex,n).next((function(t){return t.map((function(t){return yi(e.serializer,t)}))}))},t.prototype.Nr=function(t,e){var n=this,r=qi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ti(t).rs({range:i},(function(r,i,s){var a=r[0],u=r[2],c=hi(r[1]);if(a===n.userId&&e.path.isEqual(c))return Ci(t).get(u).next((function(t){if(!t)throw b();y(t.userId===n.userId),o.push(yi(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.Or=function(t,e){var n=this,r=new Tt($),i=[];return e.forEach((function(e){var o=qi.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ti(t).rs({range:s},(function(t,i,o){var s=t[0],a=t[2],u=hi(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),pr.$n(i).next((function(){return n.Qo(t,r)}))},t.prototype.Wr=function(t,e){var n=this,r=e.path,i=r.length+1,o=qi.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Tt($);return Ti(t).rs({range:s},(function(t,e,o){var s=t[0],u=t[2],c=hi(t[1]);s===n.userId&&r.T(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Qo(t,a)}))},t.prototype.Qo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ci(t).get(e).next((function(t){if(null===t)throw b();y(t.userId===n.userId),r.push(yi(n.serializer,t))})))})),pr.$n(i).next((function(){return r}))},t.prototype.Wo=function(t,e){var n=this;return Si(t.jo,this.userId,e).next((function(r){return t.pr((function(){n.Ko(e.batchId)})),pr.forEach(r,(function(e){return n.No.Go(t,e)}))}))},t.prototype.Ko=function(t){delete this.Fo[t]},t.prototype.zo=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return pr.resolve();var r=IDBKeyRange.lowerBound(qi.prefixForUser(e.userId)),i=[];return Ti(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=hi(t[1]);i.push(o)}else r.done()})).next((function(){y(0===i.length)}))}))},t.prototype.Ho=function(t,e){return Ii(t,this.userId,e)},t.prototype.Yo=function(t){var e=this;return Ni(t).get(this.userId).next((function(t){return t||new Ui(e.userId,-1,"")}))},t}();function Ii(t,e,n){var r=qi.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ti(t).rs({range:o,ss:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Si(t,e,n){var r=t.store(Vi.store),i=t.store(qi.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.rs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){y(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=qi.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return pr.$n(o).next((function(){return c}))}function Ci(t){return uo.Qn(t,Vi.store)}function Ti(t){return uo.Qn(t,qi.store)}function Ni(t){return uo.Qn(t,Ui.store)}var xi=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Er=function(t,e,n){return Ai(t).put(Ri(e),n)},t.prototype.Ar=function(t,e){var n=Ai(t),r=Ri(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jo(t,r)}))},t.prototype.Rr=function(t,e){var n=this;return Ai(t).get(Ri(e)).next((function(t){return n.Xo(t)}))},t.prototype.Zo=function(t,e){var n=this;return Ai(t).get(Ri(e)).next((function(t){var e=n.Xo(t);return e?{ta:e,size:Pi(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return this.ea(t,e,(function(t,e){var i=n.Xo(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype.na=function(t,e){var n=this,r=Ot(),i=new It(x.i);return this.ea(t,e,(function(t,e){var o=n.Xo(e);o?(r=r.ot(t,o),i=i.ot(t,Pi(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{sa:r,ia:i}}))},t.prototype.ea=function(t,e,n){if(e.m())return pr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e._t(),o=i.It();return Ai(t).rs({range:r},(function(t,e,r){for(var s=x.$(t);o&&x.i(o,s)<0;)n(o,null),o=i.It();o&&o.isEqual(s)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},t.prototype.Lr=function(t,e,n){var r=this,i=Rt(),o=e.path.length+1,s={};if(n.isEqual(ut.min())){var a=e.path.A();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.A(),c=gi(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Wi.collectionReadTimeIndex}return Ai(t).rs(s,(function(t,n,s){if(t.length===o){var a=di(r.serializer,n);e.path.T(a.key.path)?a instanceof kn&&Qn(e,a)&&(i=i.ot(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.ra=function(t){return new ki(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Oi(t).get(zi.key).next((function(t){return y(!!t),t}))},t.prototype.Jo=function(t,e){return Oi(t).put(zi.key,e)},t.prototype.Xo=function(t){if(t){var e=di(this.serializer,t);return e instanceof On&&e.version.isEqual(ut.min())?null:e}return null},t}(),ki=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ca=e,r.oa=n,r.ua=new st((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new Tt((function(t,e){return $(t.R(),e.R())}));return this.wr.forEach((function(o,s){var a=e.ua.get(o);if(s){var u=pi(e.ca.serializer,s,e.readTime);i=i.add(o.path.h());var c=Pi(u);r+=c-a,n.push(e.ca.Er(t,o,u))}else if(r-=a,e.oa){var l=pi(e.ca.serializer,new On(o,ut.min()),e.readTime);n.push(e.ca.Er(t,o,l))}else n.push(e.ca.Ar(t,o))})),i.forEach((function(r){n.push(e.ca.Dr.Mo(t,r))})),n.push(this.ca.updateMetadata(t,r)),pr.$n(n)},e.prototype.gr=function(t,e){var n=this;return this.ca.Zo(t,e).next((function(t){return null===t?(n.ua.set(e,0),null):(n.ua.set(e,t.size),t.ta)}))},e.prototype.Pr=function(t,e){var n=this;return this.ca.na(t,e).next((function(t){var e=t.sa;return t.ia.forEach((function(t,e){n.ua.set(t,e)})),e}))},e}(Xr);function Oi(t){return uo.Qn(t,zi.store)}function Ai(t){return uo.Qn(t,Wi.store)}function Ri(t){return t.path.A()}function Pi(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw b();e=t.noDocument}return JSON.stringify(e).length}var Mi=function(){function t(){this.ha=new Di}return t.prototype.Mo=function(t,e){return this.ha.add(e),pr.resolve()},t.prototype.Qr=function(t,e){return pr.resolve(this.ha.getEntries(e))},t}(),Di=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new Tt(C.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Tt(C.i)).A()},t}(),Li=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;y(n<r&&n>=0&&r<=10);var o=new yr("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Fi.store)}(t),function(t){t.createObjectStore(Ui.store,{keyPath:Ui.keyPath}),t.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(qi.store)}(t),$i(t),function(t){t.createObjectStore(Wi.store)}(t));var s=pr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ki.store),t.deleteObjectStore(Gi.store),t.deleteObjectStore(Qi.store)}(t),$i(t)),s=s.next((function(){return function(t){var e=t.store(Qi.store),n=new Qi(0,0,ut.min().Z(),0);return e.put(Qi.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Vi.store).ts().next((function(n){t.deleteObjectStore(Vi.store),t.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0});var r=e.store(Vi.store),i=n.map((function(t){return r.put(t)}));return pr.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Xi.store,{keyPath:Xi.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(zi.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Wi.store);e.createIndex(Wi.readTimeIndex,Wi.readTimeIndexPath,{unique:!1}),e.createIndex(Wi.collectionReadTimeIndex,Wi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Wi.store).rs((function(t,n){e+=Pi(n)})).next((function(){var n=new zi(e);return t.store(zi.store).put(zi.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ui.store),r=t.store(Vi.store);return n.ts().next((function(n){return pr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Vi.userMutationsIndex,i).next((function(r){return pr.forEach(r,(function(r){y(r.userId===n.userId);var i=yi(e.serializer,r);return Si(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ki.store),n=t.store(Wi.store);return t.store(Qi.store).get(Qi.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new C(n),s=function(t){return[0,ui(t)]}(o);r.push(e.get(s).next((function(n){return n?pr.resolve():function(n){return e.put(new Ki(0,ui(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return pr.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Yi.store,{keyPath:Yi.keyPath});var n=e.store(Yi.store),r=new Di,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:ui(i)})}};return e.store(Wi.store).rs({ss:!0},(function(t,e){var n=new C(t);return i(n.h())})).next((function(){return e.store(qi.store).rs({ss:!0},(function(t,e){var n=hi(t[1]);return i(n.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Gi.store);return n.rs((function(t,r){var i=_i(r),o=wi(e.serializer,i);return n.put(o)}))},t}(),ji=function(t,e){this.seconds=t,this.nanoseconds=e},Fi=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fi.store="owner",Fi.key="owner";var Ui=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ui.store="mutationQueues",Ui.keyPath="userId";var Vi=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Vi.store="mutations",Vi.keyPath="batchId",Vi.userMutationsIndex="userMutationsIndex",Vi.userMutationsKeyPath=["userId","batchId"];var qi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ui(e)]},t.key=function(t,e,n){return[t,ui(e),n]},t}();qi.store="documentMutations",qi.PLACEHOLDER=new qi;var Hi=function(t,e){this.path=t,this.readTime=e},Bi=function(t,e){this.path=t,this.version=e},Wi=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Wi.store="remoteDocuments",Wi.readTimeIndex="readTimeIndex",Wi.readTimeIndexPath="readTime",Wi.collectionReadTimeIndex="collectionReadTimeIndex",Wi.collectionReadTimeIndexPath=["parentPath","readTime"];var zi=function(t){this.byteSize=t};zi.store="remoteDocumentGlobal",zi.key="remoteDocumentGlobalKey";var Gi=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Gi.store="targets",Gi.keyPath="targetId",Gi.queryTargetsIndexName="queryTargetsIndex",Gi.queryTargetsKeyPath=["canonicalId","targetId"];var Ki=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ki.store="targetDocuments",Ki.keyPath=["targetId","path"],Ki.documentTargetsIndex="documentTargetsIndex",Ki.documentTargetsKeyPath=["path","targetId"];var Qi=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qi.key="targetGlobalKey",Qi.store="targetGlobal";var Yi=function(t,e){this.collectionId=t,this.parent=e};function $i(t){t.createObjectStore(Ki.store,{keyPath:Ki.keyPath}).createIndex(Ki.documentTargetsIndex,Ki.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gi.store,{keyPath:Gi.keyPath}).createIndex(Gi.queryTargetsIndexName,Gi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Qi.store)}Yi.store="collectionParents",Yi.keyPath=["collectionId","parent"];var Xi=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Xi.store="clientMetadata",Xi.keyPath="clientId";var Ji=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Ui.store,Vi.store,qi.store,Wi.store,Gi.store,Fi.store,Qi.store,Ki.store],[Xi.store]),[zi.store]),[Yi.store]),Zi=function(){function t(){this.la=new Di}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e._(),i=e.h();t.pr((function(){n.la.add(e)}));var o={collectionId:r,parent:ui(i)};return to(t).put(o)}return pr.resolve()},t.prototype.Qr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[J(e),""],!1,!0);return to(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(hi(o.parent))}return n}))},t}();function to(t){return uo.Qn(t,Yi.store)}var eo=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),no=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.ma(t).next((function(n){var r=new eo(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ea=function(t){return this.ma(t).next((function(t){return ut.J(new at(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ia=function(t){return this.ma(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Aa=function(t,e,n){var r=this;return this.ma(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Z()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)}))},t.prototype.Ra=function(t,e){var n=this;return this.ga(t,e).next((function(){return n.ma(t).next((function(r){return r.targetCount+=1,n.Pa(e,r),n.Ta(t,r)}))}))},t.prototype.ya=function(t,e){return this.ga(t,e)},t.prototype.Va=function(t,e){var n=this;return this.pa(t,e.targetId).next((function(){return ro(t).delete(e.targetId)})).next((function(){return n.ma(t)})).next((function(e){return y(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)}))},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return ro(t).rs((function(s,a){var u=_i(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Va(t,u)))})).next((function(){return pr.$n(o)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return ro(t).rs((function(t,n){var r=_i(n);e(r)}))},t.prototype.ma=function(t){return io(t).get(Qi.key).next((function(t){return y(null!==t),t}))},t.prototype.Ta=function(t,e){return io(t).put(Qi.key,e)},t.prototype.ga=function(t,e){return ro(t).put(wi(this.serializer,e))},t.prototype.Pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.ma(t).next((function(t){return t.targetCount}))},t.prototype.va=function(t,e){var n=pt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ro(t).rs({range:r,index:Gi.queryTargetsIndexName},(function(t,n,r){var o=_i(n);gt(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Sa=function(t,e,n){var r=this,i=[],o=oo(t);return e.forEach((function(e){var s=ui(e.path);i.push(o.put(new Ki(n,s))),i.push(r.No.Da(t,n,e))})),pr.$n(i)},t.prototype.Ca=function(t,e,n){var r=this,i=oo(t);return pr.forEach(e,(function(e){var o=ui(e.path);return pr.$n([i.delete([n,o]),r.No.Na(t,n,e)])}))},t.prototype.pa=function(t,e){var n=oo(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Fa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=oo(t),i=Dt();return r.rs({range:n,ss:!0},(function(t,e,n){var r=hi(t[1]),o=new x(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ho=function(t,e){var n=ui(e.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),i=0;return oo(t).rs({index:Ki.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return ro(t).get(e).next((function(t){return t?_i(t):null}))},t}();function ro(t){return uo.Qn(t,Gi.store)}function io(t){return uo.Qn(t,Qi.store)}function oo(t){return uo.Qn(t,Ki.store)}var so="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ao=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jo=e,r.xa=n,r}return r.__extends(e,t),e}(Zr),uo=function(){function t(e,n,r,i,o,s,a,u,c,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=s,this.document=a,this.$a=c,this.ka=f,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!t.Ln())throw new h(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new ho(this,i),this.Wa=n+"main",this.serializer=new fi(u),this.ja=new gr(this.Wa,10,new Li(this.serializer)),this.Ka=new no(this.No,this.serializer),this.Dr=new Zi,this.vr=function(t,e){return new xi(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===f&&g("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(t,e){if(t instanceof ao)return gr.Qn(t.jo,e);throw b()},t.prototype.start=function(){var t=this;return this.za().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,so);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ka.Ia(e)}))})).then((function(e){t.Ma=new Fr(e,t.$a)})).then((function(){t.Oa=!0})).catch((function(e){return t.ja&&t.ja.close(),Promise.reject(e)}))},t.prototype.Xa=function(t){var e=this;return this.Qa=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Ei?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.ja.Kn((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return lo(e).put(new Xi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ec(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.Qa(!1)})))}))})).next((function(){return t.nc(e)})).next((function(n){return t.isPrimary&&!n?t.sc(e).next((function(){return!1})):!!n&&t.ic(e).next((function(){return!0}))}))})).catch((function(e){if(br(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.Qa(e)})),t.isPrimary=e}))},t.prototype.ec=function(t){var e=this;return co(t).get(Fi.key).next((function(t){return pr.resolve(e.rc(t))}))},t.prototype.oc=function(t){return lo(t).delete(this.clientId)},t.prototype.ac=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Qn(e,Xi.store);return n.ts().next((function(t){var e=o.uc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return pr.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Ga)for(n=0,i=e;n<i.length;n++)this.Ga.removeItem(this.hc(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.za().then((function(){return t.ac()})).then((function(){return t.Ja()}))}))},t.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nc=function(t){var e=this;return this.ka?pr.resolve(!0):co(t).get(Fi.key).next((function(n){if(null!==n&&e.cc(n.leaseTimestampMs,5e3)&&!e.lc(n.ownerId)){if(e.rc(n)&&e.networkEnabled)return!0;if(!e.rc(n)){if(!n.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,so);return!1}}return!(!e.networkEnabled||!e.inForeground)||lo(t).ts().next((function(t){return void 0===e.uc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Di=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Fi.store,Xi.store],(function(e){var n=new ao(e,Fr.ai);return t.sc(n).next((function(){return t.oc(n)}))}))];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}}))}))},t.prototype.uc=function(t,e){var n=this;return t.filter((function(t){return n.cc(t.updateTimeMs,e)&&!n.lc(t.clientId)}))},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return lo(e).ts().next((function(e){return t.uc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Ei.xo(t,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return p("IndexedDbPersistence","Starting transaction:",t),this.ja.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ji,(function(o){return r=new ao(o,i.Ma?i.Ma.next():Fr.ai),"readwrite-primary"===e?i.ec(r).next((function(t){return!!t||i.nc(r)})).next((function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.Qa(!1)})),new h(l.FAILED_PRECONDITION,Jr);return n(r)})).next((function(t){return i.ic(r).next((function(){return t}))})):i.Ac(r).next((function(){return n(r)}))})).then((function(t){return r.br(),t}))},t.prototype.Ac=function(t){var e=this;return co(t).get(Fi.key).next((function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new h(l.FAILED_PRECONDITION,so)}))},t.prototype.ic=function(t){var e=new Fi(this.clientId,this.allowTabSynchronization,Date.now());return co(t).put(Fi.key,e)},t.Ln=function(){return gr.Ln()},t.prototype.sc=function(t){var e=this,n=co(t);return n.get(Fi.key).next((function(t){return e.rc(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(Fi.key)):pr.resolve()}))},t.prototype.cc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(g("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws((function(){return e.Di()}))},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return p("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return g("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){g("Failed to set zombie client id.",r)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},t.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function co(t){return uo.Qn(t,Fi.store)}function lo(t){return uo.Qn(t,Xi.store)}var ho=function(){function t(t,e){this.db=t,this.wo=new ai(this,e)}return t.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Rc=function(t){var e=0;return this.Vo(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},t.prototype.Vo=function(t,e){return this.gc(t,(function(t,n){return e(n)}))},t.prototype.Da=function(t,e,n){return fo(t,n)},t.prototype.Na=function(t,e,n){return fo(t,n)},t.prototype.po=function(t,e,n){return this.db.Tc().po(t,e,n)},t.prototype.Go=function(t,e){return fo(t,e)},t.prototype.Pc=function(t,e){return function(t,e){var n=!1;return Ni(t).os((function(r){return Ii(t,r,e).next((function(t){return t&&(n=!0),pr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.bo=function(t,e){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(t,(function(s,a){if(a<=e){var u=n.Pc(t,s).next((function(e){if(!e)return o++,r.Rr(t,s).next((function(){return r.Ar(s),oo(t).delete([0,ui(s.path)])}))}));i.push(u)}})).next((function(){return pr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.xa);return this.db.Tc().ya(t,n)},t.prototype.yc=function(t,e){return fo(t,e)},t.prototype.gc=function(t,e){var n,r=oo(t),i=Fr.ai;return r.rs({index:Ki.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Fr.ai&&e(new x(hi(n)),i),i=s,n=o):i=Fr.ai})).next((function(){i!==Fr.ai&&e(new x(hi(n)),i)}))},t.prototype.So=function(t){return this.db.Ec().aa(t)},t}();function fo(t,e){return oo(t).put(function(t,e){return new Ki(0,ui(t.path),e)}(e,t.xa))}function po(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var go=function(){function t(t,e,n){this.persistence=t,this.Vc=e,this.bc=new It($),this.vc=new st((function(t){return pt(t)}),gt),this.Sc=ut.min(),this.Sr=t.mc(n),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new ti(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.vo(n,e.bc)}))},t}();function mo(t,e){var n=_(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Dc.ra({oa:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=pr.resolve();return o.forEach((function(t){s=s.next((function(){return r.Rr(e,t)})).next((function(e){var o=e,s=n.dr.get(t);y(null!==s),(!o||o.version.L(s)<0)&&(o=i.cr(t,o,n))&&r.Er(o,n._r)}))})),s.next((function(){return t.Sr.Wo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}function vo(t){var e=_(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ka.Ea(t)}))}function bo(t,e){var n=_(t),r=e.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Dc.ra({oa:!0});i=n.bc;var s=[];e.zt.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.Ka.Ca(t,e.se,o).next((function(){return n.Ka.Sa(t,e.ee,o)})));var u=e.resumeToken;if(u.O()>0){var c=a.it(u,r).st(t.xa);i=i.ot(o,c),function(t,e,n){return y(e.resumeToken.O()>0),0===t.resumeToken.O()||e.nt.X()-t.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,c,e)&&s.push(n.Ka.ya(t,c))}}}));var a=kt(),u=Dt();if(e.Yt.forEach((function(t,e){u=u.add(t)})),s.push(o.getEntries(t,u).next((function(i){e.Yt.forEach((function(u,c){var l=i.get(u);c instanceof On&&c.version.isEqual(ut.min())?(o.Ar(u,r),a=a.ot(u,c)):null==l||c.version.L(l.version)>0||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Er(c,r),a=a.ot(u,c)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Jt.has(u)&&s.push(n.persistence.No.yc(t,u))}))}))),!r.isEqual(ut.min())){var c=n.Ka.Ea(t).next((function(e){return n.Ka.Aa(t,t.xa,r)}));s.push(c)}return pr.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Cc.Mr(t,a)}))})).then((function(t){return n.bc=i,t}))}function yo(t,e){var n=_(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)}))}function _o(t,e){var n=_(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ka.va(t,e).next((function(i){return i?pr.resolve(r=i):n.Ka.wa(t).next((function(i){return r=new yt(e,i,0,t.xa),n.Ka.Ra(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.bc.get(t.targetId);return(null===r||t.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(t.targetId,t),n.vc.set(e,t.targetId)),t}))}function wo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:i=_(t),o=i.bc.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,(function(t){return i.persistence.No.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!br(a=r.sent()))throw a;return p("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.bc=i.bc.remove(e),i.vc.delete(o.target),[2]}}))}))}function Eo(t,e,n){var r=_(t),i=ut.min(),o=Dt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=_(t),i=r.vc.get(n);return void 0!==i?pr.resolve(r.bc.get(i)):r.Ka.va(e,n)}(r,t,qn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ka.Fa(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Vc.Lr(t,e,n?i:ut.min(),n?o:Dt())})).next((function(t){return{documents:t,Fc:o}}))}))}function Io(t,e){var n=_(t),r=_(n.Ka),i=n.bc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function So(t){var e=_(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=_(t),i=kt(),o=gi(n),s=Ai(e),a=IDBKeyRange.lowerBound(o,!0);return s.rs({index:Wi.readTimeIndex,range:a},(function(t,e){var n=di(r.serializer,e);i=i.ot(n.key,n),o=e.readTime})).next((function(){return{xc:i,readTime:mi(o)}}))}(e.Dc,t,e.Sc)})).then((function(t){var n=t.xc;return e.Sc=t.readTime,n}))}function Co(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return[2,(e=_(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Ai(t),n=ut.min();return e.rs({index:Wi.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=mi(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Sc=t}))]}))}))}function To(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==l.FAILED_PRECONDITION||t.message!==Jr)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var No=function(){function t(){this.$c=new Tt(xo.kc),this.Mc=new Tt(xo.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(t,e){var n=new xo(t,e);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},t.prototype.Lc=function(t,e){var n=this;t.forEach((function(t){return n.Da(t,e)}))},t.prototype.Na=function(t,e){this.Bc(new xo(t,e))},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Na(t,e)}))},t.prototype.Uc=function(t){var e=this,n=new x(new C([])),r=new xo(n,t),i=new xo(n,t+1),o=[];return this.Mc.Ft([r,i],(function(t){e.Bc(t),o.push(t.key)})),o},t.prototype.Qc=function(){var t=this;this.$c.forEach((function(e){return t.Bc(e)}))},t.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},t.prototype.Wc=function(t){var e=new x(new C([])),n=new xo(e,t),r=new xo(e,t+1),i=Dt();return this.Mc.Ft([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ho=function(t){var e=new xo(t,0),n=this.$c.$t(e);return null!==n&&t.isEqual(n.key)},t}(),xo=function(){function t(t,e){this.key=t,this.jc=e}return t.kc=function(t,e){return x.i(t.key,e.key)||$(t.jc,e.jc)},t.Oc=function(t,e){return $(t.jc,e.jc)||x.i(t.key,e.key)},t}(),ko=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},Oo=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(t){this.Gc=t,t(jr.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),Ao=function(){function t(t){var e=this;this.Jc=null,this.currentUser=jr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then((function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Zc!==e?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(y("string"==typeof n.accessToken),new ko(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return y(null===t||"string"==typeof t),new jr(t)},t}(),Ro=function(){function t(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=jr.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Po=function(){function t(t,e){this.eu=t,this.nu=e}return t.prototype.getToken=function(){return Promise.resolve(new Ro(this.eu,this.nu))},t.prototype.Hc=function(t){t(jr.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),Mo=function(){function t(t,e,n,r,i,o){this.fn=t,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new dr(t,e)}return t.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.hu()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return t.fu()})))},t.prototype.du=function(t){this.wu(),this.stream.send(t)},t.prototype.fu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.uu()?[2,this.close(0)]:[2]}))}))},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===l.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===l.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(e){t.ou===n&&t.Iu(e)}),(function(n){e((function(){var e=new h(l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Au(e)}))}))},t.prototype.Iu=function(t){var e=this,n=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu((function(){n((function(){return e.state=2,e.listener.gu()}))})),this.stream.Tu((function(t){n((function(){return e.Au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.hu=function(){var t=this;this.state=4,this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Au=function(t){return p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Eu=function(t){var e=this;return function(n){e.fn.ws((function(){return e.ou===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Do=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return r.__extends(e,t),e.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:b()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Qe?(y(void 0===e||"string"==typeof e),Z.fromBase64String(e||"")):(y(void 0===e||e instanceof Uint8Array),Z.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?l.UNKNOWN:Et(t.code);return new h(e,t.message||"")}(s);n=new zt(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=Ne(t,u.document.name),f=Ie(u.document.updateTime),d=new Cn({mapValue:{fields:u.document.fields}}),p=new kn(c,f,d,{});n=new Bt(u.targetIds||[],u.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){var g=e.documentDelete,m=Ne(t,g.document),v=g.readTime?Ie(g.readTime):ut.min(),_=new On(m,v);n=new Bt([],g.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){var w=e.documentRemove,E=Ne(t,w.document);n=new Bt([],w.removedTargetIds||[],E,null)}else{if(!("filter"in e))return b();var I=e.filter,S=new _t(I.count||0);n=new Wt(I.targetId,S)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ut.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ut.min():e.readTime?Ie(e.readTime):ut.min()}(t);return this.listener.yu(e,n)},e.prototype.Vu=function(t){var e={};e.database=Oe(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=mt(r)?{documents:De(t,r)}:{query:Le(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=we(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return b()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.du(e)},e.prototype.pu=function(t){var e={};e.database=Oe(this.serializer),e.removeTarget=t,this.du(e)},e}(Mo),Lo=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.bu=!1,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(t){return this.iu.Pu("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=function(t,e){return t&&t.length>0?(y(void 0!==e),t.map((function(t){return function(t,e){var n=Ie(t.updateTime?t.updateTime:e);n.isEqual(ut.min())&&(n=Ie(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new un(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ie(t.commitTime);return this.listener.Du(n,e)}return y(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var t={};t.database=Oe(this.serializer),this.du(t)},e.prototype.Su=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Pe(e.serializer,t)}))};this.du(n)},e}(Mo),jo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.iu=n,i.serializer=r,i.Fu=!1,i}return r.__extends(e,t),e.prototype.xu=function(){if(this.Fu)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.ku=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.terminate=function(){this.Fu=!1},e}((function(){})),Fo=function(){function t(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()})))},t.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},t.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},t.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(g(e),this.Lu=!1):p("OnlineStateTracker",e)},t.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t}(),Uo=function(t,e,n,i,o){var s=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=o,this.Xu.Zu((function(t){n.ws((function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return Yo(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=_(t)).Yu.add(4),[4,qo(e)];case 1:return n.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,Vo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.th=new Fo(n,i)};function Vo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:if(!Yo(t))return[3,4];e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function qo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ho(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=_(t),p("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,qo(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}}))}))}function Bo(t,e){var n=_(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),Qo(n)?Ko(n):ls(n).uu()&&zo(n,e))}function Wo(t,e){var n=_(t),r=ls(n);n.Hu.delete(e),r.uu()&&Go(n,e),0===n.Hu.size&&(r.uu()?r._u():Yo(n)&&n.th.set("Unknown"))}function zo(t,e){t.eh.Ie(e.targetId),ls(t).Vu(e)}function Go(t,e){t.eh.Ie(e),ls(t).pu(e)}function Ko(t){t.eh=new Kt({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),ls(t).start(),t.th.Bu()}function Qo(t){return Yo(t)&&!ls(t).cu()&&t.Hu.size>0}function Yo(t){return 0===_(t).Yu.size}function $o(t){t.eh=void 0}function Xo(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.Hu.forEach((function(e,n){zo(t,e)})),[2]}))}))}function Jo(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return $o(t),Qo(t)?(t.th.Qu(e),Ko(t)):t.th.set("Unknown"),[2]}))}))}function Zo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s;return r.__generator(this,(function(a){switch(a.label){case 0:if(t.th.set("Online"),!(e instanceof zt&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.Hu.has(s=o[i])?[4,t.Gu.nh(s,n)]:[3,3]:[3,5];case 2:r.sent(),t.Hu.delete(s),t.eh.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,ts(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Bt?t.eh.be(e):e instanceof Wt?t.eh.$e(e):t.eh.De(e),n.isEqual(ut.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,vo(t.ju)];case 8:return o=a.sent(),n.L(o)>=0?[4,function(t,e){var n=t.eh.Oe(e);return n.zt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Hu.get(r);i&&t.Hu.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Hu.get(e);if(n){t.Hu.set(e,n.it(Z.B,n.nt)),Go(t,e);var r=new yt(n.target,e,1,n.sequenceNumber);zo(t,r)}})),t.Gu.sh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,ts(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function ts(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){switch(o.label){case 0:if(!br(e))throw e;return t.Yu.add(1),[4,qo(t)];case 1:return o.sent(),t.th.set("Offline"),n||(n=function(){return vo(t.ju)}),t.cs.Cs((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Yu.delete(1),[4,Vo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function es(t,e){return e().catch((function(n){return ts(t,n,e)}))}function ns(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:e=_(t),n=hs(e),i=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Yo(t)&&t.zu.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,yo(e.ju,i)];case 3:return null===(o=r.sent())?(0===e.zu.length&&n._u(),[3,7]):(i=o.batchId,function(t,e){t.zu.push(e);var n=hs(t);n.uu()&&n.vu&&n.Su(e.mutations)}(e,o),[3,6]);case 4:return s=r.sent(),[4,ts(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return rs(e)&&is(e),[2]}}))}))}function rs(t){return Yo(t)&&!hs(t).cu()&&t.zu.length>0}function is(t){hs(t).start()}function os(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return hs(t).Nu(),[2]}))}))}function ss(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i;return r.__generator(this,(function(r){for(e=hs(t),n=0,i=t.zu;n<i.length;n++)e.Su(i[n].mutations);return[2]}))}))}function as(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return i=t.zu.shift(),o=$r.from(i,e,n),[4,es(t,(function(){return t.Gu.ih(o)}))];case 1:return r.sent(),[4,ns(t)];case 2:return r.sent(),[2]}}))}))}function us(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return e&&hs(t).vu?[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return wt(i=e.code)&&i!==l.ABORTED?(n=t.zu.shift(),hs(t).lu(),[4,es(t,(function(){return t.Gu.rh(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,ns(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return rs(t)&&is(t),[2]}}))}))}function cs(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),e?(n.Yu.delete(2),[4,Vo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,qo(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ls(t){var e=this;return t.oh||(t.oh=function(t,e,n){var r=_(t);return r.xu(),new Do(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:Xo.bind(null,t),Tu:Jo.bind(null,t),yu:Zo.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.oh.lu(),Qo(t)?Ko(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:e.sent(),$o(t),e.label=3;case 3:return[2]}}))}))}))),t.oh}function hs(t){var e=this;return t.ah||(t.ah=function(t,e,n){var r=_(t);return r.xu(),new Lo(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:os.bind(null,t),Tu:us.bind(null,t),Cu:ss.bind(null,t),Du:as.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.ah.lu(),[4,ns(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:e.sent(),t.zu.length>0&&(p("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),e.label=4;case 4:return[2]}}))}))}))),t.ah}var fs=function(t){this.key=t},ds=function(t){this.key=t},ps=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Dt(),this.Wt=Dt(),this._h=Yn(t),this.fh=new Ft(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.mh:new Ut,i=e?e.fh:this.fh,o=e?e.Wt:this.Wt,s=i,a=!1,u=Dn(this.query)&&i.size===this.query.limit?i.last():null,c=Ln(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof kn?e:null;h&&(h=Qn(n.query,h)?h:null);var f=!!l&&n.Wt.has(l.key),d=!!h&&(h.Je||n.Wt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Th(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n._h(h,u)>0||c&&n._h(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Dn(this.query)||Ln(this.query))for(;s.size>this.query.limit;){var l=Dn(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fh:s,mh:r,Eh:a,Wt:o}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.yr=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Wt=t.Wt;var o=t.mh.Ut();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return b()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)})),this.Ih(n);var s=e?this.Ah():[],a=0===this.lh.size&&this.te?1:0,u=a!==this.hh;return this.hh=a,0!==o.length||u?{snapshot:new Vt(this.query,t.fh,i,o,t.Wt,0===a,u,!1),Rh:s}:{Rh:s}},t.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new Ut,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Dt(),this.fh.forEach((function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new ds(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new fs(t))})),n},t.prototype.Ph=function(t){this.uh=t.Fc,this.lh=Dt();var e=this.wh(t.documents);return this.yr(e,!0)},t.prototype.yh=function(){return Vt.Gt(this.query,this.fh,this.Wt,0===this.hh)},t}(),gs=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ms=function(t){this.key=t,this.Vh=!1},vs=function(){function t(t,e,n,r,i,o){this.ju=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new st((function(t){return Gn(t)}),zn),this.Fh=new Map,this.xh=[],this.$h=new It(x.i),this.kh=new Map,this.Mh=new No,this.Oh={},this.Lh=new Map,this.Bh=eo.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function bs(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=Ws(t),(o=n.Nh.get(e))?(n.Sh.Oi(o.targetId),i=o.view.yh(),[3,4]):[3,1];case 1:return[4,_o(n.ju,qn(e))];case 2:return s=r.sent(),a=n.Sh.Oi(s.targetId),[4,ys(n,e,s.targetId,"current"===a)];case 3:i=r.sent(),n.Uh&&Bo(n.ph,s),r.label=4;case 4:return[2,i]}}))}))}function ys(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,c,l;return r.__generator(this,(function(h){switch(h.label){case 0:return t.Qh=function(e,n,i){return function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=e.view.wh(n)).Eh?[4,Eo(t.ju,e.query,!1).then((function(t){return e.view.wh(t.documents,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.zt.get(e.targetId),a=e.view.yr(o,t.Uh,s),[2,(Os(t,e.targetId,a.Rh),a.snapshot)]}}))}))}(t,e,n,i)},[4,Eo(t.ju,e,!0)];case 1:return o=h.sent(),s=new ps(e,o.Fc),a=s.wh(o.documents),u=Ht.Zt(n,i&&"Offline"!==t.onlineState),c=s.yr(a,t.Uh,u),Os(t,n,c.Rh),l=new gs(e,n,s),[2,(t.Nh.set(e,l),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),c.snapshot)]}}))}))}function _s(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=n.Nh.get(e),(o=n.Fh.get(i.targetId)).length>1?[2,(n.Fh.set(i.targetId,o.filter((function(t){return!zn(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(i.targetId),n.Sh.Fi(i.targetId)?[3,2]:[4,wo(n.ju,i.targetId,!1).then((function(){n.Sh.Ui(i.targetId),Wo(n.ph,i.targetId),xs(n,i.targetId)})).catch(To)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return xs(n,i.targetId),[4,wo(n.ju,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function ws(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,bo(n.ju,e)];case 2:return i=r.sent(),e.zt.forEach((function(t,e){var r=n.kh.get(e);r&&(y(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?y(r.Vh):t.se.size>0&&(y(r.Vh),r.Vh=!1))})),[4,Ps(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,To(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Es(t,e,n){var r=_(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Qs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=_(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Qs(e)&&(r=!0)})),r&&Dr(n)}(r.bh,e),i.length&&r.Ch.yu(i),r.onlineState=e,r.Uh&&r.Sh.Ki(e)}}function Is(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=_(t)).Sh.Qi(e,"rejected",n),o=i.kh.get(e),(s=o&&o.key)?(a=(a=new It(x.i)).ot(s,new On(s,ut.min())),u=Dt().add(s),c=new qt(ut.min(),new Map,new Tt($),a,u),[4,ws(i,c)]):[3,2];case 1:return r.sent(),i.$h=i.$h.remove(s),i.kh.delete(e),Rs(i),[3,4];case 2:return[4,wo(i.ju,e,!1).then((function(){return xs(i,e,n)})).catch(To)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Ss(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,mo(n.ju,e)];case 2:return o=r.sent(),Ns(n,i,null),Ts(n,i),n.Sh.ki(i,"acknowledged"),[4,Ps(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,To(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Cs(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:i=_(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=_(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Sr.Oo(t,e).next((function(e){return y(null!==e),r=e.keys(),n.Sr.Wo(t,e)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}(i.ju,e)];case 2:return o=r.sent(),Ns(i,e,n),Ts(i,e),i.Sh.ki(e,"rejected",n),[4,Ps(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,To(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ts(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function Ns(t,e,n){var r=_(t),i=r.Oh[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Oh[r.currentUser.ti()]=i}}function xs(t,e,n){void 0===n&&(n=null),t.Sh.Bi(e);for(var r=0,i=t.Fh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Wh(o,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach((function(e){t.Mh.Ho(e)||ks(t,e)}))}function ks(t,e){var n=t.$h.get(e);null!==n&&(Wo(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),Rs(t))}function Os(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof fs?(t.Mh.Da(o.key,e),As(t,o)):o instanceof ds?(p("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Na(o.key,e),t.Mh.Ho(o.key)||ks(t,o.key)):b()}}function As(t,e){var n=e.key;t.$h.get(n)||(p("SyncEngine","New document in limbo: "+n),t.xh.push(n),Rs(t))}function Rs(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new ms(e)),t.$h=t.$h.ot(e,n),Bo(t.ph,new yt(qn(Mn(e.path)),n,2,Fr.ai))}}function Ps(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(u){switch(u.label){case 0:return i=_(t),o=[],s=[],a=[],i.Nh.m()?[3,3]:(i.Nh.forEach((function(t,r){a.push(i.Qh(r,e,n).then((function(t){if(t){i.Uh&&i.Sh.Qi(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=ei.zr(r.targetId,t);s.push(e)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),i.Ch.yu(o),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return pr.forEach(e,(function(e){return pr.forEach(e.Kr,(function(r){return n.persistence.No.Da(t,e.targetId,r)})).next((function(){return pr.forEach(e.Gr,(function(r){return n.persistence.No.Na(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!br(i=r.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.bc.get(u),l=c.rt(c.nt),n.bc=n.bc.ot(u,l));return[2]}}))}))}(i.ju,s)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Ms(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(o){switch(o.label){case 0:return(n=_(t)).currentUser.isEqual(e)?[3,3]:(p("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=n.Sr,o=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.Sr.Uo(t).next((function(s){return r=s,i=n.persistence.mc(e),o=new ti(n.Dc,i,n.persistence.Ic()),i.Uo(t)})).next((function(e){for(var n=[],i=[],s=Dt(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return o.kr(t,s).next((function(t){return{jh:t,Kh:n,Gh:i}}))}))}))];case 1:return s=r.sent(),[2,(n.Sr=i,n.Cc=o,n.Vc.Nc(n.Cc),s)]}}))}))}(n.ju,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.Lh.forEach((function(t){t.forEach((function(t){t.reject(new h(l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lh.clear()}(n),n.Sh.ji(e,i.Kh,i.Gh),[4,Ps(n,i.jh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Ds(t,e){var n=_(t),r=n.kh.get(e);if(r&&r.Vh)return Dt().add(r.key);var i=Dt(),o=n.Fh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Nh.get(a[s]);i=i.kt(u.view.dh)}return i}function Ls(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,Eo((n=_(t)).ju,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ph(i),[2,(n.Uh&&Os(n,e.targetId,o.Rh),o)]}}))}))}function js(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=_(t),r=_(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Lo(t,e).next((function(e){return e?n.Cc.kr(t,e):pr.resolve(null)}))}))}((o=_(t)).ju,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,ns(o.ph)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ns(o,e,i||null),Ts(o,e),function(t,e){_(_(t).Sr).Ko(e)}(o.ju,e)):b(),r.label=4;case 4:return[4,Ps(o,s)];case 5:return r.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Fs(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return Ws(n=_(t)),zs(n),!0!==e||!0===n.qh?[3,3]:(i=n.Sh.Ci(),[4,Us(n,i.A())]);case 1:return o=r.sent(),n.qh=!0,[4,cs(n.ph,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)Bo(n.ph,a[s]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(u=[],c=Promise.resolve(),n.Fh.forEach((function(t,e){n.Sh.qi(e)?u.push(e):c=c.then((function(){return xs(n,e),wo(n.ju,e,!0)})),Wo(n.ph,e)})),[4,c]);case 4:return r.sent(),[4,Us(n,u)];case 5:return r.sent(),function(t){var e=_(t);e.kh.forEach((function(t,n){Wo(e.ph,n)})),e.Mh.Qc(),e.kh=new Map,e.$h=new It(x.i)}(n),n.qh=!1,[4,cs(n.ph,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Us(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l,h,f,d,p,g;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(c=void 0,(l=n.Fh.get(u=a[s]))&&0!==l.length?[4,_o(n.ju,qn(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.Nh.get(f[h]),[4,Ls(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Io(n.ju,u)];case 8:return g=r.sent(),[4,_o(n.ju,g)];case 9:return c=r.sent(),[4,ys(n,Vs(g),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Ch.yu(o),i)]}}))}))}function Vs(t){return Pn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function qs(t){var e=_(t);return _(_(e.ju).persistence).pi()}function Hs(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=_(t)).qh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,So(o.ju)];case 3:return s=r.sent(),a=qt.Xt(e,"current"===n),[4,Ps(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,wo(o.ju,e,!0)];case 6:return r.sent(),xs(o,e,i),[3,8];case 7:b(),r.label=8;case 8:return[2]}}))}))}function Bs(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f;return r.__generator(this,(function(d){switch(d.label){case 0:if(!(i=Ws(t)).qh)return[3,10];o=0,s=e,d.label=1;case 1:return o<s.length?i.Fh.has(a=s[o])?(p("SyncEngine","Adding an already active target "+a),[3,5]):[4,Io(i.ju,a)]:[3,6];case 2:return u=d.sent(),[4,_o(i.ju,u)];case 3:return c=d.sent(),[4,ys(i,Vs(u),c.targetId,!1)];case 4:d.sent(),Bo(i.ph,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.Fh.has(t)?[4,wo(i.ju,t,!1).then((function(){Wo(i.ph,t),xs(i,t)})).catch(To)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Ws(t){var e=_(t);return e.ph.Gu.sh=ws.bind(null,e),e.ph.Gu.qe=Ds.bind(null,e),e.ph.Gu.nh=Is.bind(null,e),e.Ch.yu=Pr.bind(null,e.bh),e.Ch.Wh=Mr.bind(null,e.bh),e}function zs(t){var e=_(t);return e.ph.Gu.ih=Ss.bind(null,e),e.ph.Gu.rh=Cs.bind(null,e),e}var Gs=function(){function t(){}return t.prototype.Nc=function(t){this.zh=t},t.prototype.Lr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.p())}(e)||n.isEqual(ut.min())?this.Hh(t,e):this.zh.kr(t,r).next((function(s){var a=i.Yh(e,s);return(Dn(e)||Ln(e))&&i.Eh(e.an,a,r,n)?i.Hh(t,e):(d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Kn(e)),i.zh.Lr(t,e,n).next((function(t){return a.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Yh=function(t,e){var n=new Tt(Yn(t));return e.forEach((function(e,r){r instanceof kn&&Qn(t,r)&&(n=n.add(r))})),n},t.prototype.Eh=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Hh=function(t,e){return d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",Kn(e)),this.zh.Lr(t,e,ut.min())},t}(),Ks=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new Tt(xo.kc)}return t.prototype.$o=function(t){return pr.resolve(0===this.Sr.length)},t.prototype.ko=function(t,e,n,r){var i=this.Jh;this.Jh++;var o=new Yr(i,e,n,r);this.Sr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Xh=this.Xh.add(new xo(u.key,i)),this.Dr.Mo(t,u.key.path.h())}return pr.resolve(o)},t.prototype.Oo=function(t,e){return pr.resolve(this.Zh(e))},t.prototype.Bo=function(t,e){var n=this.tl(e+1),r=n<0?0:n;return pr.resolve(this.Sr.length>r?this.Sr[r]:null)},t.prototype.qo=function(){return pr.resolve(0===this.Sr.length?-1:this.Jh-1)},t.prototype.Uo=function(t){return pr.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new xo(e,0),i=new xo(e,Number.POSITIVE_INFINITY),o=[];return this.Xh.Ft([r,i],(function(t){var e=n.Zh(t.jc);o.push(e)})),pr.resolve(o)},t.prototype.Or=function(t,e){var n=this,r=new Tt($);return e.forEach((function(t){var e=new xo(t,0),i=new xo(t,Number.POSITIVE_INFINITY);n.Xh.Ft([e,i],(function(t){r=r.add(t.jc)}))})),pr.resolve(this.el(r))},t.prototype.Wr=function(t,e){var n=e.path,r=n.length+1,i=n;x.F(i)||(i=i.child(""));var o=new xo(new x(i),0),s=new Tt($);return this.Xh.xt((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(s=s.add(t.jc)),!0)}),o),pr.resolve(this.el(s))},t.prototype.el=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zh(t);null!==r&&n.push(r)})),n},t.prototype.Wo=function(t,e){var n=this;y(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xh;return pr.forEach(e.mutations,(function(i){var o=new xo(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)})).next((function(){n.Xh=r}))},t.prototype.Ko=function(t){},t.prototype.Ho=function(t,e){var n=new xo(e,0),r=this.Xh.$t(n);return pr.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return pr.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zh=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),Qs=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new It(x.i),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:s,readTime:n}),this.size+=s-o,this.Dr.Mo(t,r.path.h())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return pr.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)})),pr.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=Rt(),i=new x(e.path.child("")),o=this.docs.ft(i);o.At();){var s=o.It(),a=s.value,u=a.ta,c=a.readTime;if(!e.path.T(s.key.path))break;c.L(n)<=0||u instanceof kn&&Qn(e,u)&&(r=r.ot(u.key,u))}return pr.resolve(r)},t.prototype.il=function(t,e){return pr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ra=function(t){return new Ys(this)},t.prototype.aa=function(t){return pr.resolve(this.size)},t}(),Ys=function(t){function e(e){var n=this;return(n=t.call(this)||this).ca=e,n}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[];return this.wr.forEach((function(r,i){i?n.push(e.ca.Er(t,i,e.readTime)):e.ca.Ar(r)})),pr.$n(n)},e.prototype.gr=function(t,e){return this.ca.Rr(t,e)},e.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},e}(Xr),$s=function(){function t(t){this.persistence=t,this.rl=new st((function(t){return pt(t)}),gt),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.ol=0,this.al=new No,this.targetCount=0,this.cl=eo.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach((function(t,n){return e(n)})),pr.resolve()},t.prototype.Ea=function(t){return pr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(t){return pr.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),pr.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),pr.resolve()},t.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new eo(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,pr.resolve()},t.prototype.ya=function(t,e){return this.ga(e),pr.resolve()},t.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),this.targetCount-=1,pr.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.rl.delete(s),o.push(r.pa(t,a.targetId)),i++)})),pr.$n(o).next((function(){return i}))},t.prototype.ba=function(t){return pr.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return pr.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Lc(e,n),pr.resolve()},t.prototype.Ca=function(t,e,n){this.al.qc(e,n);var r=this.persistence.No,i=[];return r&&e.forEach((function(e){i.push(r.Go(t,e))})),pr.$n(i)},t.prototype.pa=function(t,e){return this.al.Uc(e),pr.resolve()},t.prototype.Fa=function(t,e){var n=this.al.Wc(e);return pr.resolve(n)},t.prototype.Ho=function(t,e){return pr.resolve(this.al.Ho(e))},t}(),Xs=function(){function t(t){var e=this;this.ul={},this.Ma=new Fr(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new $s(this),this.Dr=new Mi,this.vr=function(t,n){return new Qs(t,(function(t){return e.No.hl(t)}))}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new Ks(this.Dr,this.No),this.ul[t.ti()]=e),e},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Js(this.Ma.next());return this.No.ll(),n(i).next((function(t){return r.No._l(i).next((function(){return t}))})).Fn().then((function(t){return i.br(),t}))},t.prototype.fl=function(t,e){return pr.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(t,e)}})))},t}(),Js=function(t){function e(e){var n=this;return(n=t.call(this)||this).xa=e,n}return r.__extends(e,t),e}(Zr),Zs=function(){function t(t){this.persistence=t,this.dl=new No,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw b()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),pr.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),pr.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),pr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Uc(e.targetId).forEach((function(t){return n.Tl.add(t.toString())}));var r=this.persistence.Tc();return r.Fa(t,e.targetId).next((function(t){t.forEach((function(t){return n.Tl.add(t.toString())}))})).next((function(){return r.Va(t,e)}))},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.Ec().ra();return pr.forEach(this.Tl,(function(r){var i=x.D(r);return e.El(t,i).next((function(t){t||n.Ar(i)}))})).next((function(){return e.wl=null,n.apply(t)}))},t.prototype.yc=function(t,e){var n=this;return this.El(t,e).next((function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())}))},t.prototype.hl=function(t){return 0},t.prototype.El=function(t,e){var n=this;return pr.kn([function(){return pr.resolve(n.dl.Ho(e))},function(){return n.persistence.Tc().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),ta=function(){function t(t){this.Il=t.Il,this.Al=t.Al}return t.prototype.gu=function(t){this.Rl=t},t.prototype.Tu=function(t){this.gl=t},t.prototype.onMessage=function(t){this.Pl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.Il(t)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(t){this.gl(t)},t.prototype.pl=function(t){this.Pl(t)},t}(),ea={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},na=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.W=e.W,n}return r.__extends(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise((function(i,o){var s=new a.XhrIo;s.listenOnce(a.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=s.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),o(new h(l.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(l).indexOf(e)>=0?e:l.UNKNOWN}(r.status);o(new h(u,r.message))}else o(new h(l.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new h(l.UNAVAILABLE,"Connection failed."));break;default:b()}}finally{p("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.Pu=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=a.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(i.initMessageHeaders,e),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),c=!1,f=!1,d=new ta({Il:function(t){f?p("Connection","Not sending because WebChannel is closed:",t):(c||(p("Connection","Opening WebChannel transport."),u.open(),c=!0),p("Connection","WebChannel sending:",t),u.send(t))},Al:function(){return u.close()}}),g=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return g(a.WebChannel.EventType.OPEN,(function(){f||p("Connection","WebChannel transport opened.")})),g(a.WebChannel.EventType.CLOSE,(function(){f||(f=!0,p("Connection","WebChannel transport closed"),d.Vl())})),g(a.WebChannel.EventType.ERROR,(function(t){f||(f=!0,m("Connection","WebChannel transport errored:",t),d.Vl(new h(l.UNAVAILABLE,"The operation could not be completed")))})),g(a.WebChannel.EventType.MESSAGE,(function(t){var e;if(!f){var n=t.data[0];y(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){p("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=vt[t];if(void 0!==e)return Et(e)}(i),s=r.message;void 0===o&&(o=l.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),f=!0,d.Vl(new h(o,s)),u.close()}else p("Connection","WebChannel received:",n),d.pl(n)}})),setTimeout((function(){d.yl()}),0),d},e}(function(){function t(t){this.bl=t,this.U=t.U,this.vl=(t.ssl?"https":"http")+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(t,e,n,r){var i=this.Dl(t,e);p("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(t,i,o,n).then((function(t){return p("RestConnection","Received: ",t),t}),(function(e){throw m("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.ku=function(t,e,n,r){return this.$u(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var n in e.Kc)e.Kc.hasOwnProperty(n)&&(t[n]=e.Kc[n])},t.prototype.Dl=function(t,e){return this.vl+"/v1/"+e+":"+ea[t]},t}()),ra=function(){function t(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.kl=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ia=function(){function t(){}return t.prototype.Zu=function(t){},t.prototype.Di=function(){},t}();function oa(t){return new me(t,!0)}var sa="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",aa=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}}))}))},t.prototype.Ul=function(t){return null},t.prototype.Ql=function(t){return e=this.persistence,n=new Gs,new go(e,n,t.Wl);var e,n},t.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new h(l.FAILED_PRECONDITION,sa);return new Xs(Zs.ml)},t.prototype.Ll=function(t){return new Qr},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new h(l.FAILED_PRECONDITION,sa)},t}(),ua=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Kl.fi,this.Sh instanceof Kr?(this.Sh.fi={er:js.bind(null,n),nr:Hs.bind(null,n),sr:Bs.bind(null,n),pi:qs.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Xa((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,Fs(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=Sr();if(!Kr.Ln(e))throw new h(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=po(t.bl.U,t.bl.persistenceKey);return new Kr(e,t.cs,n,t.clientId,t.Wl)}return new Qr},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).Kl=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Co(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,e)];case 3:return n.sent(),[4,zs(this.Kl.fi)];case 4:return n.sent(),[4,ns(this.Kl.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ul=function(t){return new si(this.persistence.No.wo,t.cs)},e.prototype.Bl=function(t){var e=po(t.bl.U,t.bl.persistenceKey),n=oa(t.bl.U);return new uo(t.persistenceSettings.synchronizeTabs,e,t.clientId,oi.ao(t.persistenceSettings.cacheSizeBytes),t.cs,Sr(),Cr(),n,this.Sh,t.persistenceSettings.ka)},e.prototype.Ll=function(t){return new Qr},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return gr.Ln()?[4,gr.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(po(t,e))},e}(aa)),ca=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return Es(n.fi,t,1)},this.ph.Gu.Jl=Ms.bind(null,this.fi),[4,cs(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Hl=function(t){return new Or},t.prototype.Gl=function(t){var e=oa(t.bl.U),n=new na(t.bl);return function(t,e,n){return new jo(t,e,n)}(t.credentials,n,e)},t.prototype.zl=function(t){var e,n,r,i,o,s=this;return e=this.ju,n=this.Ku,r=t.cs,i=function(t){return Es(s.fi,t,0)},o=ra.Ln()?new ra:new ia,new Uo(e,n,r,i,o)},t.prototype.Yl=function(t){return function(t,e,n,r,i,o,s){var a=new vs(t,e,n,r,i,o);return s&&(a.qh=!0),a}(this.ju,this.ph,this.bh,this.Sh,t.Wl,t.Dh,!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return Ho(this.ph)},t}(),la=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ha=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new h(l.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(P("FieldPath","string",e,t[e]),0===t[e].length)throw new h(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new N(t)},fa=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(N.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},e}(ha),da=new RegExp("[~\\*/\\[\\]]"),pa=function(t){this.e_=t},ga=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){if(2!==t.s_)throw t.i_(1===t.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(pa);function ma(t,e,n){return new xa({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var va=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){return new an(t.path,new Xe)},e.prototype.isEqual=function(t){return t instanceof e},e}(pa),ba=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ma(this,t,!0),n=this.a_.map((function(t){return Ma(t,e)})),r=new Je(n);return new an(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pa),ya=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ma(this,t,!0),n=this.a_.map((function(t){return Ma(t,e)})),r=new tn(n);return new an(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pa),_a=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).c_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=new nn(t.serializer,ye(t.serializer,this.c_));return new an(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(pa),wa=function(){function t(t,e){if(O("GeoPoint",arguments,2),P("GeoPoint","number",1,t),P("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new h(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new h(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(t){return $(this.u_,t.u_)||$(this.h_,t.h_)},t}(),Ea=function(t){this.l_=t},Ia=/^__.*__$/,Sa=function(t,e,n){this.__=t,this.f_=e,this.d_=n},Ca=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[];return n.push(null!==this.We?new bn(t,this.data,this.We,e):new vn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new _n(t,this.fieldTransforms)),n},t}(),Ta=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[new bn(t,this.data,this.We,e)];return this.fieldTransforms.length>0&&n.push(new _n(t,this.fieldTransforms)),n},t}();function Na(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw b()}}var xa=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.I_(t),r},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.m_(),r},t.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(t){return Va(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(t){return void 0!==this.We.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(Na(this.s_)&&Ia.test(t))throw this.i_('Document fields cannot begin and end with "__"')},t}(),ka=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||oa(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new xa({s_:t,methodName:e,r_:n,path:N.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Oa(t,e,n,r,i,o){void 0===o&&(o={});var s=t.P_(o.merge||o.mergeFields?2:0,e,n,i);ja("Data must be an object, but it was:",s,r);var a,u,c=Da(r,s);if(o.merge)a=new sn(s.We),u=s.fieldTransforms;else if(o.mergeFields){for(var f=[],d=0,p=o.mergeFields;d<p.length;d++){var g=p[d],m=void 0;if(g instanceof ha)m=g.t_;else{if("string"!=typeof g)throw b();m=Ua(e,g,n)}if(!s.contains(m))throw new h(l.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");qa(f,m)||f.push(m)}a=new sn(f),u=s.fieldTransforms.filter((function(t){return a.Ye(t.field)}))}else a=null,u=s.fieldTransforms;return new Ca(new Cn(c),a,u)}function Aa(t,e,n,r){var i=t.P_(1,e,n);ja("Data must be an object, but it was:",i,r);var o=[],s=new Tn;E(r,(function(t,r){var a=Ua(e,t,n),u=i.A_(a);if(r instanceof ga||r instanceof Ea&&r.l_ instanceof ga)o.push(a);else{var c=Ma(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new sn(o);return new Ta(s.Xe(),a,i.fieldTransforms)}function Ra(t,e,n,r,i,o){var s=t.P_(1,e,n),a=[Fa(e,r,n)],u=[i];if(o.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Fa(e,o[c])),u.push(o[c+1]);for(var f=[],d=new Tn,p=a.length-1;p>=0;--p)if(!qa(f,a[p])){var g=a[p],m=u[p],v=s.A_(g);if(m instanceof ga||m instanceof Ea&&m.l_ instanceof ga)f.push(g);else{var b=Ma(m,v);null!=b&&(f.push(g),d.set(g,b))}}var y=new sn(f);return new Ta(d.Xe(),y,s.fieldTransforms)}function Pa(t,e,n,r){return void 0===r&&(r=!1),Ma(n,t.P_(r?4:3,e))}function Ma(t,e){if(t instanceof Ea&&(t=t.l_),La(t))return ja("Unsupported field value:",e,t),Da(t,e);if(t instanceof pa)return function(t,e){if(!Na(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");var n=t.n_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Ma(o[i],e.R_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ye(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=at.fromDate(t);return{timestampValue:_e(e.serializer,n)}}if(t instanceof at){var r=new at(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_e(e.serializer,r)}}if(t instanceof wa)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:we(e.serializer,t.q)};if(t instanceof Sa){var i=e.U,o=t.__;if(!o.isEqual(i))throw e.i_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Se(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+q(t))}(t,e)}function Da(t,e){var n={};return I(t)?e.path&&e.path.length>0&&e.We.push(e.path):E(t,(function(t,r){var i=Ma(r,e.E_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function La(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof at||t instanceof wa||t instanceof tt||t instanceof Sa||t instanceof pa)}function ja(t,e,n){if(!La(n)||!V(n)){var r=q(n);throw e.i_("an object"===r?t+" a custom object":t+" "+r)}}function Fa(t,e,n){if(e instanceof ha)return e.t_;if("string"==typeof e)return Ua(t,e);throw Va("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Ua(t,e,n){try{return function(t){if(t.search(da)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(fa.bind.apply(fa,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw Va((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Va(t,e,n,r,i){var o=r&&!r.m(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new h(l.INVALID_ARGUMENT,(a+=". ")+t+u)}function qa(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ha=function(){function t(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.S_(),this.mutations.length>0)throw new h(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=Oe(n.serializer)+"/documents",o={documents:e.map((function(t){return Te(n.serializer,t)}))},[4,n.ku("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){y(!!e.found);var n=Ne(t,e.found.name),r=Ie(e.found.updateTime),i=new Cn({mapValue:{fields:e.found.fields}});return new kn(n,r,i,{})}(t,e):"missing"in e?function(t,e){y(!!e.missing),y(!!e.readTime);var n=Ne(t,e.missing),r=Ie(e.readTime);return new On(n,r)}(t,e):b()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());y(!!e),u.push(e)})),u)]}}))}))}(this.Ku,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof On||t instanceof kn?n.D_(t):b()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},t.prototype.delete=function(t){this.write([new In(t,this.Ge(t))]),this.b_.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=x.D(n);e.mutations.push(new Sn(r,e.Ge(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=Oe(n.serializer)+"/documents",o={writes:e.map((function(t){return Pe(n.serializer,t)}))},[4,n.$u("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},t.prototype.D_=function(t){var e;if(t instanceof kn)e=t.version;else{if(!(t instanceof On))throw b();e=ut.min()}var n=this.y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new h(l.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?cn.updateTime(e):cn.ze()},t.prototype.C_=function(t){var e=this.y_.get(t.toString());if(!this.b_.has(t.toString())&&e){if(e.isEqual(ut.min()))throw new h(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(e)}return cn.exists(!0)},t.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},t.prototype.S_=function(){},t}(),Ba=function(){function t(t,e,n,r){this.cs=t,this.Ku=e,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new dr(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var t=this;this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new Ha(this.Ku),(e=this.x_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.k_(t)}))}))})).catch((function(t){n.k_(t)})),[2]}))}))}))},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!ct(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.k_=function(t){var e=this;this.N_>0&&this.M_(t)?(this.N_-=1,this.cs.ws((function(){return e.F_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.M_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wt(e)}return!1},t}(),Wa=function(){function t(t,e){this.credentials=t,this.cs=e,this.clientId=Y.k(),this.O_=new fr}return t.prototype.start=function(t,e,n,i){var o=this;this.L_(),this.bl=t;var s=new fr,a=!1;return this.credentials.Hc((function(t){if(!a)return a=!0,p("FirestoreClient","Initializing. user=",t.uid),o.B_(e,n,i,t,s).then(o.O_.resolve,o.O_.reject);o.cs.Cs((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=_(t)).cs.xs(),p("RemoteStore","RemoteStore received new credentials"),i=Yo(n),n.Yu.add(3),[4,qo(n)];case 1:return r.sent(),i&&n.th.set("Unknown"),[4,n.Gu.Jl(e)];case 2:return r.sent(),n.Yu.delete(3),[4,Vo(n)];case 3:return r.sent(),[2]}}))}))}(o.ph,t)}))})),this.cs.ws((function(){return o.O_.promise})),s.promise},t.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!0),function(t){var e=_(t);return e.Yu.delete(0),Vo(e)}(t.ph)}))},t.prototype.B_=function(t,e,n,i,o){return r.__awaiter(this,void 0,void 0,(function(){var s,a,u=this;return r.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,t.initialize(s={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:i,Dh:100,persistenceSettings:n})];case 1:return c.sent(),[4,e.initialize(t,s)];case 2:return c.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=bs.bind(null,this.fi),this.q_.js=_s.bind(null,this.fi),this.persistence.Za((function(){return r.__awaiter(u,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(a=c.sent(),o.reject(a),!this.U_(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.B_(new aa,new ca,{jl:!1},i,o))];case 4:return[2]}}))}))},t.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===l.FAILED_PRECONDITION||t.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.L_=function(){if(this.cs.ps)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!1),function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=_(t)).Yu.add(0),[4,qo(e)];case 1:return n.sent(),e.th.set("Offline"),[2]}}))}))}(t.ph)}))},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new fr;return this.cs.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Ho(this.ph)];case 1:return r.sent(),[4,this.Sh.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=xr(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new fr;return this.cs.ws((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:Yo((n=_(t)).ph)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=_(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Sr.qo(t)}))}(n.ju)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Lh.get(i)||[]).push(e),n.Lh.set(i,o),[3,4]);case 3:return s=r.sent(),a=xr(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}(t.fi,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.L_();var i=new la(n),o=new Lr(t,i,e);return this.cs.ws((function(){return Ar(r.q_,o)})),function(){i.Zl(),r.cs.ws((function(){return Rr(r.q_,o)}))}},t.prototype.Q_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new fr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=_(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Cc.Cr(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof kn?n.resolve(i):i instanceof On?n.resolve(null):n.reject(new h(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),s=xr(o,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.W_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new la({next:function(o){e.ws((function(){return Rr(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new h(l.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Lr(Mn(n.path),o,{includeMetadataChanges:!0,Xs:!0});return Ar(t,s)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.j_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new fr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Eo(t,e,!0)];case 1:return i=r.sent(),o=new ps(e,i.Fc),s=o.wh(i.documents),a=o.yr(s,!1),n.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),c=xr(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.K_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new la({next:function(n){e.ws((function(){return Rr(t,s)})),n.fromCache&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Lr(n,o,{includeMetadataChanges:!0,Xs:!0});return Ar(t,s)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.L_();var n=new fr;return this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:i=zs(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=_(t),i=at.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Dt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Cc.kr(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=pn(c,n.get(c.key));null!=l&&s.push(new bn(c.key,l,Nn(l.proto.mapValue),cn.exists(!0)))}return r.Sr.ko(t,i,s,e)}))})).then((function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}}))}(i.ju,e)];case 2:return o=r.sent(),i.Sh.xi(o.batchId),function(t,e,n){var r=t.Oh[t.currentUser.ti()];r||(r=new It($)),r=r.ot(e,n),t.Oh[t.currentUser.ti()]=r}(i,o.batchId,n),[4,Ps(i,o.wr)];case 3:return r.sent(),[4,ns(i.ph)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=xr(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}(e.fi,t,n)})),n.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(t){var e=this;this.L_();var n=new la(t);return this.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){_(t).qs.add(e),e.next()}(this.q_,n)]}))}))})),function(){n.Zl(),e.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){_(t).qs.delete(e)}(this.q_,n)]}))}))}))}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.L_();var n=new fr;return this.cs.ws((function(){return new Ba(e.cs,e.Ku,t,n).run(),Promise.resolve()})),n.promise},t}();function za(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ga=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.H_=n,this.Y_=r,this.J_=i}return t.prototype.X_=function(t){switch(Zt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return se(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(ae(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw b()}},t.prototype.if=function(t){var e=this,n={};return E(t.fields||{},(function(t,r){n[t]=e.X_(r)})),n},t.prototype.nf=function(t){return new wa(se(t.latitude),se(t.longitude))},t.prototype.sf=function(t){var e=this;return(t.values||[]).map((function(t){return e.X_(t)}))},t.prototype.tf=function(t){switch(this.H_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return $t(n)?t(n):n}(t);return null==e?null:this.X_(e);case"estimate":return this.Z_(Xt(t));default:return null}},t.prototype.Z_=function(t){var e=oe(t),n=new at(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.ef=function(t){var e=C.g(t);y(Ge(e));var n=new ot(e.get(1),e.get(3)),r=new x(e.u(5));return n.isEqual(this.U)||g("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},t}(),Ka=oi.ho,Qa=function(){function t(t){var e,n,r,i,o;if(void 0===t.host){if(void 0!==t.ssl)throw new h(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else D("settings","non-empty string","host",t.host),this.host=t.host,L("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(B("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),L("settings","object","credentials",t.credentials),this.credentials=t.credentials,L("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),L("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?g("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&g("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,L("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=oi._o;else{if(t.cacheSizeBytes!==Ka&&t.cacheSizeBytes<oi.lo)throw new h(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+oi.lo);this.cacheSizeBytes=t.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i,L("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(o=t.experimentalAutoDetectLongPolling)&&void 0!==o&&o,function(t,e,n,r){if(!0===e&&!0===r)throw new h(l.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ya=function(){function t(e,n,i,o){var s=this;if(void 0===i&&(i=new aa),void 0===o&&(o=new ca),this.rf=i,this.af=o,this.cf=null,this.uf=new Nr,this.INTERNAL={delete:function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.cf=a,this.__=t._f(a),this.ff=a.name,this.df=new Ao(n)}else{var u=e;if(!u.projectId)throw new h(l.INVALID_ARGUMENT,"Must provide projectId");this.__=new ot(u.projectId,u.database),this.ff="[DEFAULT]",this.df=new Oo}this.wf=new Qa({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new ka(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){O("Firestore.settings",arguments,1),P("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge;var e=new Qa(t);if(this.lf&&!this.wf.isEqual(e))throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=e,void 0!==e.credentials&&(this.df=function(t){if(!t)return new Oo;switch(t.type){case"gapi":var e=t.client;return y(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Po(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new h(l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.lf)throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new h(l.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.lf&&!this.lf.z_)throw new h(l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new fr,[2,(this.uf.bs((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.hf(),za(t)?this.lf.G_(t):(P("Firestore.onSnapshotsInSync","function",1,t),this.lf.G_({next:t}))},t.prototype.hf=function(){return this.lf||this.Ef(new aa,new ca,{jl:!1}),this.lf},t.prototype.Af=function(){return new it(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(t,e,n){var r=this.Af();return this.lf=new Wa(this.df,this.uf),this.lf.start(r,t,e,n)},t._f=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new h(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new h(l.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new h(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return O("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,t),this.hf(),new lu(C.g(t),this,null)},t.prototype.doc=function(t){return O("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,t),this.hf(),Ja.Rf(C.g(t),this,null)},t.prototype.collectionGroup=function(t){if(O("Firestore.collectionGroup",arguments,1),P("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new uu(function(t){return new Rn(C.P(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return O("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,t),this.hf().transaction((function(n){return t(new $a(e,n))}))},t.prototype.batch=function(){return this.hf(),new Xa(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){O("Firestore.setLogLevel",arguments,1),F("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),f.setLogLevel(t)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),$a=function(){function t(t,e){this.yf=t,this.Vf=e}return t.prototype.get=function(t){var e=this;O("Transaction.get",arguments,1);var n=pu("Transaction.get",t,this.yf);return this.Vf.v_([n.f_]).then((function(t){if(!t||1!==t.length)return b();var r=t[0];if(r instanceof On)return new tu(e.yf,n.f_,null,!1,!1,n.d_);if(r instanceof kn)return new tu(e.yf,n.f_,r,!1,!1,n.d_);throw b()}))},t.prototype.set=function(t,e,n){R("Transaction.set",arguments,2,3);var r=pu("Transaction.set",t,this.yf);n=hu("Transaction.set",n);var i=mu(r.d_,e,n),o=Oa(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof fa?(A("Transaction.update",arguments,3),r=pu("Transaction.update",t,this.yf),i=Ra(this.yf.mf,"Transaction.update",r.f_,e,n,o)):(O("Transaction.update",arguments,2),r=pu("Transaction.update",t,this.yf),i=Aa(this.yf.mf,"Transaction.update",r.f_,e)),this.Vf.update(r.f_,i),this},t.prototype.delete=function(t){O("Transaction.delete",arguments,1);var e=pu("Transaction.delete",t,this.yf);return this.Vf.delete(e.f_),this},t}(),Xa=function(){function t(t){this.yf=t,this.pf=[],this.bf=!1}return t.prototype.set=function(t,e,n){R("WriteBatch.set",arguments,2,3),this.vf();var r=pu("WriteBatch.set",t,this.yf);n=hu("WriteBatch.set",n);var i=mu(r.d_,e,n),o=Oa(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(o.w_(r.f_,cn.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.vf(),"string"==typeof e||e instanceof fa?(A("WriteBatch.update",arguments,3),r=pu("WriteBatch.update",t,this.yf),i=Ra(this.yf.mf,"WriteBatch.update",r.f_,e,n,o)):(O("WriteBatch.update",arguments,2),r=pu("WriteBatch.update",t,this.yf),i=Aa(this.yf.mf,"WriteBatch.update",r.f_,e)),this.pf=this.pf.concat(i.w_(r.f_,cn.exists(!0))),this},t.prototype.delete=function(t){O("WriteBatch.delete",arguments,1),this.vf();var e=pu("WriteBatch.delete",t,this.yf);return this.pf=this.pf.concat(new In(e.f_,cn.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new h(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ja=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.__,e,r)||this).f_=e,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return r.__extends(e,t),e.Rf=function(t,n,r){if(t.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new x(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lu(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(O("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,t),!t)throw new h(l.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=C.g(t);return new lu(this.f_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},e.prototype.set=function(t,e){R("DocumentReference.set",arguments,1,2),e=hu("DocumentReference.set",e);var n=mu(this.d_,t,e),r=Oa(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,e);return this.lf.write(r.w_(this.f_,cn.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof fa?(A("DocumentReference.update",arguments,2),n=Ra(this.firestore.mf,"DocumentReference.update",this.f_,t,e,r)):(O("DocumentReference.update",arguments,1),n=Aa(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(n.w_(this.f_,cn.exists(!0)))},e.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this.lf.write([new In(this.f_,cn.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];R("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||za(i[a])||(B("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(za(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else P("DocumentReference.onSnapshot","function",a,i[a]),M("DocumentReference.onSnapshot","function",a+1,i[a+1]),M("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.Sf(t))},error:i[a+1],complete:i[a+2]};return this.lf.listen(Mn(this.f_.path),u,l)},e.prototype.get=function(t){var e=this;R("DocumentReference.get",arguments,0,1),du("DocumentReference.get",t);var n=this.firestore.hf();return t&&"cache"===t.source?n.Q_(this.f_).then((function(t){return new tu(e.firestore,e.f_,t,!0,t instanceof kn&&t.Je,e.d_)})):n.W_(this.f_,t).then((function(t){return e.Sf(t)}))},e.prototype.withConverter=function(t){return new e(this.f_,this.firestore,t)},e.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new tu(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},e}(Sa),Za=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),tu=function(){function t(t,e,n,r,i,o){this.yf=t,this.f_=e,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}return t.prototype.data=function(t){var e=this;if(R("DocumentSnapshot.data",arguments,0,1),t=fu("DocumentSnapshot.data",t),this.Df){if(this.d_){var n=new eu(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,t)}return new Ga(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(t){return new Ja(t,e.yf,null)}),(function(t){return new rt(t)})).X_(this.Df.rn())}},t.prototype.get=function(t,e){var n=this;if(R("DocumentSnapshot.get",arguments,1,2),e=fu("DocumentSnapshot.get",e),this.Df){var r=this.Df.data().field(Fa("DocumentSnapshot.get",t,this.f_));if(null!==r)return new Ga(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(t){return new Ja(t,n.yf,n.d_)}),(function(t){return new rt(t)})).X_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ja(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Za(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(null===this.Df?null===e.Df:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(tu);function nu(t,e,n,r,i,o,s){var a;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new h(l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ou(s,o);for(var u=[],c=0,f=s;c<f.length;c++)u.push(iu(r,t,f[c]));a={arrayValue:{values:u}}}else a=iu(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ou(s,o),a=Pa(n,e,s,"in"===o||"not-in"===o);var d=$n.create(i,o,a);return function(t,e){if(e.hn()){var n=Fn(t);if(null!==n&&!n.isEqual(e.field))throw new h(l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=jn(t);null!==r&&su(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new h(l.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}function ru(t,e,n){if(null!==t.startAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new cr(e,n);return function(t,e){if(null===jn(t)){var n=Fn(t);null!==n&&su(0,n,e.field)}}(t,r),r}function iu(t,e,n){if("string"==typeof n){if(""===n)throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Un(e)&&-1!==n.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(C.g(n));if(!x.F(r))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ue(t,new x(r))}if(n instanceof Sa)return ue(t,n.f_);throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(n)+".")}function ou(t,e){if(!Array.isArray(t)||0===t.length)throw new h(l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function su(t,e,n){if(!n.isEqual(e))throw new h(l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function au(t){if(Ln(t)&&0===t.on.length)throw new h(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uu=function(){function t(t,e,n){this.Ff=t,this.firestore=e,this.d_=n}return t.prototype.where=function(e,n,r){O("Query.where",arguments,3),H("Query.where",3,r);var i=F("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=Fa("Query.where",e),s=nu(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new Rn(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Ff,s),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var r;if(R("Query.orderBy",arguments,1,2),M("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new h(l.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Fa("Query.orderBy",e),o=ru(this.Ff,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new Rn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Ff,o),this.firestore,this.d_)},t.prototype.limit=function(e){return O("Query.limit",arguments,1),P("Query.limit","number",1,e),z("Query.limit",1,e),new t(Hn(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return O("Query.limitToLast",arguments,1),P("Query.limitToLast","number",1,e),z("Query.limitToLast",1,e),new t(Hn(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.startAt",arguments,1);var i=this.xf("Query.startAt",e,n,!0);return new t(Bn(this.Ff,i),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",e,n,!1);return new t(Bn(this.Ff,i),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",e,n,!0);return new t(Wn(this.Ff,i),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];A("Query.endAt",arguments,1);var i=this.xf("Query.endAt",e,n,!1);return new t(Wn(this.Ff,i),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","Query",1,e);return this.firestore===e.firestore&&zn(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(t,e,n,i){if(H(t,1,e),e instanceof tu)return O(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new h(l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Vn(t);s<a.length;s++){var u=a[s];if(u.field.p())o.push(ue(e,r.key));else{var c=r.field(u.field);if($t(c))throw new h(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var f=u.field.R();throw new h(l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(c)}}return new or(o,i)}(this.Ff,this.firestore.__,t,e.Df,i);var o=[e].concat(n);return function(t,e,n,r,i,o){var s=t.on;if(i.length>s.length)throw new h(l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.p()){if("string"!=typeof c)throw new h(l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Un(t)&&-1!==c.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var f=t.path.child(C.g(c));if(!x.F(f))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new x(f);a.push(ue(e,d))}else{var p=Pa(n,r,c);a.push(p)}}return new or(a,o)}(this.Ff,this.firestore.__,this.firestore.mf,t,o,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];R("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||za(i[a])||(B("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),za(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else P("Query.onSnapshot","function",a,i[a]),M("Query.onSnapshot","function",a+1,i[a+1]),M("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new cu(r.firestore,r.Ff,t,r.d_))},error:i[a+1],complete:i[a+2]};return au(this.Ff),this.firestore.hf().listen(this.Ff,s,c)},t.prototype.get=function(t){var e=this;R("Query.get",arguments,0,1),du("Query.get",t),au(this.Ff);var n=this.firestore.hf();return(t&&"cache"===t.source?n.j_(this.Ff):n.K_(this.Ff,t)).then((function(t){return new cu(e.firestore,e.Ff,t,e.d_)}))},t}(),cu=function(){function t(t,e,n,r){this.yf=t,this.$f=e,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new Za(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;R("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach((function(r){t.call(e,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new uu(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(B("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.kf.Kt)throw new h(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===e||(this.Mf=function(t,e,n){if(t.Qt.m()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Qt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:gu(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.kf,e,this.Lf.bind(this)),this.Of=e),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&zn(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(t,e,n){return new eu(this.yf,t.key,t,e,n,this.d_)},t}(),lu=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Mn(e),n,r)||this).Bf=e,e.length%2!=1)throw new h(l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new Ja(new x(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){R("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Y.k()),P("CollectionReference.doc","non-empty string",1,t);var e=C.g(t);return Ja.Rf(this.Ff.path.child(e),this.firestore,this.d_)},e.prototype.add=function(t){O("CollectionReference.add",arguments,1);var e=this.d_?this.d_.toFirestore(t):t;P("CollectionReference.add","object",1,e);var n=this.doc();return new Ja(n.f_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Bf,this.firestore,t)},e}(uu);function hu(t,e){if(void 0===e)return{merge:!1};if(B(t,e,["merge","mergeFields"]),L(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+q(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof fa}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new h(l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fu(t,e){return void 0===e?{}:(B(t,e,["serverTimestamps"]),j(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function du(t,e){M(t,"object",1,e),e&&(B(t,e,["source"]),j(t,0,"source",e.source,["default","server","cache"]))}function pu(t,e,n){if(e instanceof Sa){if(e.firestore!==n)throw new h(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw W(t,"DocumentReference",1,e)}function gu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return b()}}function mu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var vu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.serverTimestamp=function(){k("FieldValue.serverTimestamp",arguments);var t=new va("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){k("FieldValue.delete",arguments);var t=new ga("deleteField");return t.e_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];A("FieldValue.arrayUnion",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return A("arrayUnion()",arguments,1),new ba("arrayUnion",t)}).apply(void 0,t);return r.e_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];A("FieldValue.arrayRemove",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return A("arrayRemove()",arguments,1),new ya("arrayRemove",t)}).apply(void 0,t);return r.e_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){P("FieldValue.increment","number",1,t),O("FieldValue.increment",arguments,1);var n=function(t){return new _a("increment",t)}(t);return n.e_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)},e}(Ea),bu={Firestore:Ya,GeoPoint:wa,Timestamp:at,Blob:rt,Transaction:$a,WriteBatch:Xa,DocumentReference:Ja,DocumentSnapshot:tu,Query:uu,QueryDocumentSnapshot:eu,QuerySnapshot:cu,CollectionReference:lu,FieldPath:fa,FieldValue:vu,setLogLevel:Ya.setLogLevel,CACHE_SIZE_UNLIMITED:Ka};function yu(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){var n=new ca,r=new ua(n);return new Ya(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},bu)))}(t),t.registerVersion("@firebase/firestore","1.18.0")}yu(c.default),e.__PRIVATE_registerFirestore=yu},"7HRe":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("quSY"),o=n("kJWO"),s=n("jZKg"),a=n("Lhse"),u=n("c2HN"),c=n("I55L");function l(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new i.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new i.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(c.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new i.a;let o;return r.add(()=>{o&&"function"==typeof o.return&&o.return()}),r.add(e.schedule(()=>{o=t[a.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=o.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return d}));let r=1;const i=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new h(c),d=f},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"89kA":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("qCKp"),i=n("ZR4w");r.Observable.prototype.map=i.map},"8Qeq":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},AytR:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={production:!0,firebase:{apiKey:"AIzaSyAznr5qSL0fcpjhdqJRPSvc3P_ImL-FEp8",authDomain:"smart-app-br.firebaseapp.com",databaseURL:"https://smart-app-br.firebaseio.com",projectId:"smart-app-br",storageBucket:"smart-app-br.appspot.com",messagingSenderId:"635425461938",appId:"1:635425461938:web:a5de4c32dad456f7c0dbab",measurementId:"G-83C881HB2N"},application:{name:"BR APP",angular:"Angular 10.1.6",bootstrap:"Bootstrap 5.0.0",fontawesome:"Font Awesome 5.15.1"},url:"http://localhost:5200",config:{api:!1,url:"http://localhost:5200/"}}},BAab:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("fXoL"),i=n("HDdC"),o=n("lJxs");function s(t){const e=function(t){return new i.a(e=>(t.on("state_changed",t=>e.next(t),t=>e.error(t),()=>e.complete()),()=>t.cancel()))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(o.a)(t=>t.bytesTransferred/t.totalBytes*100))}}var a=n("Cfvw");function u(t,e,n){return{getDownloadURL:()=>Object(a.a)(t.getDownloadURL(),e.outsideAngular).pipe(n),getMetadata:()=>Object(a.a)(t.getMetadata()).pipe(n),delete:()=>Object(a.a)(t.delete()),child:r=>u(t.child(r),e,n),updateMetatdata:e=>Object(a.a)(t.updateMetadata(e)),updateMetadata:e=>Object(a.a)(t.updateMetadata(e)),put:(e,n)=>s(t.put(e,n)),putString:(e,n,r)=>s(t.putString(e,n,r))}}var c=n("XU1U"),l=n("Czum");const h=new r.q("angularfire2.storageBucket");let f=(()=>{let t=class{constructor(t,e,n,r,i){this.schedulers=new c.f(i),this.keepUnstableUntilFirst=Object(c.i)(this.schedulers,r),this.storage=i.runOutsideAngular(()=>Object(l.h)(t,i,e).storage(n||void 0))}ref(t){return u(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return u(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}};return t.\u0275fac=function(e){return new(e||t)(r.Rb(l.c),r.Rb(l.b,8),r.Rb(h,8),r.Rb(r.B),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})()},BFxc:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function s(t){return function(e){return 0===t?Object(o.b)():e.lift(new a(t))}}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("SeVD"),o=n("7HRe");function s(t,e){return e?Object(o.a)(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},Czum:function(t,e,n){"use strict";n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return d})),n.d(e,"a",(function(){return g}));var r,i=n("fXoL"),o=n("Wcq6"),s=n.n(o);const a=new i.q("angularfire2.app.options"),u=new i.q("angularfire2.app.nameOrConfig"),c=a,l=u;class h{}const f=new i.O("5.4.2");function d(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",s.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>s.a.initializeApp(t,r))}const p={provide:h,useFactory:d,deps:[c,i.z,[new i.A,l]]};let g=(()=>{let t=r=class{constructor(t){s.a.registerVersion&&(s.a.registerVersion("angularfire",f.full,t.toString()),s.a.registerVersion("angular",i.N.full))}static initializeApp(t,e){return{ngModule:r,providers:[{provide:c,useValue:t},{provide:l,useValue:e}]}}};return t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({factory:function(e){return new(e||t)(i.Rb(i.B))},providers:[p]}),t})()},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return u}));var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},"F97/":function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}n.d(e,"a",(function(){return r}))},GyhO:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("LRne"),i=n("0EUg");function o(...t){return Object(i.a)()(Object(r.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("8Qeq"),i=n("7o/Q"),o=n("2QA8"),s=n("gRHU"),a=n("kJWO"),u=n("mCNh"),c=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(a.add(r?r.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=h(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[a.a](){return this}pipe(...t){return 0===t.length?this:Object(u.b)(t)(this)}toPromise(t){return new(t=h(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("Y/cZ");class i extends r.a{constructor(t,e=r.a.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function s(t){return e=>0===t?Object(o.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("zx2A");function i(t){return function(e){const n=new o(t),r=e.lift(n);return n.caught=r}}class o{constructor(t){this.selector=t}call(t,e){return e.subscribe(new s(t,this.selector,this.caught))}}class s extends r.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.a(this);this.add(i);const o=Object(r.c)(n,i);o!==i&&this.add(o)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("GyhO"),i=n("z+Ro");function o(...t){const e=t[t.length-1];return Object(i.a)(e)?(t.pop(),n=>Object(r.a)(t,n,e)):e=>Object(r.a)(t,e)}},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LOEa:function(t,e,n){(function(){var t,e=n("wj3C").default,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in n||(n[s]={}),n=n[s]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Pa(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Pa(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var a=a||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++b)}var v="closure_uid_"+(1e9*Math.random()>>>0),b=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:_).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(t,e,n){this.code=x+t,this.message=e||k[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new C(e.substring(x.length),t.message,t.serverResponse):null}S(C,Error),C.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},C.prototype.toJSON=function(){return this.w()};var N,x="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function D(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}N=A("__EID__")?"__EID__":void 0,S(P,Error),P.prototype.name="CustomError",S(M,P),M.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new L((function(){return new q}),(function(t){t.reset()}));function V(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=H(t,e)}function Q(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function $(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,st=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=u.navigator;if(ct){var lt=ct.userAgent;if(lt){J=lt;break t}}J=""}function ht(t){return at(J,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===wt&&e||"",this.b=_t}function yt(t){return t instanceof bt&&t.constructor===bt&&t.b===_t?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.sa=!0,bt.prototype.ra=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t={},wt={},Et=new bt(wt,"");function It(t,e){this.a=t===kt&&e||"",this.b=xt}function St(t){return t instanceof It&&t.constructor===It&&t.b===xt?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=yt(t);if(!Nt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Tt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?yt(t):encodeURIComponent(String(t))})),new It(kt,t)}It.prototype.sa=!0,It.prototype.ra=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,Nt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xt={},kt={};function Ot(t,e){this.a=t===Dt&&e||"",this.b=Mt}function At(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Mt?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new Ot(Dt,t))}var Mt={},Dt={};function Lt(){this.a="",this.b=Ft}function jt(t){return t instanceof Lt&&t.constructor===Lt&&t.b===Ft?t.a:(D("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}Lt.prototype.sa=!0,Lt.prototype.ra=function(){return this.a.toString()},Lt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function Ut(t){var e=new Lt;return e.a=t,e}Ut("<!DOCTYPE html>");var Vt=Ut("");function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Ut("<br>"),Bt[" "]=h;var Wt,zt,Gt=ht("Opera"),Kt=ht("Trident")||ht("MSIE"),Qt=ht("Edge"),Yt=Qt||Kt,$t=ht("Gecko")&&!(at(J.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Xt=at(J.toLowerCase(),"webkit")&&!ht("Edge");function Jt(){var t=u.document;return t?t.documentMode:void 0}t:{var Zt="",te=(zt=J,$t?/rv:([^\);]+)(\)|;)/.exec(zt):Qt?/Edge\/([\d\.]+)/.exec(zt):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Xt?/WebKit\/(\S+)/.exec(zt):Gt?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if(te&&(Zt=te?te[1]:""),Kt){var ee=Jt();if(null!=ee&&ee>parseFloat(Zt)){Wt=String(ee);break t}}Wt=Zt}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Z(String(Wt)).split("."),r=Z(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}ne=u.document&&Kt?Jt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(zt){}var oe=!Kt||9<=Number(ne);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ae(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!d(o)||g(o)&&0<o.nodeType?r(o):B(de(o)?X(o):o,r)}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){if(t&&"number"==typeof t.length){if(g(t))return"function"==typeof t.item||"string"==typeof t.item;if(p(t))return"function"==typeof t.item}return!1}function pe(t){u.setTimeout((function(){throw t}),0)}function ge(t,e){ce||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);ce=function(){t.then(be)}}else ce=function(){var t=be;!p(u.setImmediate)||u.Window&&u.Window.prototype&&!ht("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ue||(ue=function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",function(t){var e=new It(kt,yt(Et));vt(t,"HTMLIFrameElement"),t.src=St(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(jt(Vt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),ue(t)):u.setImmediate(t)}}(),me||(ce(),me=!0),ve.add(t,e)}var me=!1,ve=new F;function be(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){pe(e)}j(U,t)}me=!1}function ye(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Re(n,we,t)}),(function(t){if(!(t instanceof Ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Re(n,Ee,t)}))}catch(r){Re(this,Ee,r)}}var _e=0,we=2,Ee=3;function Ie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new L((function(){return new Ie}),(function(t){t.reset()}));function Ce(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof ye)return t;var e=new ye(h);return Re(e,we,t),e}function Ne(t){return new ye((function(e,n){n(t)}))}function xe(t,e,n){Pe(t,e,n,null)||ge(E(e,t))}function ke(t){return new ye((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xe(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function Oe(t,e){t.b||t.a!=we&&t.a!=Ee||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ae(t,e,n,r){var i=Ce(null,null,null);return i.a=new ye((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ue?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Oe(t,i),i.a}function Re(t,e,n){t.a==_e&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=Ee||n instanceof Ue||function(t,e){t.g=!0,ge((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Pe(t,e,n,r){if(t instanceof ye)return Oe(t,Ce(e||h,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Me(t){t.h||(t.h=!0,ge(t.fc,t))}function De(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,je(e,n,r);else try{e.c?e.g.call(e.f):je(e,n,r)}catch(i){Fe.call(null,i)}j(Se,e)}function je(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Ae(this,p(t)?t:null,p(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).na=function(t,e){return(t=Ce(t,t,e)).c=!0,Oe(this,t),this},t.s=function(t,e){return Ae(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new Ue(t);ge((function(){!function t(e,n){if(e.a==_e)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==_e&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):De(r),Le(r,o,Ee,n)))}e.c=null}else Re(e,Ee,n)}(this,e)}),this)}},t.Zc=function(t){this.a=_e,Re(this,we,t)},t.$c=function(t){this.a=_e,Re(this,Ee,t)},t.fc=function(){for(var t;t=De(this);)Le(this,t,this.a,this.i);this.h=!1};var Fe=pe;function Ue(t){P.call(this,t)}function Ve(){0!=qe&&(He[m(this)]=this),this.xa=this.xa,this.oa=this.oa}S(Ue,P),Ue.prototype.name="cancel";var qe=0,He={};function Be(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=qe)){var e=m(t);if(0!=qe&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}Ve.prototype.xa=!1,Ve.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var We=Object.freeze||function(t){return t},ze=!Kt||9<=Number(ne),Ge=Kt&&!ie("9"),Ke=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if($t){t:{try{Bt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$e[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Ye,Qe);var $e=We({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ye.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Je,this.va=this.Oa=!1}function tn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=bn(n),t&&t[Xe]?_n(t,e,n,g(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=mn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=gn,e=ze?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ke||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=bn(n),t&&t[Xe]?wn(t,e,n,g(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=bn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&hn(t),n.call(r,e)}function gn(t,e){if(t.va)return!0;if(!ze){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Ye(e,this))}function mn(t){return(t=t[on])instanceof en?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return p(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function yn(){Ve.call(this),this.v=new en(this),this.$b=this,this.fb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Ua||s.src;s.Oa&&nn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Sn(t){var e=null;return new ye((function(n,r){-1==(e=In((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw u.clearTimeout(e),t}))}function Cn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Nn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Nn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];kn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)kn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(yn,Ve),yn.prototype[Xe]=!0,yn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;mt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.b=n,r,!0,t)&&i,i=En(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(s=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Da=function(){if(yn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=Nn.prototype).V=function(){xn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return xn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return kn(this.b,t)?this.b[t]:e},t.set=function(t,e){kn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function An(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof An?(this.i=void 0!==e?e:t.i,Rn(this,t.f),this.l=t.l,this.a=t.a,Pn(this,t.g),this.c=t.c,Mn(this,Zn(t.b)),this.h=t.h):t&&(n=String(t).match(On))?(this.i=!!e,Rn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Pn(this,n[4]),this.c=Un(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!e,this.b=new Kn(null,this.i))}function Rn(t,e,n){t.f=n?Un(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Mn(t,e,n){e instanceof Kn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($n(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Vn(e,zn)),t.b=new Kn(e,t.i))}function Dn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function jn(t){return t instanceof An?new An(t):new An(t,void 0)}function Fn(t,e,n,r){var i=new An(null,void 0);return t&&Rn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.c=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}An.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Vn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Vn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vn(n,"/"==n.charAt(0)?Wn:Bn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Vn(n,Gn)),t.join("")},An.prototype.resolve=function(t){var e=new An(this),n=!!t.f;n?Rn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Pn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(at(i,"./")||at(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Mn(e,Zn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,Bn=/[#\?:]/g,Wn=/[#\?]/g,zn=/[#\?@]/g,Gn=/#/g;function Kn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Nn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Yn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Kn(null,void 0);t=Cn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function $n(t,e){Qn(t),e=tr(t,e),kn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xn(t)))}function Xn(t,e){return Qn(t),e=tr(t,e),kn(t.a.b,e)}function Jn(t,e,n){$n(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),X(n)),t.b+=n.length)}function Zn(t){var e=new Kn;return e.c=t.c,t.a&&(e.a=new Nn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),or(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":or(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nr,t,e),e.join("")}function nr(){}(t=Kn.prototype).add=function(t,e){Qn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Qn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=$(e,this.a.get(tr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Xn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function sr(){var t=Cr();return Kt&&!!ne&&11==ne||/Edge\/\d+/.test(t)}function ar(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||u.window;var n="about:blank";t&&(n=At(Pt(t))),e.location.href=n}function cr(t){return!!((t=(t||Cr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||u.window;try{t.close()}catch(e){}}function hr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(e.target=r,at(n,"crios/")&&(e.target="_blank")),Er(Cr())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Pt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=fe(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==typeof e&&e.sa?e.ra():String(e),Rt.test(e)||(e="about:invalid#zClosurez"),e=new Ot(Dt,e)),s.href=At(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=At(e),s&&(Yt&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Ut('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">'),r=s.document)&&(r.write(jt(t)),r.close())):(s=r.open(At(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function pr(){var t=null;return new ye((function(e){"complete"==u.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).s((function(e){throw ln(window,"load",t),e}))}function gr(t){return t=t||Cr(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function vr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function br(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function yr(){var t=br();return"ReactNative"===t||"Node"===t}var _r="Firefox",wr="Chrome";function Er(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?_r:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":wr:"Safari"}var Ir={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Ir)i[Ir[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=Er(i=Cr()):"Worker"===r&&(r=Er(i=Cr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Cr(){return u.navigator&&u.navigator.userAgent||""}function Tr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Nr(){try{var t=u.localStorage,e=Dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!u.indexedDB}catch(n){return vr()&&!!u.indexedDB}return!1}function xr(){return(kr()||"chrome-extension:"===Or()||gr())&&!yr()&&Nr()&&!vr()}function kr(){return"http:"===Or()||"https:"===Or()}function Or(){return u.location&&u.location.protocol||null}function Ar(t){return!cr(t=t||Cr())&&Er(t)!=_r}function Rr(t){return void 0===t?null:er(t)}function Pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function Dr(t){return t||Math.floor(1e9*Math.random()).toString()}function Lr(t){return"Safari"!=Er(t=t||Cr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function jr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Cr(),e=br(),this.b=cr(t)||"ReactNative"===e}function Ur(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function qr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Hr(){return!(!Tr("fireauth.oauthhelper",u)&&!Tr("fireauth.iframe",u))}Fr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!kr()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,Wr={};function zr(t){Wr[t]||(Wr[t]=!0,Vr(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==Gr.abcd}catch(zt){Br=!1}function Kr(t,e,n){Br?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Kr(t,n,e[n])}function Yr(t){var e={};return Qr(e,t),e}function $r(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Kr(e,n,$r(t[n]));return e}function Xr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Kr(this,"uid",t[ei]),Kr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Kr(this,"enrollmentTime",n),Kr(this,"factorId",e)}function Jr(t){try{var e=new ri(t)}catch(n){e=null}return e}Xr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Xr.call(this,t),Kr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[li],i=t[hi];if(t=Jr(t[ci]),!i||i!=si&&i!=ai&&!n||i==ai&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[di]=n||null,e[gi]=n||null,e[fi]=r):(e[di]=r||null,e[gi]=r||null,e[fi]=n||null),e[pi]=t||null,Kr(this,vi,i),Kr(this,mi,$r(e))}S(ri,Xr),ri.prototype.w=function(){var t=ri.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",li="newEmail",hi="requestType",fi="email",di="fromEmail",pi="multiFactorInfo",gi="previousEmail",mi="data",vi="operation";function bi(t){var e=Ln(t=jn(t),yi)||null,n=Ln(t,_i)||null,r=Ln(t,Ii)||null;if(r=r&&Ci[r]||null,!e||!n||!r)throw new C("argument-error",yi+", "+_i+"and "+Ii+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,wi)||null,languageCode:Ln(t,Ei)||null,tenantId:Ln(t,Si)||null})}var yi="apiKey",_i="oobCode",wi="continueUrl",Ei="languageCode",Ii="mode",Si="tenantId",Ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:si,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ti(t){try{return new bi(t)}catch(e){return null}}function Ni(t){var e=t[Ri];if(void 0===e)throw new C("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new C("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[xi];if(n&&"object"==typeof n){e=n[Di];var r=n[Pi];if(n=n[Mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new C("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new C("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new C("argument-error",Di+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new C("missing-android-pkg-name")}}else if(void 0!==n)throw new C("argument-error",xi+" property must be a non null object when specified.");if(this.f=null,(e=t[Ai])&&"object"==typeof e){if("string"==typeof(e=e[Li])&&e.length)this.f=e;else if(void 0!==e)throw new C("argument-error",Li+" property must be a non empty string when specified.")}else if(void 0!==e)throw new C("argument-error",Ai+" property must be a non null object when specified.");if(void 0!==(e=t[Oi])&&"boolean"!=typeof e)throw new C("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[ki])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new C("argument-error",ki+" property must be a non empty string when specified.");this.i=t||null}var xi="android",ki="dynamicLinkDomain",Oi="handleCodeInApp",Ai="iOS",Ri="url",Pi="installApp",Mi="minimumVersion",Di="packageName",Li="bundleId";function ji(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Fi=null;function Ui(t){var e=qi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,I(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Vi(t){try{return new Ui(t)}catch(e){return null}}function qi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fi){Fi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Ui.prototype.S=function(){return this.f},Ui.prototype.i=function(){return this.b},Ui.prototype.toString=function(){return this.g};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Bi=["client_id","response_type","scope","redirect_uri","state"],Wi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Bi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Bi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Bi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Hi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function zi(t){for(var e in Wi)if(Wi[e].fa==t)return Wi[e];return null}function Gi(t){var e={};e["facebook.com"]=Xi,e["google.com"]=Zi,e["github.com"]=Ji,e["twitter.com"]=to;var n=t&&t[Qi];try{if(n)return e[n]?new e[n](t):new $i(t);if(void 0!==t[Ki])return new Yi(t)}catch(r){}return null}var Ki="idToken",Qi="providerId";function Yi(t){var e=t[Qi];if(!e&&t[Ki]){var n=Vi(t[Ki]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Kr(this,"providerId",e),Kr(this,"isNewUser",n)}function $i(t){Yi.call(this,t),Kr(this,"profile",$r((t=Mr(t.rawUserInfo||"{}"))||{}))}function Xi(t){if($i.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if($i.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",this.profile&&this.profile.login||null)}function Zi(t){if($i.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if($i.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",t.screenName||null)}function eo(t){var e=jn(t),n=Ln(e,"link"),r=Ln(jn(n),"link");return e=Ln(e,"deep_link_id"),Ln(jn(e),"link")||e||r||n||t}function no(t,e){if(!t&&!e)throw new C("internal-error","Internal assert: no raw session string available");if(t&&e)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ro:io}S($i,Yi),S(Xi,$i),S(Ji,$i),S(Zi,$i),S(to,$i);var ro="enroll",io="signin";function oo(){}function so(t,e){return t.then((function(t){if(t[Gs]){var n=Vi(t[Gs]);if(!n||e!=n.h)throw new C("user-mismatch");return t}throw new C("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==x+"user-not-found"?new C("user-mismatch"):t}))}function ao(t,e){if(!e)throw new C("internal-error","failed to construct a credential");this.a=e,Kr(this,"providerId",t),Kr(this,"signInMethod",t)}function uo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function co(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ao(t.providerId,t.pendingToken)}catch(e){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Kr(this,"idToken",e.idToken),e.accessToken&&Kr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Kr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Kr(this,"accessToken",e.oauthToken),Kr(this,"secret",e.oauthTokenSecret)}Kr(this,"providerId",t),Kr(this,"signInMethod",n)}function ho(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function po(t,e){this.Pc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(zi(t)||{}).Ja||null,this.nb=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,t,[])}function mo(t){po.call(this,t,Bi),this.a=[]}function vo(){mo.call(this,"facebook.com")}function bo(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new vo).credential({accessToken:e})}function yo(){mo.call(this,"github.com")}function _o(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){mo.call(this,"google.com"),this.Ca("profile")}function Eo(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new wo).credential({idToken:n,accessToken:e})}function Io(){po.call(this,"twitter.com",Hi)}function So(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function Co(t,e,n){this.a=t,this.f=e,Kr(this,"providerId","password"),Kr(this,"signInMethod",n===No.EMAIL_LINK_SIGN_IN_METHOD?No.EMAIL_LINK_SIGN_IN_METHOD:No.EMAIL_PASSWORD_SIGN_IN_METHOD)}function To(t){return t&&t.email&&t.password?new Co(t.email,t.password,t.signInMethod):null}function No(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=ko(e)))throw new C("argument-error","Invalid email link!");return new Co(t,e.code,No.EMAIL_LINK_SIGN_IN_METHOD)}function ko(t){return(t=Ti(t=eo(t)))&&t.operation===si?t:null}function Oo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new C("internal-error");this.a=t,Kr(this,"providerId","phone"),this.fa="phone",Kr(this,"signInMethod","phone")}function Ao(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Oo(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Po(t){try{this.a=t||e.auth()}catch(n){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new C("missing-verification-id");if(!e)throw new C("missing-verification-code");return new Oo({cb:t,bb:e})}function Do(t){if(t.temporaryProof&&t.phoneNumber)return new Oo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Eo(o,n);case"facebook.com":return bo(n);case"github.com":return _o(n);case"twitter.com":return So(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ao(e,s):new lo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Lo(t){if(!t.isOAuthProvider)throw new C("invalid-oauth-provider")}function jo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new jo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}no.prototype.Ha=function(){return Te(this.a?this.a:this.b)},no.prototype.w=function(){return this.type==ro?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ja=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){},ao.prototype.ja=function(t){return da(t,uo(this))},ao.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,pa(t,n)},ao.prototype.c=function(t,e){return so(ga(t,uo(this)),e)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ja=function(t){return da(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,pa(t,n)},lo.prototype.c=function(t,e){return so(ga(t,ho(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},po.prototype.Ka=function(t){return this.Hb=pt(t),this},S(go,po),S(mo,po),mo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},mo.prototype.Pb=function(){return X(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},S(vo,mo),Kr(vo,"PROVIDER_ID","facebook.com"),Kr(vo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(yo,mo),Kr(yo,"PROVIDER_ID","github.com"),Kr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),S(wo,mo),Kr(wo,"PROVIDER_ID","google.com"),Kr(wo,"GOOGLE_SIGN_IN_METHOD","google.com"),S(Io,po),Kr(Io,"PROVIDER_ID","twitter.com"),Kr(Io,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ja=function(t){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?$a(t,Ia,{email:this.a,oobCode:this.f}):$a(t,za,{email:this.a,password:this.f})},Co.prototype.b=function(t,e){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?$a(t,Sa,{idToken:e,email:this.a,oobCode:this.f}):$a(t,ja,{idToken:e,email:this.a,password:this.f})},Co.prototype.c=function(t,e){return so(this.ja(t),e)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(No,{PROVIDER_ID:"password"}),Qr(No,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(No,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ja=function(t){return t.eb(Ro(this))},Oo.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,$a(t,Ka,n)},Oo.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",so(t=$a(t,Qa,n),e)},Oo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.eb=function(t,e){var n=this.a.a;return Te(e.verify()).then((function(r){if("string"!=typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==ro?i.Ha().then((function(t){return function(t,e){return $a(t,Ua,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==io?i.Ha().then((function(e){return function(t,e){return $a(t,Va,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return $a(t,Da,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Qr(Po,{PROVIDER_ID:"phone"}),Qr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),jo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},jo.prototype.S=function(){return this.h},jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,qo=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=jn(t);t=r.a,"chrome-extension"==(r=r.f)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",C.call(this,e,n)}function Bo(t,e,n){C.call(this,t,n),(t=e||{}).Ib&&Kr(this,"email",t.Ib),t.ea&&Kr(this,"phoneNumber",t.ea),t.credential&&Kr(this,"credential",t.credential),t.Yb&&Kr(this,"tenantId",t.Yb)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:Do(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new C(e,t.message||void 0);return new Bo(e,n,t.message)}return null}function zo(){}function Go(){}function Ko(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Yo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.pc,this),this.a.onerror=w(this.Rb,this),this.a.onprogress=w(this.qc,this),this.a.ontimeout=w(this.uc,this)}function $o(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Xo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Jo(t){this.f=t,this.b=this.c=this.a=null}function Zo(t,e){this.name=t,this.value=e}S(Ho,C),S(Bo,C),Bo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},Bo.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,S(Go,zo),Go.prototype.a=function(){var t=Ko(this);return t?new ActiveXObject(t):new XMLHttpRequest},Go.prototype.b=function(){var t={};return Ko(this)&&(t[0]=!0,t[1]=!0),t},Vo=new Go,S(Qo,zo),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Yo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Yo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,$o(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",$o(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,$o(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xo.prototype.a=null,Xo.prototype.reset=function(t,e,n,r,i){r||I(),delete this.a},Zo.prototype.toString=function(){return this.name};var ts=new Zo("SEVERE",1e3),es=new Zo("WARNING",900),ns=new Zo("CONFIG",700),rs=new Zo("FINE",500);Jo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(D("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Xo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var is={},os=null;function ss(t){var e;if(os||(os=new Jo(""),is[""]=os,os.c=ns),!(e=is[t])){e=new Jo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ss(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,is[t]=e}return e}function as(t,e){t&&t.log(rs,e,void 0)}function us(t){this.f=t}function cs(t){yn.call(this),this.o=t,this.readyState=ls,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ss("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}S(us,zo),us.prototype.a=function(){return new cs(this.f)},us.prototype.b=function(t){return function(){return t}}({}),S(cs,yn);var ls=0;function hs(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function fs(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ds(t)}function ds(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ps(t){yn.call(this),this.headers=new Nn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=gs,this.u=this.R=!1}(t=cs.prototype).open=function(t,e){if(this.readyState!=ls)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ds(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,fs(this,!1)),this.readyState=ls},t.tc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ds(this)),this.a&&(this.readyState=3,ds(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,hs(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?fs(this,!0):ds(this),3==this.readyState&&hs(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,fs(this,!0))},t.rc=function(t){this.a&&(this.response=t,fs(this,!0))},t.Ta=function(t){var e=this.h;e&&e.log(es,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&fs(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(es,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(es,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},S(ps,yn);var gs="";ps.prototype.b=ss("goog.net.XhrIo");var ms=/^https?$/i,vs=["POST","PUT"];function bs(t){return"content-type"==t.toLowerCase()}function ys(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,_s(t),Es(t)}function _s(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ws(t){if(t.c&&void 0!==a)if(t.A[1]&&4==Ss(t)&&2==Cs(t))as(t.b,Ts(t,"Local request error detected and ignored"));else if(t.i&&4==Ss(t))In(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Ss(t)){as(t.b,Ts(t,"Request complete")),t.c=!1;try{var e,n=Cs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(On)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!ms.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ss(t)?t.a.statusText:""}catch(l){as(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Cs(t)+"]",_s(t)}}finally{Es(t)}}}function Es(t,e){if(t.a){Is(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ts,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Is(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(u.clearTimeout(t.o),t.o=null)}function Ss(t){return t.a?t.a.readyState:0}function Cs(t){try{return 2<Ss(t)?t.a.status:-1}catch(e){return-1}}function Ts(t,e){return e+" ["+t.P+" "+t.l+" "+Cs(t)+"]"}function Ns(t){var e=Fs;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function xs(t,e,n){t.a=!0,t.c=n,t.f=!e,Rs(t)}function ks(t){if(t.a){if(!t.m)throw new Ps(t);t.m=!1}}function Os(t,e,n,r){t.g.push([e,n,r]),t.a&&Rs(t)}function As(t){return G(t.g,(function(t){return p(t[1])}))}function Rs(t){if(t.h&&t.a&&As(t)){var e=t.h,n=Ls[e];n&&(u.clearTimeout(n.a),delete Ls[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.o,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(R(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,As(t)||(n=!0)}}t.c=e,r&&(a=w(t.v,t,!0),r=w(t.v,t,!1),e instanceof Ns?(Os(e,a,r),e.A=!0):e.then(a,r)),n&&(e=new Ds(e),Ls[e.a]=e,t.h=e.a)}function Ps(){P.call(this)}function Ms(){P.call(this)}function Ds(t){this.a=u.setTimeout(w(this.c,this),0),this.b=t}(t=ps.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",as(this.b,Ts(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(as(this.b,Ts(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Es(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Es(this,!0)),ps.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?ws(this):this.Ic())},t.Ic=function(){ws(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case gs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ts,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return as(this.b,"Can not get response: "+e.message),null}},Ns.prototype.cancel=function(t){if(this.a)this.c instanceof Ns&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Ms(this),ks(this),xs(this,!1,t))}},Ns.prototype.v=function(t,e){this.i=!1,xs(this,t,e)},Ns.prototype.then=function(t,e,n){var r,i,o=new ye((function(t,e){r=t,i=e}));return Os(this,r,(function(t){t instanceof Ms?o.cancel():i(t)})),o.then(t,e,n)},Ns.prototype.$goog_Thenable=!0,S(Ps,P),Ps.prototype.message="Deferred has already fired",Ps.prototype.name="AlreadyCalledError",S(Ms,P),Ms.prototype.message="Deferred was canceled",Ms.prototype.name="CanceledError",Ds.prototype.c=function(){throw delete Ls[this.a],this.b};var Ls={};function js(t){var e={},n=e.document||document,r=St(t).toString(),i=fe(document,"SCRIPT"),o={Vb:i,Ma:void 0},s=new Ns(o),a=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(a=window.setTimeout((function(){Us(i,!0);var t=new Hs(qs,"Timeout reached for loading script "+r);ks(s),xs(s,!1,t)}),h),o.Ma=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Us(i,e.wd||!1,a),ks(s),xs(s,!0,null))},i.onerror=function(){Us(i,!0,a);var t=new Hs(Vs,"Error while loading script "+r);ks(s),xs(s,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ae(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=St(e),null===l&&(l=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=l)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Fs(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Us(t,!0,this.Ma)}}function Us(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Vs=0,qs=1;function Hs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Bs(t){this.f=t}function Ws(t,n,r){if(this.c=t,this.l=(t=n||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Ks,this.g=pt(t.secureTokenHeaders||Qs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Ys,this.a=pt(t.firebaseHeaders||$s),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==br(),!(r=u.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!vr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=vr()?new us(self):yr()?new Bs(r):new Qo,this.b=null}S(Hs,P),S(Bs,zo),Bs.prototype.a=function(){return new this.f},Bs.prototype.b=function(){return{}};var zs,Gs="idToken",Ks=new Fr(3e4,6e4),Qs={"Content-Type":"application/x-www-form-urlencoded"},Ys=new Fr(3e4,6e4),$s={"Content-Type":"application/json"};function Xs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Js(t,e){e&&(t.l=Zs("https://securetoken.googleapis.com/v1/token",e),t.h=Zs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Zs("https://identitytoolkit.googleapis.com/v2/",e))}function Zs(t,e){return t=jn(t),e=jn(e.url),t.c=t.a+t.c,Rn(t,e.f),t.a=e.a,Pn(t,e.g),t.toString()}function ta(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ea(t,e,n,r,i,o,s){(function(){var t=Cr();return!((t=Er(t)!=wr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Kt&&ne&&!(9<ne))})()||vr()?t=w(t.u,t):(zs||(zs=new ye((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(u[ra]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Os(t,null,e,void 0)}(js(Ct(na,{onload:ra})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=w(t.o,t)),t(e,n,r,i,o,s)}Ws.prototype.S=function(){return this.b},Ws.prototype.u=function(t,e,n,r,i,o){if(vr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ps(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}_n(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return as(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),wn(s,"ready",(function(){a&&clearTimeout(a),Be(this)})),wn(s,"timeout",(function(){a&&clearTimeout(a),Be(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Vo.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.O?t.O:Vo),t.a.onreadystatechange=w(t.Ub,t);try{as(t.b,Ts(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return as(t.b,Ts(t,"Error opening Xhr: "+s.message)),void ys(t,s)}e=r||"";var o=new Nn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)B(t,e,void 0);else for(var n=Tn(t),r=Cn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=bs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!K(vs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Is(t),0<t.g&&(t.u=function(t){return Kt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),as(t.b,Ts(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.o=In(t.Ma,t.g,t)),as(t.b,Ts(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){as(t.b,Ts(t,"Send error: "+s.message)),ys(t,s)}}(s,t,n,r,i)};var na=new bt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),ra="__fcb"+Math.floor(1e6*Math.random()).toString();function ia(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new C("invalid-email")}function oa(t){"email"in t&&ia(t)}function sa(t){if(!t[Gs]){if(t.mfaPendingCredential)throw new C("multi-factor-auth-required",null,pt(t));throw new C("internal-error")}}function aa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new C("internal-error")}else{if(!t.sessionInfo)throw new C("missing-verification-id");if(!t.code)throw new C("missing-verification-code")}}Ws.prototype.o=function(t,e,n,r,i){var o=this;zs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ws.prototype.yb=function(){return $a(this,Fa,{})},Ws.prototype.Ab=function(t,e){return $a(this,La,{idToken:t,email:e})},Ws.prototype.Bb=function(t,e){return $a(this,ja,{idToken:t,password:e})};var ua={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ca(t){if(!t.phoneVerificationInfo)throw new C("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new C("missing-verification-code")}function la(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new C("internal-error")}function ha(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Xn(t=new Kn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function fa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=Xa(t.errorMessage)),e)throw e;sa(t)}function da(t,e){return e.returnIdpCredential=!0,$a(t,qa,e)}function pa(t,e){return e.returnIdpCredential=!0,$a(t,Ba,e)}function ga(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,$a(t,Ha,e)}function ma(t){if(!t.oobCode)throw new C("invalid-action-code")}(t=Ws.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ft(ua,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),$a(this,La,n)},t.ub=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),$a(this,Aa,t)},t.vb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),$a(this,xa,t)},t.tb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),$a(this,ka,t)},t.Db=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),$a(this,Oa,t)},t.eb=function(t){return $a(this,Ga,t)},t.mb=function(t,e){return $a(this,Ma,{oobCode:t,newPassword:e})},t.Qa=function(t){return $a(this,ba,{oobCode:t})},t.ib=function(t){return $a(this,va,{oobCode:t})};var va={endpoint:"setAccountInfo",B:ma,Z:"email",C:!0},ba={endpoint:"resetPassword",B:ma,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new C("internal-error")},C:!0},ya={endpoint:"signupNewUser",B:function(t){if(ia(t),!t.password)throw new C("weak-password")},F:sa,U:!0,C:!0},_a={endpoint:"createAuthUri",C:!0},wa={endpoint:"deleteAccount",M:["idToken"]},Ea={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if("array"!=f(t.deleteProvider))throw new C("internal-error")}},Ia={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ia,F:sa,U:!0,C:!0},Sa={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ia,F:sa,U:!0},Ca={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ca,F:sa,C:!0,Na:!0},Ta={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ca,F:sa,C:!0,Na:!0},Na={endpoint:"getAccountInfo"},xa={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new C("internal-error");ia(t)},Z:"email",C:!0},ka={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",C:!0},Oa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",C:!0},Aa={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new C("internal-error");ia(t)},Z:"email",C:!0},Ra={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Pa={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new C("internal-error")}},Ma={endpoint:"resetPassword",B:ma,Z:"email",C:!0},Da={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},La={endpoint:"setAccountInfo",M:["idToken"],B:oa,U:!0},ja={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(oa(t),!t.password)throw new C("weak-password")},F:sa,U:!0},Fa={endpoint:"signupNewUser",F:sa,U:!0,C:!0},Ua={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new C("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new C("internal-error")},C:!0,Na:!0},Va={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new C("internal-error")},C:!0,Na:!0},qa={endpoint:"verifyAssertion",B:la,Xa:ha,F:fa,U:!0,C:!0},Ha={endpoint:"verifyAssertion",B:la,Xa:ha,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new C("user-not-found");if(t.errorMessage)throw Xa(t.errorMessage);sa(t)},U:!0,C:!0},Ba={endpoint:"verifyAssertion",B:function(t){if(la(t),!t.idToken)throw new C("internal-error")},Xa:ha,F:fa,U:!0},Wa={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new C("invalid-custom-token")},F:sa,U:!0,C:!0},za={endpoint:"verifyPassword",B:function(t){if(ia(t),!t.password)throw new C("wrong-password")},F:sa,U:!0,C:!0},Ga={endpoint:"verifyPhoneNumber",B:aa,F:sa,C:!0},Ka={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new C("internal-error");aa(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);sa(t)}},Qa={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:aa,F:sa,C:!0},Ya={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Gs]^!!t.refreshToken)throw new C("internal-error")},C:!0,Na:!0};function $a(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ne(new C("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Te(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=jn(e+n);Dn(a,"key",t.c),s&&Dn(a,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Dn(a,c,i[c]);return new ye((function(e,n){ea(t,a.toString(),(function(t){t?t.error?n(Ja(t,o||{})):e(t):n(new C("network-request-failed"))}),r,u?void 0:er(Pr(i)),t.a,t.m.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new C("internal-error");return r[e.Z]}))}function Xa(t){return Ja({error:{errors:[{message:t}],code:400,message:t}})}function Ja(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],e);return!e&&t&&(e=Rr(t)),new C("internal-error",e)}function Za(t){this.b=t,this.a=null,this.qb=function(t){return(ru||(ru=new ye((function(t,e){function n(){jr(),Tr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){jr(),e(Error("Network Error"))},timeout:eu.get()})}if(Tr("gapi.iframes.Iframe"))t();else if(Tr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Tr("gapi.load")?n():e(Error("Network Error"))},Te(js(r=Ct(tu,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw ru=null,t})))).then((function(){return new ye((function(e,n){Tr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),nu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var tu=new bt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),eu=new Fr(3e4,6e4),nu=new Fr(5e3,15e3),ru=null;function iu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Fn((t=jn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,Dn(this.a,"apiKey",this.h),Dn(this.a,"appName",this.i),this.b=null,this.c=[]}function ou(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function su(t){try{return e.app(t).auth().Ga()}catch(n){return[]}}function au(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function uu(t){var e=ar();return function(t){return $a(t,Ra,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=jn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=jn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:fr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ho(ar())}))}function cu(t){return t.v||(t.v=pr().then((function(){if(!t.u){var e=t.c,n=t.i,r=su(t.b),i=new iu(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.m=new Za(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Fo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)}))}(t)}))),t.v}function lu(t){return t.l||(t.A=t.c?Sr(t.c,su(t.b)):null,t.l=new Ws(t.g,A(t.i),t.A),t.f&&Js(t.l,t.f)),t.l}function hu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new ou(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=pt(u||null),t.f=c,t.xb(l).toString()}function fu(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function du(t){this.b=t,this.a={},this.f=w(this.c,this)}iu.prototype.toString=function(){return this.f?Dn(this.a,"v",this.f):$n(this.a.b,"v"),this.b?Dn(this.a,"eid",this.b):$n(this.a.b,"eid"),this.c.length?Dn(this.a,"fw",this.c.join(",")):$n(this.a.b,"fw"),this.a.toString()},ou.prototype.xb=function(t){return this.h=t,this},ou.prototype.toString=function(){if(this.m){var t=jn(this.m.url);t=Fn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(Dn(t,"apiKey",this.o),Dn(t,"appName",this.c),Dn(t,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().ka()}catch(u){r=null}for(var i in n.nb=r,Dn(t,"providerId",this.a.providerId),n=Pr((r=this.a).Hb))n[i]=n[i].toString();i=r.Pc,n=pt(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),dt(n)||Dn(t,"customParameters",Rr(n))}if("function"==typeof this.a.Pb&&(r=this.a.Pb()).length&&Dn(t,"scopes",r.join(",")),this.l?Dn(t,"redirectUrl",this.l):$n(t.b,"redirectUrl"),this.g?Dn(t,"eventId",this.g):$n(t.b,"eventId"),this.i?Dn(t,"v",this.i):$n(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ln(t,a)&&Dn(t,a,this.b[a]);return this.h?Dn(t,"tid",this.h):$n(t.b,"tid"),this.f?Dn(t,"eid",this.f):$n(t.b,"eid"),(a=su(this.c)).length&&Dn(t,"fw",a.join(",")),t.toString()},(t=au.prototype).Nb=function(t,e,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,s=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return cu(t).then((function(){return function(t,e){return t.qb.then((function(){return new ye((function(n){t.a.send(e.type,e,n,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),s=!0)}))})).s((function(){})).then((function(){if(!s)return function(t){return new ye((function(e){return function n(){Sn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Sn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Cr();return!Ar(t)&&!Lr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,a){if(!t)return Ne(new C("popup-blocked"));if(s&&!Ar())return this.la().s((function(e){lr(t),i(e)})),r(),Te();this.a||(this.a=uu(lu(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){Lo(n),s||ur(hu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=uu(lu(this)));var i=this;return this.a.then((function(){Lo(e),ur(hu(i.o,i.g,i.b,t,e,ar(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return cu(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new C("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){Y(this.h,(function(e){return e==t}))},(t=fu.prototype).get=function(t){return Te(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},t.set=function(t,e){return Te(this.a.setItem(t,Rr(e)))},t.T=function(t){return Te(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var pu,gu=[];function mu(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function vu(t){this.a=t}function bu(t){this.c=t,this.b=!1,this.a=[]}function yu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return _u(t,c),e})).s((function(e){throw _u(t,c),e}))}function _u(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function wu(){if(!Iu())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;vr()&&self?(this.l=function(){var t=vr()?self:null;if(B(gu,(function(n){n.b==t&&(e=n)})),!e){var e=new du(t);gu.push(e)}return e}(),mu(this.l,"keyChanged",(function(e,n){return xu(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:K(e,n.key)}}))})),mu(this.l,"ping",(function(){return Te(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Te().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Te(null)}().then((function(e){(t.h=e)&&(t.g=new bu(new vu(e)),yu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Eu(t){return t.v||(t.v=function t(e){return new ye((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new ye((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)}))}}))}(t)),t.v}function Iu(){try{return!!u.indexedDB}catch(zt){return!1}}function Su(t){return t.objectStore("firebaseLocalStorage")}function Cu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Tu(t){return new ye((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Nu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?yu(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Te()}function xu(t){return Eu(t).then((function(t){var e=Su(Cu(t,!1));return e.getAll?Tu(e.getAll()):new ye((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function ku(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ou(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then((function(){if(Iu()){var t=Dr(),r="__sak"+t;return pu||(pu=new wu),(n=pu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function Au(){this.a={},this.type="inMemory"}function Ru(){if(!function(){var t="Node"==br();if(!(t=Pu()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==br())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Pu()||e.INTERNAL.node.localStorage,this.type="localStorage"}function Pu(){try{var t=u.localStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Mu(){this.type="nullStorage"}function Du(){if(!function(){var t="Node"==br();if(!(t=Lu()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==br())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Lu()||e.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Lu(){try{var t=u.sessionStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function ju(){var t={};t.Browser=Vu,t.Node=qu,t.ReactNative=Hu,t.Worker=Bu,this.a=t[br()]}du.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(Te().then((function(){return e(t.origin,t.data.data)})))})),ke(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},vu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},bu.prototype.close=function(){for(;0<this.a.length;)_u(this,this.a[0]);this.b=!0},(t=wu.prototype).set=function(t,e){var n,r=!1,i=this;return Eu(this).then((function(e){return Tu((e=Su(Cu(n=e,!0))).get(t))})).then((function(o){var s=Su(Cu(n,!0));return o?(o.value=e,Tu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Tu(s.add(o)))})).then((function(){return i.c[t]=e,Nu(i,t)})).na((function(){r&&i.b--}))},t.get=function(t){return Eu(this).then((function(e){return Tu(Su(Cu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return Eu(this).then((function(r){return e=!0,n.b++,Tu(Su(Cu(r,!0)).delete(t))})).then((function(){return delete n.c[t],Nu(n,t)})).na((function(){e&&n.b--}))},t.ca=function(t){0==this.a.length&&function(t){ku(t),function e(){t.f=setTimeout((function(){t.i=xu(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&ku(this)},(t=Ou.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t}))},(t=Au.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.T=function(t){return delete this.a[t],Te()},t.ca=function(){},t.ia=function(){},(t=Ru.prototype).get=function(t){var e=this;return Te().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Rr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ca=function(t){u.window&&an(u.window,"storage",t)},t.ia=function(t){u.window&&ln(u.window,"storage",t)},(t=Mu.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.T=function(){return Te()},t.ca=function(){},t.ia=function(){},(t=Du.prototype).get=function(t){var e=this;return Te().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Rr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Fu,Uu,Vu={D:Ru,ab:Du},qu={D:Ru,ab:Du},Hu={D:fu,ab:Mu},Bu={D:Ru,ab:Mu},Wu={qd:"local",NONE:"none",sd:"session"};function zu(){var t=!(Lr(Cr())||!mr()),e=Ar(),n=Nr();this.v=t,this.h=e,this.l=n,this.a={},Fu||(Fu=new ju),t=Fu;try{this.g=!sr()&&Hr()||!u.indexedDB?new t.a.D:new Ou(vr()?new Au:new t.a.D)}catch(r){this.g=new Au,this.h=!0}try{this.i=new t.a.ab}catch(r){this.i=new Au}this.m=new Au,this.f=w(this.Xb,this),this.b={}}function Gu(){return Uu||(Uu=new zu),Uu}function Ku(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Qu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Yu(t,e,n){return n=Qu(e,n),"local"==e.D&&(t.b[n]=null),Ku(t,e.D).T(n)}function $u(t){t.c&&(clearInterval(t.c),t.c=null)}function Xu(t){this.a=t,this.b=Gu()}(t=zu.prototype).get=function(t,e){return Ku(this,t.D).get(Qu(t,e))},t.set=function(t,e,n){var r=Qu(t,n),i=this,o=Ku(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Qu(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),dt(this.a)&&(Ku(this,"local").ca(this.f),this.h||(sr()||!Hr())&&u.indexedDB||!this.l||function(t){$u(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Qu(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(Ku(this,"local").ia(this.f),$u(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ku(this,"local").ia(this.f):$u(this),this.v)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.lb(e))},Kt&&ne&&10==ne&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,w(this.lb,this))},t.lb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var Ju,Zu={name:"authEvent",D:"local"};function tc(){this.a=Gu()}function ec(t,e){this.b=nc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===Ju&&(Ju=u.Int32Array?new Int32Array(cc):cc),this.reset()}S(ec,(function(){this.b=-1}));for(var nc=64,rc=nc-1,ic=[],oc=0;oc<rc;oc++)ic[oc]=0;var sc=$(128,ic);function ac(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|Ju[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function uc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ac(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ac(t),i=0)}}t.c=i,t.g+=n}ec.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):X(this.h)};var cc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function lc(){ec.call(this,8,hc)}S(lc,ec);var hc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fc(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new tc,this.g=new Xu(this.h),this.f=null,this.b=[],this.a=this.c=null}function dc(t){return new C("invalid-cordova-configuration",t)}function pc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function gc(t){return t.f||(t.f=t.la().then((function(){return new ye((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),mc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=eo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Ln(o=jn(i),"firebaseError")||null))?T(o):null)?new jo(r.c,r.b,null,null,o,null,r.S()):new jo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}pc(t,i)}))}var n=new jo("unknown",null,null,null,new C("no-auth-event")),r=!1,i=Sn(500).then((function(){return mc(t).then((function(){r||pc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Tr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},qo||(qo=new Uo),function(t){var e=qo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Tr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function mc(t){var e=null;return function(t){return t.b.get(Zu,t.a).then((function(t){return Fo(t)}))}(t.g).then((function(n){return e=n,Yu((n=t.g).b,Zu,n.a)})).then((function(){return e}))}function vc(t){this.a=t,this.b=Gu()}(t=fc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?pr().then((function(){return new ye((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Tr("universalLinks.subscribe",u))throw dc("cordova-universal-links-plugin-fix is not installed");if(void 0===Tr("BuildInfo.packageName",u))throw dc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Tr("cordova.plugins.browsertab.openUrl",u))throw dc("cordova-plugin-browsertab is not installed");if("function"!=typeof Tr("cordova.InAppBrowser.open",u))throw dc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new C("cordova-not-ready")}))},t.Nb=function(t,e){return e(new C("operation-not-supported-in-this-environment")),Te()},t.Lb=function(){return Ne(new C("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Ne(new C("redirect-operation-pending"));var i=this,o=u.document,s=null,a=null,c=null,l=null;return this.c=Te().then((function(){return Lo(e),gc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new jo(e,r,null,o,new C("no-auth-event"),null,i),a=Tr("BuildInfo.packageName",u);if("string"!=typeof a)throw new C("invalid-cordova-configuration");var c=Tr("BuildInfo.displayName",u),l={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=a;else{if(!Cr().toLowerCase().match(/android/))return Ne(new C("operation-not-supported-in-this-environment"));l.apn=a}c&&(l.appDisplayName=c),o=function(t){var e=new lc;uc(e,t),t=[];var n=8*e.g;uc(e,sc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ac(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=hu(t.m,t.i,t.l,e,n,null,r,t.v,l,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(Zu,s.w(),e)})).then((function(){var e=Tr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new C("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Tr("cordova.plugins.browsertab.openUrl",u)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Tr("cordova.InAppBrowser.open",u)))throw new C("invalid-cordova-configuration");e=Cr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ye((function(t,e){a=function(){var e=Tr("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(a),l=function(){Ur()&&c()},o.addEventListener("resume",c=function(){s||(s=Sn(2e3).then((function(){e(new C("redirect-cancelled-by-user"))})))},!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(t){return mc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),a&&i.Ra(a),i.c=null}))},t.Ea=function(t){this.b.push(t),gc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new jo("unknown",null,null,null,new C("no-auth-event")),t(e))}))},t.Ra=function(t){Y(this.b,(function(e){return e==t}))};var bc={name:"pendingRedirect",D:"session"};function yc(t){return Yu(t.b,bc,t.a)}function _c(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=w(this.o,this),this.b=new Dc,this.A=new Vc,this.g=new vc(Pc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=wc(this.O,this.m,this.v,N,this.G)}function wc(t,n,r,i,o){var s=e.SDK_VERSION||null;return gr()?new fc(t,n,r,s,i,o):new au(t,n,r,s,i,o)}function Ec(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function Ic(t){t.a.Wb()&&Ec(t).s((function(e){var n=new jo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));kc(e)&&t.o(n)})),t.a.Sb()||Lc(t.b)}function Sc(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(bc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?yc(t.g).then((function(){Ec(t).s((function(e){var n=new jo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));kc(e)&&t.o(n)}))})):Ic(t)})).s((function(){Ic(t)}))}function Cc(t,e){Y(t.h,(function(t){return t==e}))}_c.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=wc(this.O,this.m,this.v,null,this.G),this.i={}},_c.prototype.o=function(t){if(!t)throw new C("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=I())),e=!0;break}}return Lc(this.b),e};var Tc=new Fr(2e3,1e4),Nc=new Fr(3e4,6e4);function xc(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function kc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Oc(t,e,n,r,i){var o;return function(t){return t.b.set(bc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(kc(e))throw new C("operation-not-supported-in-this-environment");return o=e,yc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new ye((function(){})):yc(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function Ac(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Tc.get())}_c.prototype.qa=function(){return this.b.qa()};var Rc={};function Pc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Mc(t,e,n,r){var i=Pc(e,n,r);return Rc[i]||(Rc[i]=new _c(t,e,n,r)),Rc[i]}function Dc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Lc(t){t.g||(t.g=!0,Uc(t,!1,null,null))}function jc(t){t.g&&!t.i&&Uc(t,!1,null,null)}function Fc(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Uc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Fc(t,n):Fc(t,{user:null}),t.f=[],t.c=[]}function Vc(){}function qc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Hc(t,e){this.a=e,Kr(this,"verificationId",t)}function Bc(t,e,n,r){return new Po(t).eb(e,n).then((function(t){return new Hc(t,r)}))}function Wc(t){var e=qi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:qr(1e3*e.exp),authTime:qr(1e3*e.auth_time),issuedAtTime:qr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function zc(t,e,n){var r=e&&e[Kc];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new no(null,r),this.b=[];var i=this;B(e[Gc]||[],(function(t){(t=Jr(t))&&i.b.push(t)})),Kr(this,"auth",this.a),Kr(this,"session",this.c),Kr(this,"hints",this.b)}Dc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Dc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Uc(this,!0,null,t.a),Te()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Uc(t,a,e,null)})).s((function(e){Uc(t,a,null,e)}))}(this,t,e):Ne(new C("invalid-auth-event")):(Uc(this,!1,null,null),Te())}else Ne(new C("invalid-auth-event"))},Dc.prototype.qa=function(){var t=this;return new ye((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new C("timeout");t.a&&t.a.cancel(),t.a=Sn(Nc.get()).then((function(){t.b||(t.g=!0,Uc(t,!0,null,e))}))}(t))}))},Vc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Te()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).s((function(t){e.ma(r,null,t,n)}))}(t,e):Ne(new C("invalid-auth-event"))}else Ne(new C("invalid-auth-event"))},Hc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var Gc="mfaInfo",Kc="mfaPendingCredential";function Qc(t,e,n,r){C.call(this,"multi-factor-auth-required",r,e),this.b=new zc(t,e,n),Kr(this,"resolver",this.b)}function Yc(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Qc(e,t.serverResponse,n,t.message)}catch(r){}return null}function $c(){}function Xc(t){Kr(this,"factorId",t.fa),this.a=t}function Jc(t){if(Xc.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zc(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function tl(t,e){this.a=t,this.b=[],this.c=w(this.xc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),el(this,n)}function el(t,e){t.b=e,Kr(t,"enrolledFactors",e)}function nl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rl(t){this.c=t,this.b=this.a=null}function il(t){return t.b&&1e3*t.b.c||0}function ol(t,e){var n=e.refreshToken;t.b=Vi(e[Gs]||""),t.a=n}function sl(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:qr(e||null),creationTime:qr(t||null)})}function al(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ul(t,n,r){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var i=e.SDK_VERSION?Sr(e.SDK_VERSION):null;this.a=new Ws(this.l,A(N),i),t.emulatorConfig&&Js(this.a,t.emulatorConfig),this.b=new rl(this.a),ml(this,n[Gs]),ol(this.b,n),Kr(this,"refreshToken",this.b.a),yl(this,r||{}),yn.call(this),this.P=!1,this.o&&xr()&&(this.i=Mc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new nl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=il(t.b)-I()-3e5;return 0<e?e:0}))}(this),this.$=w(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){Js(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){hl(o,t.f)},this.aa=null,this.N=new tl(this,r),Kr(this,"multiFactor",this.N)}function cl(t,e){t.ba&&ln(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&an(e,"languageCodeChanged",t.Ba)}function ll(t,e){t.W&&ln(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&an(e,"emulatorConfigChanged",t.za)}function hl(t,n){t.X=n,ta(t.a,e.SDK_VERSION?Sr(e.SDK_VERSION,t.X):null)}function fl(t,e){t.aa&&ln(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&an(e,"frameworkChanged",t.Aa)}function dl(t){try{return e.app(t.m).auth()}catch(n){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function pl(t){t.A||t.u.b||(t.u.start(),ln(t,"tokenChanged",t.$),an(t,"tokenChanged",t.$))}function gl(t){ln(t,"tokenChanged",t.$),t.u.stop()}function ml(t,e){t.ya=e,Kr(t,"_lat",e)}function vl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return ke(e).then((function(){return t}))}function bl(t){t.i&&!t.P&&(t.P=!0,Sc(t.i,t))}function yl(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new sl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function _l(){}function wl(t){return Te().then((function(){if(t.A)throw new C("app-deleted")}))}function El(t){return z(t.providerData,(function(t){return t.providerId}))}function Il(t,e){e&&(Sl(t,e.providerId),t.providerData.push(e))}function Sl(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function Cl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Kr(t,e,n)}function Tl(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Kr(t,"metadata",e.metadata?function(t){return new sl(t.a,t.b)}(e.metadata):new sl),B(e.providerData,(function(e){Il(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Kr(t,"refreshToken",t.b.a),el(t.N,e.N.b))}function Nl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return $a(t.a,Na,{idToken:e}).then(w(t.Jc,t))}(t,e).then((function(){return n||Cl(t,"isAnonymous",!1),e}))}))}function xl(t,e){e[Gs]&&t.ya!=e[Gs]&&(ol(t.b,e),t.dispatchEvent(new Zc("tokenChanged")),ml(t,e[Gs]),Cl(t,"refreshToken",t.b.a))}function kl(t,e){return Nl(t).then((function(){if(K(El(t),e))return vl(t).then((function(){throw new C("provider-already-linked")}))}))}function Ol(t,e,n){return Yr({user:t,credential:Do(e),additionalUserInfo:e=Gi(e),operationType:n})}function Al(t,e){return xl(t,e),t.reload().then((function(){return t}))}function Rl(t,n,r,i,o){if(!xr())return Ne(new C("operation-not-supported-in-this-environment"));if(t.f&&!o)return Ne(t.f);var s=zi(r.providerId),a=Dr(t.uid+":::"),u=null;(!Ar()||mr())&&t.o&&r.isOAuthProvider&&(u=hu(t.o,t.l,t.m,n,r,null,a,e.SDK_VERSION||null,null,null,t.tenantId));var c=hr(u,s&&s.ua,s&&s.ta);return i=i().then((function(){if(Ml(t),!o)return t.I().then((function(){}))})).then((function(){return xc(t.i,c,n,r,a,!!u,t.tenantId)})).then((function(){return new ye((function(e,r){t.ma(n,null,new C("cancelled-popup-request"),t.h||null),t.g=e,t.O=r,t.h=a,t.c=Ac(t.i,t,n,c,a)}))})).then((function(t){return c&&lr(c),t?Yr(t):null})).s((function(t){throw c&&lr(c),t})),Dl(t,i,o)}function Pl(t,e,n,r,i){if(!xr())return Ne(new C("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ne(t.f);var o=null,s=Dr(t.uid+":::");return r=r().then((function(){if(Ml(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,vl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Fl,t.w(),e.a)),e})).then((function(){return Oc(t.i,e,n,s,t.tenantId)})).s((function(e){if(o=e,t.ha)return Ul(t.ha);throw o})).then((function(){if(o)throw o})),Dl(t,r,i)}function Ml(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function Dl(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Ne(t.f)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new Zc("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){Q(t.G,r)})),r.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Yc(e.w(),dl(t),w(t.ic,t))),n||e}))}function Ll(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Gs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new ul(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&Il(r,Yr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function jl(t){this.a=t,this.b=Gu()}zc.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=pt(e.f);return delete n[Gc],delete n[Kc],mt(n,t),e.g(n)}))},S(Qc,C),$c.prototype.rb=function(t,e,n){return e.type==ro?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),mt(n,{phoneVerificationInfo:Ro(t.a)}),$a(e,Ca,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),$a(e,Ta,n)}))}(this,t,e)},S(Xc,$c),S(Jc,Xc),S(Zc,Qe),(t=tl.prototype).xc=function(t){el(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=Jr(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new no(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return xl(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return $a(r,Ya,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=W(e.b,(function(t){return t.uid!=n}));return el(e,r),xl(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.w()}))}}},nl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return Ur()||!t?Te():new ye((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},nl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rl.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:il(this)}},rl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new C("user-token-expired")):t||!this.b||I()>il(this)-3e4?this.a?function(t,e){return function(t,e){return new ye((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ea(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ja(t)):t.access_token&&t.refresh_token?n(t):r(new C("internal-error")):r(new C("network-request-failed"))}),"POST",Yn(e).toString(),t.g,t.v.get()):r(new C("internal-error"))}))}(t.c,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},sl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(ul,yn),ul.prototype.wa=function(t){this.pa=t,Xs(this.a,t)},ul.prototype.ka=function(){return this.pa},ul.prototype.Ga=function(){return X(this.X)},ul.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Kr(ul.prototype,"providerId","firebase"),(t=ul.prototype).reload=function(){var t=this;return Dl(this,wl(this).then((function(){return Nl(t).then((function(){return vl(t)})).then(_l)})))},t.nc=function(t){return this.I(t).then((function(t){return new Wc(t)}))},t.I=function(t){var e=this;return Dl(this,wl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new C("internal-error");return t.accessToken!=e.ya&&(ml(e,t.accessToken),e.dispatchEvent(new Zc("tokenChanged"))),Cl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new C("internal-error");yl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new al(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Il(this,e[n]);Cl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zc("userReloaded",{gd:t}))},t.Kc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Dl(this,t.c(this.a,this.uid).then((function(t){return xl(e,t),n=Ol(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Dl(this,kl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ol(e,t,"link"),Al(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Dl(this,kl(this,"phone").then((function(){return Bc(dl(n),t,e,w(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Dl(this,Te().then((function(){return Bc(dl(n),t,e,w(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Dl(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return xl(e,t),e.reload()})))},t.dd=function(t){var e=this;return Dl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return xl(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Dl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return xl(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return wl(this);var e=this;return Dl(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return xl(e,t),Cl(e,"displayName",t.displayName||null),Cl(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(Kr(t,"displayName",e.displayName),Kr(t,"photoURL",e.photoURL))})),vl(e)})).then(_l))},t.bd=function(t){var e=this;return Dl(this,Nl(this).then((function(n){return K(El(e),t)?function(t,e,n){return $a(t,Ea,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(El(e),(function(t){n[t]||Sl(e,t)})),n[Po.PROVIDER_ID]||Kr(e,"phoneNumber",null),vl(e)})):vl(e).then((function(){throw new C("no-such-provider")}))})))},t.delete=function(){var t=this;return Dl(this,this.I().then((function(e){return $a(t.a,wa,{idToken:e})})).then((function(){t.dispatchEvent(new Zc("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");cl(t,null),ll(t,null),fl(t,null),t.G=[],t.A=!0,gl(t),Kr(t,"refreshToken",null),t.i&&Cc(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?w(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?w(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):null},t.Dc=function(t){var e=this;return Rl(this,"linkViaPopup",t,(function(){return kl(e,t.providerId).then((function(){return vl(e)}))}),!1)},t.Mc=function(t){return Rl(this,"reauthViaPopup",t,(function(){return Te()}),!0)},t.Ec=function(t){var e=this;return Pl(this,"linkViaRedirect",t,(function(){return kl(e,t.providerId)}),!1)},t.Nc=function(t){return Pl(this,"reauthViaRedirect",t,(function(){return Te()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dl(this,this.I().then((function(n){return pa(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Ol(i,t,"link"),Al(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dl(this,Te().then((function(){return so(ga(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Ol(i,t,"reauthenticate"),xl(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Dl(this,this.I().then((function(e){return n=e,void 0===t||dt(t)?{}:ji(new Ni(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Dl(this,this.I().then((function(t){return r=t,void 0===e||dt(e)?{}:ji(new Ni(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Dl(this,t=so(Te(t),n.uid).then((function(t){return e=Ol(n,t,"reauthenticate"),xl(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.N.w()),t};var Fl={name:"redirectUser",D:"session"};function Ul(t){return Yu(t.b,Fl,t.a)}function Vl(t){this.a=t,this.b=Gu(),this.c=null,this.f=function(t){var e=Bl("local"),n=Bl("session"),r=Bl("none");return function(t,e,n){var r=Qu(e,n),i=Ku(t,e.D);return t.get(e,n).then((function(o){var s=null;try{s=Mr(u.localStorage.getItem(r))}catch(a){}if(s&&!o)return u.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Hl,t.a).then((function(t){return t?Bl(t):e}))}))}))})).then((function(e){return t.c=e,ql(t,e.D)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Bl("local"),this.a,w(this.g,this))}function ql(t,e){var n,r=[];for(n in Wu)Wu[n]!==e&&r.push(Yu(t.b,Bl(Wu[n]),t.a));return r.push(Yu(t.b,Hl,t.a)),function(t){return new ye((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)xe(t[a],E(o,a),s);else e(i)}))}(r)}Vl.prototype.g=function(){var t=this,e=Bl("local");Kl(this,(function(){return Te().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return ql(t,"local").then((function(){t.c=e}))}))}))};var Hl={name:"persistence",D:"session"};function Bl(t){return{name:"authUser",D:t}}function Wl(t,e){return Kl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function zl(t){return Kl(t,(function(){return Yu(t.b,t.c,t.a)}))}function Gl(t,e,n){return Kl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Ll(t||{})}))}))}function Kl(t,e){return t.f=t.f.then(e,e),t.f}function Ql(t){if(this.m=!1,Kr(this,"settings",new qc),Kr(this,"app",t),!nh(this).options||!nh(this).options.apiKey)throw new C("invalid-api-key");t=e.SDK_VERSION?Sr(e.SDK_VERSION):null,this.a=new Ws(nh(this).options&&nh(this).options.apiKey,A(N),t),this.R=[],this.u=[],this.P=[],this.ac=e.INTERNAL.createSubscribe(w(this.yc,this)),this.X=void 0,this.bc=e.INTERNAL.createSubscribe(w(this.zc,this)),th(this,null),this.l=new Vl(nh(this).options.apiKey+":"+nh(this).name),this.G=new jl(nh(this).options.apiKey+":"+nh(this).name),this.$=sh(this,function(t){var e=nh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Fl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ll(t||{})}))}(t.G,nh(t).options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),Ul(t.G)}));return sh(t,e)}(t).then((function(){return Gl(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Wl(t.l,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:zl(t.l)}))):null})).then((function(e){th(t,e||null)}));return sh(t,n)}(this)),this.i=sh(this,function(t){return t.$.then((function(){return Zl(t)})).s((function(){})).then((function(){if(!t.m)return t.pa()})).s((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(Bl("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=w(this.Yc,this),this.Ba=w(this.da,this),this.ya=w(this.kc,this),this.za=w(this.vc,this),this.Aa=w(this.wc,this),this.b=null,function(t){var e=nh(t).options.authDomain,n=nh(t).options.apiKey;e&&xr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Mc(e,n,nh(t).name,t.f),Sc(t.b,t),rh(t)&&bl(rh(t)),t.o){bl(t.o);var r=t.o;r.wa(t.ka()),cl(r,t),hl(r=t.o,t.N),fl(r,t),Js((r=t.o).a,t.f),ll(r,t),t.o=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Fc,this),this.A=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function Yl(t){Qe.call(this,"languageCodeChanged"),this.h=t}function $l(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function Xl(t){Qe.call(this,"frameworkChanged"),this.f=t}function Jl(t){return t.gb||Ne(new C("auth-domain-config-required"))}function Zl(t){if(!xr())return Ne(new C("operation-not-supported-in-this-environment"));var e=Jl(t).then((function(){return t.b.qa()})).then((function(t){return t?Yr(t):null}));return sh(t,e)}function th(t,e){rh(t)&&(function(t,e){Y(t.R,(function(t){return t==e}))}(rh(t),t.Ba),ln(rh(t),"tokenChanged",t.ya),ln(rh(t),"userDeleted",t.za),ln(rh(t),"userInvalidated",t.Aa),gl(rh(t))),e&&(e.R.push(t.Ba),an(e,"tokenChanged",t.ya),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.A&&pl(e)),Kr(t,"currentUser",e),e&&(e.wa(t.ka()),cl(e,t),hl(e,t.N),fl(e,t),Js(e.a,t.f),ll(e,t))}function eh(t,e){var n=null,r=null;return sh(t,e.then((function(e){return n=Do(e),r=Gi(e),function(t,e){var n={};return n.apiKey=nh(t).options.apiKey,n.authDomain=nh(t).options.authDomain,n.appName=nh(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new ul(t,e);return n&&(i.ha=n),r&&hl(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return rh(t)&&e.uid==rh(t).uid?(Tl(rh(t),e),t.da(e)):(th(t,e),bl(e),t.da(e))})).then((function(){oh(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Yc(e.w(),t,w(t.jc,t))),n||e})).then((function(){return Yr({user:rh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function nh(t){return t.app}function rh(t){return t.currentUser}function ih(t){return rh(t)&&rh(t)._lat||null}function oh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](ih(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](ih(t))}}function sh(t,e){return t.R.push(e),e.na((function(){Q(t.R,e)})),e}function ah(){}function uh(){this.a={},this.b=1e12}Vl.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");t:{for(r in Wu)if(Wu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Iu()&&"none"!==t)throw n;break;default:if(!Nr()&&"none"!==t)throw n}}(t),Kl(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,ql(n,t)})).then((function(){if(n.c=Bl(t),e)return n.b.set(n.c,e,n.a)})):Te()}))},S(Ql,yn),S(Yl,Qe),S($l,Qe),S(Xl,Qe),(t=Ql.prototype).wb=function(t){return sh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Xs(this.a,this.aa),this.dispatchEvent(new Yl(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Vr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&pr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,Js(this.a,this.f),this.dispatchEvent(new $l(this.f))}},t.Fc=function(t){this.N.push(t),ta(this.a,e.SDK_VERSION?Sr(e.SDK_VERSION,this.N):null),this.dispatchEvent(new Xl(this.N))},t.Ga=function(){return X(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:nh(this).options.apiKey,authDomain:nh(this).options.authDomain,appName:nh(this).name,currentUser:rh(this)&&rh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?w(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return eh(i,da(i.a,o))}))},t.Wc=function(t){if(!xr())return Ne(new C("operation-not-supported-in-this-environment"));var n=this,r=zi(t.providerId),i=Dr(),o=null;(!Ar()||mr())&&nh(this).options.authDomain&&t.isOAuthProvider&&(o=hu(nh(this).options.authDomain,nh(this).options.apiKey,nh(this).name,"signInViaPopup",t,null,i,e.SDK_VERSION||null,null,null,this.S(),this.f));var s=hr(o,r&&r.ua,r&&r.ta);return sh(this,r=Jl(this).then((function(e){return xc(e,s,"signInViaPopup",t,i,!!o,n.S())})).then((function(){return new ye((function(t,e){n.ma("signInViaPopup",null,new C("cancelled-popup-request"),n.h),n.g=t,n.O=e,n.h=i,n.c=Ac(n.b,n,"signInViaPopup",s,i)}))})).then((function(t){return s&&lr(s),t?Yr(t):null})).s((function(t){throw s&&lr(s),t})))},t.Xc=function(t){if(!xr())return Ne(new C("operation-not-supported-in-this-environment"));var e=this;return sh(this,Jl(this).then((function(){return function(t){return Kl(t,(function(){return t.b.set(Hl,t.c.D,t.a)}))}(e.l)})).then((function(){return Oc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return Zl(this).then((function(e){return t.b&&jc(t.b.b),e})).s((function(e){throw t.b&&jc(t.b.b),e}))},t.cd=function(t){if(!t)return Ne(new C("null-user"));if(this.W!=t.tenantId)return Ne(new C("tenant-id-mismatch"));var e=this,n={};n.apiKey=nh(this).options.apiKey,n.authDomain=nh(this).options.authDomain,n.appName=nh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Gs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ul(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&hl(e,r),Tl(e,t),e}(t,n,e.G,e.Ga());return sh(this,this.i.then((function(){if(nh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return rh(e)&&t.uid==rh(e).uid?(Tl(rh(e),t),e.da(t)):(th(e,r),bl(r),e.da(r))})).then((function(){oh(e)})))},t.zb=function(){var t=this;return sh(this,this.i.then((function(){return t.b&&jc(t.b.b),rh(t)?(th(t,null),zl(t.l).then((function(){oh(t)}))):Te()})))},t.Yc=function(){var t=this;return Gl(this.l,nh(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=rh(t)&&e){n=rh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Tl(rh(t),e),rh(t).I();(rh(t)||e)&&(th(t,e),e&&(bl(e),e.ha=t.G),t.b&&Sc(t.b,t),oh(t))}}))},t.da=function(t){return Wl(this.l,t)},t.kc=function(){oh(this),this.da(rh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return eh(e,Te(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(rh(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),sh(t,t.i.then((function(){!t.m&&K(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(ih(t)))})))}(this,(function(){t.next(rh(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(rh(r)):"function"==typeof t.next&&t.next(rh(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(rh(r)):"function"==typeof t.next&&t.next(rh(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return sh(this,this.i.then((function(){return rh(e)?rh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return eh(e,$a(e.a,Wa,{token:t}))})).then((function(t){var n=t.user;return Cl(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return eh(n,$a(n.a,za,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return eh(n,$a(n.a,ya,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return eh(e,t.ja(e.a))}))},t.Rc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=rh(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return eh(t,t.a.yb()).then((function(e){var n=e.user;return Cl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return rh(this)&&rh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&rh(this)&&pl(rh(this))},t.Oc=function(t){var e=this;B(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&rh(this)&&gl(rh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),sh(this,this.i.then((function(){e.m||K(e.u,t)&&t(ih(e))})))},t.removeAuthTokenListener=function(t){Y(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Bl("local"),t.a,this.pa),this.b&&(Cc(this.b,this),jc(this.b.b)),Promise.resolve()},t.gc=function(t){return sh(this,function(t,e){return $a(t,_a,{identifier:e,continueUri:kr()?ar():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!ko(t)},t.vb=function(t,e){var n=this;return sh(this,Te().then((function(){var t=new Ni(e);if(!t.c)throw new C("argument-error",Oi+" must be true when sending sign in link to email");return ji(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return sh(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return sh(this,this.a.Qa(t).then((function(t){return new ii(t)})))},t.ib=function(t){return sh(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return sh(this,Te().then((function(){return void 0===e||dt(e)?{}:ji(new Ni(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return sh(this,Bc(this,t,e,w(this.Za,this)))},t.Uc=function(t,e){var n=this;return sh(this,Te().then((function(){var r=e||ar(),i=xo(t,r);if(!(r=ko(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new C("tenant-id-mismatch");return n.Za(i)})))},ah.prototype.render=function(){},ah.prototype.reset=function(){},ah.prototype.getResponse=function(){},ah.prototype.execute=function(){};var ch=null;function lh(t,e){return(e=hh(e))&&t.a[e]||null}function hh(t){return(t=void 0===t?1e12:t)?t.toString():null}function fh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function dh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function ph(){}function gh(){}uh.prototype.render=function(t,e){return this.a[this.b.toString()]=new fh(t,e),this.b++},uh.prototype.reset=function(t){var e=lh(this,t);t=hh(t),e&&t&&(e.delete(),delete this.a[t])},uh.prototype.getResponse=function(t){return(t=lh(this,t))?t.getResponse():null},uh.prototype.execute=function(t){(t=lh(this,t))&&t.execute()},fh.prototype.getResponse=function(){return dh(this),this.b},fh.prototype.execute=function(){dh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},fh.prototype.delete=function(){dh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Kr(ph,"FACTOR_ID","phone"),gh.prototype.g=function(){return ch||(ch=new uh),Te(ch)},gh.prototype.c=function(){};var mh=null;function vh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bh=new bt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),yh=new Fr(3e4,6e4);vh.prototype.g=function(t){var e=this;return new ye((function(n,r){var i=setTimeout((function(){r(new C("network-request-failed"))}),yh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete u[e.a]},Te(js(Ct(bh,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},vh.prototype.c=function(){this.b--};var _h=null;function wh(t,e,n,r,i,o,s){if(Kr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s?(mh||(mh=new gh),s=mh):(_h||(_h=new vh),s=_h),this.v=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Sh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ch],!u.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ws(t,o||null,i||null),this.u=r||function(){return null};var a=this;this.l=[];var c=this.a[Eh];this.a[Eh]=function(t){if(Th(a,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Tr(c,u);"function"==typeof e&&e(t)}};var l=this.a[Ih];this.a[Ih]=function(){if(Th(a,null),"function"==typeof l)l();else if("string"==typeof l){var t=Tr(l,u);"function"==typeof t&&t()}}}var Eh="callback",Ih="expired-callback",Sh="sitekey",Ch="size";function Th(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Nh(t,e){return t.h.push(e),e.na((function(){Q(t.h,e)})),e}function xh(t){if(t.A)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function kh(t,n,r){var i=!1;try{this.b=r||e.app()}catch(a){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");r=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=e.SDK_VERSION?Sr(e.SDK_VERSION,s):null,wh.call(this,r,t,n,(function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t}),s,A(N),i)}function Oh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Ah.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Ah[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new C("argument-error",t+" failed: "+r)}(t=wh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Nh(this,Te().then((function(){if(kr()&&!vr())return pr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,$a(t.o,Pa,{})})).then((function(e){t.a[Sh]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){xh(this);var t=this;return Nh(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!oe&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ht(s.name),'"'),s.type){o.push(' type="',Ht(s.type),'"');var a={};mt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=fe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ae(o,s)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){xh(this);var t=this;return Nh(this,this.render().then((function(e){return new ye((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){xh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){xh(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},S(kh,wh);var Ah="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Rh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Ph(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Mh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:g}}function Dh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Lh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function jh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ja||t&&e.providerId!==t)}}}function Fh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Uh(t){return g(t)&&"string"==typeof t.uid}function Vh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function qh(t,e){for(var n in e){var r=e[n].name;t[r]=Wh(r,t[n],e[n].j)}}function Hh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){Oh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function Bh(t,e,n,r){t[e]=Wh(e,n,r)}function Wh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Oh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}qh(Ql.prototype,{ib:{name:"applyActionCode",j:[Rh("code")]},Qa:{name:"checkActionCode",j:[Rh("code")]},mb:{name:"confirmPasswordReset",j:[Rh("code"),Rh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Rh("email"),Rh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Rh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Rh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Vh(Mh(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Vh(Mh(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Rh("email"),Vh(Mh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Rh("email"),Mh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Rh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[jh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[jh()]},Sc:{name:"signInWithCustomToken",j:[Rh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Rh("email"),Rh("password")]},Uc:{name:"signInWithEmailLink",j:[Rh("email"),Rh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Rh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Vh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ul)}},Lh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Rh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Rh("url")]},hd:{name:"verifyPasswordResetCode",j:[Rh("code")]}}),Hh(Ql.prototype,{lc:{name:"languageCode",jb:Vh(Rh(),Lh(),"languageCode")},ti:{name:"tenantId",jb:Vh(Rh(),Lh(),"tenantId")}}),(Ql.Persistence=Wu).LOCAL="local",Ql.Persistence.SESSION="session",Ql.Persistence.NONE="none",qh(ul.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Ph("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ph("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[jh()]},pb:{name:"linkWithCredential",j:[jh()]},Cc:{name:"linkWithPhoneNumber",j:[Rh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[jh()]},sb:{name:"reauthenticateWithCredential",j:[jh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Rh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Vh(Mh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Rh(null,!0)]},bd:{name:"unlink",j:[Rh("provider")]},Ab:{name:"updateEmail",j:[Rh("email")]},Bb:{name:"updatePassword",j:[Rh("password")]},dd:{name:"updatePhoneNumber",j:[jh("phone")]},Cb:{name:"updateProfile",j:[Mh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Rh("email"),Vh(Mh("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]}}),qh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(ah.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(ye.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Hh(qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Ph("appVerificationDisabledForTesting")}}),qh(Hc.prototype,{confirm:{name:"confirm",j:[Rh("verificationCode")]}}),Bh(oo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[fo,To,Ao,co],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Vh(Rh(),Mh(),"json")]),Bh(No,"credential",(function(t,e){return new Co(t,e)}),[Rh("email"),Rh("password")]),qh(Co.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),qh(vo.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Bh(vo,"credential",bo,[Vh(Rh(),Mh(),"token")]),Bh(No,"credentialWithLink",xo,[Rh("email"),Rh("emailLink")]),qh(yo.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Bh(yo,"credential",_o,[Vh(Rh(),Mh(),"token")]),qh(wo.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Bh(wo,"credential",Eo,[Vh(Rh(),Vh(Mh(),Lh()),"idToken"),Vh(Rh(),Lh(),"accessToken",!0)]),qh(Io.prototype,{Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Bh(Io,"credential",So,[Vh(Rh(),Mh(),"token"),Rh("secret",!0)]),qh(mo.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},credential:{name:"credential",j:[Vh(Rh(),Vh(Mh(),Lh()),"optionsOrIdToken"),Vh(Rh(),Lh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),qh(lo.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),qh(ao.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),Bh(Po,"credential",Mo,[Rh("verificationId"),Rh("verificationCode")]),qh(Po.prototype,{eb:{name:"verifyPhoneNumber",j:[Vh(Rh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Fh(t.session,ro)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Fh(t.session,io)&&Uh(t.multiFactorHint):t.session&&t.multiFactorUid?Fh(t.session,io)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),qh(Oo.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),qh(C.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),qh(Bo.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),qh(Ho.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),qh(Qc.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),qh(zc.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),qh(tl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Rh("displayName",!0)]},ad:{name:"unenroll",j:[Vh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Uh},Rh(),"multiFactorInfoIdentifier")]}}),qh(kh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Bh(bi,"parseLink",Ti,[Rh("link")]),Bh(ph,"assertion",(function(t){return new Jc(t)}),[jh("phone")]),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ql,AuthCredential:oo,Error:C};Bh(t,"EmailAuthProvider",No,[]),Bh(t,"FacebookAuthProvider",vo,[]),Bh(t,"GithubAuthProvider",yo,[]),Bh(t,"GoogleAuthProvider",wo,[]),Bh(t,"TwitterAuthProvider",Io,[]),Bh(t,"OAuthProvider",mo,[Rh("providerId")]),Bh(t,"SAMLAuthProvider",go,[Rh("providerId")]),Bh(t,"PhoneAuthProvider",Po,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Ql)}}]),Bh(t,"RecaptchaVerifier",kh,[Vh(Rh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Mh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.app.App)}}]),Bh(t,"ActionCodeURL",bi,[]),Bh(t,"PhoneMultiFactorGenerator",ph,[]),e.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Ql(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.mc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.registerVersion("@firebase/auth","0.15.0"),e.INTERNAL.extendNamespace({User:ul})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},MMa0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("05qF"))},"NHP+":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("XNiG"),i=n("quSY");class o extends r.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),i.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),i.a.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},NJ9Y:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("sVev"),i=n("pLZG"),o=n("BFxc"),s=n("XDbj"),a=n("xbPD"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(o.a)(1),n?Object(a.a)(e):Object(s.a)(()=>new r.a))}},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("wj3C"),i=n("30Go"),o=n("zVF4"),s=n("q/0M"),a=n("S+S0");function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c,l=u(r),h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),o.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:o.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),f=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return o.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new f},p=d("localStorage"),g=d("sessionStorage"),m=new s.Logger("@firebase/database"),v=(c=1,function(){return c++}),b=function(t){var e=o.stringToByteArray(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=y.apply(null,i):n+="object"==typeof i?o.stringify(i):i,n+=" "}return n},_=null,w=!0,E=function(t,e){o.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=s.LogLevel.VERBOSE,_=m.log.bind(m),e&&g.set("logging_enabled",!0)):"function"==typeof t?_=t:(_=null,g.remove("logging_enabled"))},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===_&&!0===g.get("logging_enabled")&&E(!0)),_){var n=y.apply(null,t);_(n)}},S=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];I.apply(void 0,i.__spread([t],e))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,i.__spread(t));m.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,i.__spread(t));throw m.error(n),new Error(n)},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,i.__spread(t));m.warn(n)},x=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",O="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===k||e===O)return-1;if(e===k||t===O)return 1;var n=Y(t),r=Y(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},R=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+o.stringify(e))},M=function(t){if("object"!=typeof t||null===t)return o.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=o.stringify(e[i]),r+=":",r+=M(t[e[i]]);return r+"}"},D=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function L(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j,F,U,V,q,H,B,W,z,G,K=function(t){var e,n,r,i,s;o.assert(!x(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},Q=new RegExp("^-?(0*)\\d{1,10}$"),Y=function(t){if(Q.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},$=function(t){try{t()}catch(e){setTimeout((function(){throw N("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},X=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},J=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Z=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=o.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=o.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=o.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),tt="firebaseio.com",et="websocket",nt="long_polling",rt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(o.assert("string"==typeof t,"typeof type must == string"),o.assert("object"==typeof e,"typeof params must == object"),t===et)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==nt)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return L(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),it=function(t,e){var n=ot(t),r=n.namespace;return"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&N("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new rt(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new J(n.pathString)}},ot=function(t){var e="",n="",r="",o="",s="",a=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=i.__values(t.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):N("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:o,namespace:s}},st=/[\[\].#$\/\u0000-\u001F\u007F]/,at=/[\[\].#$\u0000-\u001F\u007F]/,ut=10485760,ct=function(t){return"string"==typeof t&&0!==t.length&&!st.test(t)},lt=function(t){return"string"==typeof t&&0!==t.length&&!at.test(t)},ht=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!x(t)||t&&"object"==typeof t&&o.contains(t,".sv")},ft=function(t,e,n,r,i){i&&void 0===n||dt(o.errorPrefix(t,e,i),n,r)},dt=function(t,e,n){var r=n instanceof J?new Z(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(x(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>ut/3&&o.stringLength(e)>ut)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(L(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!ct(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),dt(t,n,r),r.pop()})),i&&s)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},pt=function(t,e,n,r,i){if(!i||void 0!==n){var s=o.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];L(n,(function(t,e){var n=new J(t);if(dt(s,e,r.child(n)),".priority"===n.getBack()&&!ht(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ct(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(J.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,a)}},gt=function(t,e,n,r){if(!r||void 0!==n){if(x(n))throw new Error(o.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ht(n))throw new Error(o.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},mt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(o.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},vt=function(t,e,n,r){if(!(r&&void 0===n||ct(n)))throw new Error(o.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},bt=function(t,e,n,r){if(!(r&&void 0===n||lt(n)))throw new Error(o.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},yt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bt(t,e,n,r)},_t=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},wt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ct(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),lt(t)}(r))throw new Error(o.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Et=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(o.errorPrefix(t,e,r)+"must be a boolean.")},It=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){o.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),o.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new o.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){o.validateArgCount("OnDisconnect.remove",0,1,arguments.length),_t("OnDisconnect.remove",this.path_),o.validateCallback("OnDisconnect.remove",1,t,!0);var e=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){o.validateArgCount("OnDisconnect.set",1,2,arguments.length),_t("OnDisconnect.set",this.path_),ft("OnDisconnect.set",1,t,this.path_,!1),o.validateCallback("OnDisconnect.set",2,e,!0);var n=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){o.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),_t("OnDisconnect.setWithPriority",this.path_),ft("OnDisconnect.setWithPriority",1,t,this.path_,!1),gt("OnDisconnect.setWithPriority",2,e,!1),o.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new o.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(o.validateArgCount("OnDisconnect.update",1,2,arguments.length),_t("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,N("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pt("OnDisconnect.update",1,t,this.path_,!1),o.validateCallback("OnDisconnect.update",2,e,!0);var i=new o.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),St=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return o.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ct=(j="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",F=0,U=[],function(t){var e,n=t===F;F=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=j.charAt(t%64),t=Math.floor(t/64);o.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===U[e];e--)U[e]=0;U[e]++}else for(e=0;e<12;e++)U[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=j.charAt(U[e]);return o.assert(20===i.length,"nextPushId: Length should be 20."),i}),Tt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Nt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Tt(k,t),r=new Tt(k,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Tt.MIN},t}(),xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return V},set:function(t){V=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw o.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return new Tt(O,V)},e.prototype.makePost=function(t,e){return o.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new Tt(t,V)},e.prototype.toString=function(){return".key"},e}(Nt),kt=new xt,Ot=function(t){return"number"==typeof t?"number:"+K(t):"string:"+t},At=function(t){if(t.isLeafNode()){var e=t.val();o.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&o.contains(e,".sv"),"Priority must be a string or number.")}else o.assert(t===q||t.isEmpty(),"priority of unexpected type.");o.assert(t===q||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Rt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,o.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),At(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return H},set:function(t){H=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(o.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ot(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?K(this.value_):this.value_,this.lazyHash_=b(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(o.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return o.assert(i>=0,"Unknown leaf type: "+n),o.assert(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Pt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return new Tt(O,new Rt("[PRIORITY-POST]",W))},e.prototype.makePost=function(t,e){var n=B(t);return new Tt(e,new Rt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Nt)),Mt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Dt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:jt.EMPTY_NODE,this.right=null!=o?o:jt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return jt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return jt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Lt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Dt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),jt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Mt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Mt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Lt,t}(),Ft=Math.log(2),Ut=function(){function t(t){this.count=parseInt(Math.log(t+1)/Ft,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Vt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Dt(s,o.node,Dt.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new Dt(s,o.node,Dt.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new Dt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Dt.BLACK):(a(h,Dt.BLACK),a(h,Dt.RED))}return o}(new Ut(t.length));return new jt(r||e,o)},qt={},Ht=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return o.assert(qt&&Pt,"ChildrenNode.ts has not been loaded"),z=z||new t({".priority":qt},{".priority":Pt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=o.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof jt?e:null},t.prototype.hasIndex=function(t){return o.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){o.assert(e!==kt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,u=n.getIterator(Tt.Wrap),c=u.getNext();c;)a=a||e.isDefinedOn(c.node),s.push(c),c=u.getNext();r=a?Vt(s,e.getCompare()):qt;var l=e.toString(),h=i.__assign({},this.indexSet_);h[l]=e;var f=i.__assign({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(o.map(this.indexes_,(function(t,i){var s=o.safeGet(r.indexSet_,i);if(o.assert(s,"Missing index implementation for "+i),t===qt){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Tt.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Vt(a,s.getCompare())}return qt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Tt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(o.map(this.indexes_,(function(t){if(t===qt)return t;var r=n.get(e.name);return r?t.remove(new Tt(e.name,r)):t})),this.indexSet_)},t}();function Bt(t,e){return A(t.name,e.name)}function Wt(t,e){return A(t,e)}var zt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&At(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return G||(G=new t(new jt(Wt),null,Ht.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||G},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?G:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Tt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?G:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;o.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Pt,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Ot(this.getPriority().val())+":"),this.forEachChild(Pt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":b(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Tt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Tt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Tt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Tt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Tt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Gt?-1:0},t.prototype.withIndex=function(e){if(e===kt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===kt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Pt),r=e.getIterator(Pt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===kt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Gt=new(function(t){function e(){return t.call(this,new jt(Wt),zt.EMPTY_NODE,Ht.Default)||this}return i.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return zt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(zt));function Kt(t,e){if(void 0===e&&(e=null),null===t)return zt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),o.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Rt(t,Kt(e));if(t instanceof Array){var n=zt.EMPTY_NODE;return L(t,(function(e,r){if(o.contains(t,e)&&"."!==e.substring(0,1)){var i=Kt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Kt(e))}var r=[],i=!1;if(L(t,(function(t,e){if("."!==t.substring(0,1)){var n=Kt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Tt(t,n)))}})),0===r.length)return zt.EMPTY_NODE;var s=Vt(r,Bt,(function(t){return t.name}),Wt);if(i){var a=Vt(r,Pt.getCompare());return new zt(s,Kt(e),new Ht({".priority":a},{".priority":Pt}))}return new zt(s,Kt(e),Ht.Default)}Object.defineProperties(Tt,{MIN:{value:new Tt(k,zt.EMPTY_NODE)},MAX:{value:new Tt(O,Gt)}}),xt.__EMPTY_NODE=zt.EMPTY_NODE,Rt.__childrenNodeConstructor=zt,q=Gt,W=Gt,B=Kt;var Qt,Yt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return Tt.MAX},e.prototype.makePost=function(t,e){var n=Kt(t);return new Tt(e,n)},e.prototype.toString=function(){return".value"},e}(Nt)),$t=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,o.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return i.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Kt(t),r=zt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Tt(e,r)},e.prototype.maxPost=function(){var t=zt.EMPTY_NODE.updateChild(this.indexPath_,Gt);return new Tt(O,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Nt),Xt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return o.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return o.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return o.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return o.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){o.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),bt("DataSnapshot.child",1,e,!1);var n=new J(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Pt)},t.prototype.hasChild=function(t){o.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),bt("DataSnapshot.hasChild",1,t,!1);var e=new J(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return o.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(o.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),o.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Pt))}))},t.prototype.hasChildren=function(){return o.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return o.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return o.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Jt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+o.stringify(this.snapshot.exportVal())},t}(),Zt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),te=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Jt("value",this,new Xt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Zt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),ee=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return o.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Zt(this,t,e):null},t.prototype.createEvent=function(t,e){o.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Jt(t.type,this,new Xt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ne=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return o.assert(Qt,"Reference.ts has not been loaded"),Qt},set:function(t){Qt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===kt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==k)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==O)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Pt){if(null!=e&&!ht(e)||null!=n&&!ht(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(o.assert(t.getIndex()instanceof $t||t.getIndex()===Yt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return o.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){o.validateArgCount("Query.on",2,4,arguments.length),mt("Query.on",1,e,!1),o.validateCallback("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new te(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new ee(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){o.validateArgCount("Query.off",0,3,arguments.length),mt("Query.off",1,t,!0),o.validateCallback("Query.off",2,e,!0),o.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var s=e||null;r=new te(s,null,n||null)}else t&&(e&&((i={})[t]=e),r=new ee(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var s=this;o.validateArgCount("Query.once",1,4,arguments.length),mt("Query.once",1,e,!1),o.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.Deferred;c.promise.catch((function(){}));var l=function(t){u&&(u=!1,s.off(e,l),n&&n.bind(a.context)(t),c.resolve(t))};return this.on(e,l,(function(t){s.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if(o.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(o.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(o.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');bt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new J(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new $t(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){o.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){o.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Pt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){o.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Yt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),o.validateArgCount("Query.startAt",0,2,arguments.length),ft("Query.startAt",1,e,this.path,!0),vt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),o.validateArgCount("Query.endAt",0,2,arguments.length),ft("Query.endAt",1,e,this.path,!0),vt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(o.validateArgCount("Query.equalTo",1,2,arguments.length),ft("Query.equalTo",1,t,this.path,!1),vt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return o.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return o.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=M(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(o.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,o.validateCallback(t,3,r.cancel,!0),r.context=n,o.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(o.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),re=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ie=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),oe=function(t,e,n){return t&&"object"==typeof t?(o.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?se(t[".sv"],e,n):"object"==typeof t[".sv"]?ae(t[".sv"],e):void o.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},se=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:o.assert(!1,"Unexpected server value: "+t)}},ae=function(t,e,n){t.hasOwnProperty("increment")||o.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&o.assert(!1,"Unexpected increment value: "+r);var i=e.node();if(o.assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},ue=function(t,e,n,r){return le(e,new ie(n,t),r)},ce=function(t,e,n){return le(t,new re(e),n)};function le(t,e,n){var r,i=t.getPriority().val(),o=oe(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=oe(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Rt(a,Kt(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Rt(o))),u.forEachChild(Pt,(function(t,i){var o=le(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var he,fe,de=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Pt,(function(t,e){n.remember(new J(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new J(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),pe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),ge=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,o.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),me=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=pe.ACK_USER_WRITE,this.source=ge.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return o.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new J(e));return new t(J.Empty,n,this.revert)}return o.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ve=function(){function t(t,e){void 0===e&&(he||(he=new jt(R)),e=he),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return L(e,(function(t,e){n=n.set(new J(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:J.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new J(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(J.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,J.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,J.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(J.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),be=function(){function t(t,e){this.source=t,this.path=e,this.type=pe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,J.Empty):new t(this.source,this.path.popFront())},t}(),ye=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=pe.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,J.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),_e=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=pe.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new J(e));return n.isEmpty()?null:n.value?new ye(this.source,J.Empty,n.value):new t(this.source,J.Empty,n)}return o.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),we=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Ee=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new we(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new we(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new we(zt.EMPTY_NODE,!1,!1),new we(zt.EMPTY_NODE,!1,!1)),t}(),Ie=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Se=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){o.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(Ie.childRemovedChange(e,a)):o.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Ie.childAddedChange(e,n)):s.trackChildChange(Ie.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Pt,(function(t,r){e.hasChild(t)||n.trackChildChange(Ie.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Pt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Ie.childChangedChange(e,r,i))}else n.trackChildChange(Ie.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?zt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ce=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;o.assert(e===Ie.CHILD_ADDED||e===Ie.CHILD_CHANGED||e===Ie.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===Ie.CHILD_ADDED&&i===Ie.CHILD_REMOVED)this.changeMap.set(n,Ie.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===Ie.CHILD_REMOVED&&i===Ie.CHILD_ADDED)this.changeMap.delete(n);else if(e===Ie.CHILD_REMOVED&&i===Ie.CHILD_CHANGED)this.changeMap.set(n,Ie.childRemovedChange(n,r.oldSnap));else if(e===Ie.CHILD_CHANGED&&i===Ie.CHILD_ADDED)this.changeMap.set(n,Ie.childAddedChange(n,t.snapshotNode));else{if(e!==Ie.CHILD_CHANGED||i!==Ie.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Ie.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Te=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ne=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new we(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),xe=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),ke=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){o.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),o.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s,a,u=new Ce;if(n.type===pe.OVERWRITE){var c=n;c.source.fromUser?s=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(o.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),s=this.applyServerOverwrite_(e,c.path,c.snap,r,i,a,u))}else if(n.type===pe.MERGE){var l=n;l.source.fromUser?s=this.applyUserMerge_(e,l.path,l.children,r,i,u):(o.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),s=this.applyServerMerge_(e,l.path,l.children,r,i,a,u))}else if(n.type===pe.ACK_USER_WRITE){var h=n;s=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==pe.LISTEN_COMPLETE)throw o.assertionError("Unknown operation type: "+n.type);s=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,s,f),new xe(s,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Ie.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var s=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,u=void 0;if(e.isEmpty())if(o.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(c instanceof zt?c:zt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"===f){o.assert(1===e.getLength(),"Can't have a priority with additional path components");var d=s.getNode();u=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,d,u);a=null!=p?this.filter_.updatePriority(d,p):s.getNode()}else{var g=e.popFront(),m=void 0;if(s.isCompleteForChild(f)){u=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,s.getNode(),u);m=null!=v?s.getNode().getImmediateChild(f).updateChild(g,v):s.getNode().getImmediateChild(f)}else m=n.calcCompleteChild(f,t.getServerCache());a=null!=m?this.filter_.updateChild(s.getNode(),f,m,g,r,i):s.getNode()}}return t.updateEventSnap(a,s.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);a=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),d=u.getNode().getImmediateChild(h).updateChild(f,n);a=".priority"===h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,Te,null)}var p=t.updateServerSnap(a,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),g=new Ne(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,g,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,u=t.getEventCache(),c=new Ne(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),d=void 0;if(h.isEmpty())d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):zt.EMPTY_NODE}if(f.equals(d))s=t;else{var g=this.filter_.updateChild(u.getNode(),l,d,h,c,o);s=t.updateEventSnap(g,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:ve.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new J(e),h,r,i,o,s)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=a.applyMerge_(h,n);c=a.applyServerOverwrite_(c,new J(e),f,r,i,o,s)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var u=ve.Empty;return a.getNode().forEachChild(kt,(function(t,e){u=u.set(new J(t),e)})),this.applyServerMerge_(t,e,u,r,i,s,o)}return t}var c=ve.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(c=c.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Te,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var s;if(null!=n.shadowingWrite(e))return t;var a=new Ne(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();o.assert(h instanceof zt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l=l,i)}else{var f=e.getFront(),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?this.filter_.updateChild(u,f,d,e.popFront(),a,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,zt.EMPTY_NODE,e.popFront(),a,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,s,i))}return s=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(J.Empty),t.updateEventSnap(c,s,this.filter_.filtersNodes())},t}(),Oe=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===Ie.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Ie.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,Ie.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Ie.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Ie.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Ie.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Ie.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw o.assertionError("Should only compare child_ events.");var n=new Tt(t.childName,t.snapshotNode),r=new Tt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ae=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Se(n.getIndex()),i=n.getNodeFilter();this.processor_=new ke(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(zt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(zt.EMPTY_NODE,s.getNode(),null),c=new we(a,o.isFullyInitialized(),r.filtersNodes()),l=new we(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Ee(l,c),this.eventGenerator_=new Oe(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){o.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(s+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===pe.MERGE&&null!==t.source.queryId&&(o.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),o.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),o.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Pt,(function(t,e){n.push(Ie.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(Ie.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Re=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return o.assert(fe,"Reference.ts has not been loaded"),fe},set:function(t){o.assert(!fe,"__referenceConstructor has already been defined"),fe=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,s,a=t.source.queryId;if(null!==a){var u=this.views.get(a);return o.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var c=[];try{for(var l=i.__values(this.views.values()),h=l.next();!h.done;h=l.next())c=c.concat((u=h.value).applyOperation(t,e,n))}catch(f){r={error:f}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return c},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),u=!1;a?u=!0:r instanceof zt?(a=n.calcCompleteEventChildren(r),u=!1):(a=zt.EMPTY_NODE,u=!1);var c=new Ee(new we(a,u,!1),new we(r,i,!1));s=new Ae(t,c),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,s,a=e.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===a)try{for(var h=i.__values(this.views.entries()),f=h.next();!f.done;f=h.next()){var d,p=i.__read(f.value,2),g=p[0];c=c.concat((d=p[1]).removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(g),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery()))}}catch(m){o={error:m}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}else(d=this.views.get(a))&&(c=c.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(a),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery())));return l&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=i.__values(this.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=i.__values(this.views.values()),s=o.next();!s.done;s=o.next())r=r||s.value.getCompleteServerCache(t)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=i.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Pe=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ve(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=J.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new ve(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return L(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ve.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(J.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Pt,(function(e,n){t.push(new Tt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Tt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ve(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(o.assert(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=t(e.child(n),s,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(J.Empty,this.writeTree_,t)},t.Empty=new t(new ve(null)),t}(),Me=function(){function t(){this.visibleWrites_=Pe.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new De(t,this)},t.prototype.addOverwrite=function(t,e,n,r){o.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){o.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));o.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,s=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(s=!0)),a--}return!!i&&(s?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):L(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(J.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||zt.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(J.Empty)?a.apply(n||zt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=zt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Pt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Pt,(function(t,e){var r=i.childCompoundWrite(new J(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){o.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var s=this.visibleWrites_.childCompoundWrite(i);return s.isEmpty()?r.getChild(e):s.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),u=a.getCompleteNode(J.Empty);if(null!=u)s=u;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,J.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Pe.Empty,i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,u=void 0;if(s.snap)n.contains(a)?(u=J.relativePath(n,a),r=r.addWrite(u,s.snap)):a.contains(n)&&(u=J.relativePath(a,n),r=r.addWrite(J.Empty,s.snap.getChild(u)));else{if(!s.children)throw o.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))u=J.relativePath(n,a),r=r.addWrites(u,s.children);else if(a.contains(n))if((u=J.relativePath(a,n)).isEmpty())r=r.addWrites(J.Empty,s.children);else{var c=o.safeGet(s.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(J.Empty,l)}}}}}return r},t}(),De=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Le=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ve.Empty,this.pendingWriteTree_=new Me,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new ye(ge.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ve.fromObject(e);return this.applyOperationToSyncPoints_(new _e(ge.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ve.Empty;return null!=n.snap?r=r.set(J.Empty,!0):L(n.children,(function(t,e){r=r.set(new J(t),e)})),this.applyOperationToSyncPoints_(new me(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ye(ge.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ve.fromObject(e);return this.applyOperationToSyncPoints_(new _e(ge.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new be(ge.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=J.relativePath(s,e),c=new ye(ge.forServerTaggedQuery(a),u,n);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=J.relativePath(s,e),c=ve.fromObject(n),l=new _e(ge.forServerTaggedQuery(a),u,c);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=J.relativePath(o,e),u=new be(ge.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=J.relativePath(t,r);i=i||e.getCompleteServerCache(n),s=s||e.hasCompleteView()}));var a,u=this.syncPointTree_.get(r);u?(s=s||u.hasCompleteView(),i=i||u.getCompleteServerCache(J.Empty)):(u=new Re,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=zt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(J.Empty);n&&(i=i.updateImmediateChild(t,n))})));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);o.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var f=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(e,n,f,i,a);if(!c&&!s){var p=u.viewForQuery(e);d=d.concat(this.setupListener_(e,p))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var u=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;a=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var g=d[p],m=g.getQuery(),v=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),v.hashFn,v.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(c)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=J.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),L(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,s.hashFn,s.onComplete),u=this.syncPointTree_.subtree(r);if(i)o.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),L(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||zt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return o.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new J(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);o.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(J.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(J.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(J.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(J.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(J.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(s=s.concat(i.applyOperationDescendantsHelper_(c,o,a,u)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),je=function(){function t(){this.rootNode_=zt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Fe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),o.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return o.deepCopy(this.counters_)},t}(),Ue=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Fe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Ve=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=i.__assign({},t);return this.last_&&L(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),qe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ve(t);var n=1e4+2e4*Math.random();X(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;L(e,(function(e,i){i>0&&o.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),X(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),He=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Be(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Be=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();_&&I("event: "+e.toString()),$(n)}}},t.prototype.getPath=function(){return this.path_},t}(),We=function(){function t(t){this.allowedEvents_=t,this.listeners_={},o.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=i.__spread(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){o.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),ze=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return i.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(We),Ge=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||o.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return i.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(We),Ke=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&$((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),Qe="start",Ye="close",$e=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(t),this.stats_=Ue.getCollection(e),this.urlFn=function(t){return e.connectionURL(nt,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ke(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(o.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Xe((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=i.__read(t,5),o=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Qe)n.id=s,n.password=a;else{if(o!==Ye)throw new Error("Unrecognized command received: "+o);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=i.__read(t,2),o=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(tt)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(o.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=o.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=o.base64Encode(e),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!o.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=o.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Xe=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,o.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){I("frame writing exception"),u.stack&&I(u.stack),I(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||I("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;o.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){I("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Je="",Ze=null;"undefined"!=typeof MozWebSocket?Ze=MozWebSocket:"undefined"!=typeof WebSocket&&(Ze=WebSocket);var tn=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=Ue.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!o.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(tt)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(et,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(o.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Je+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new Ze(this.connURL,[],r)}else this.mySock=new Ze(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ze&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=o.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(o.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=o.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=D(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),en=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[$e,tn]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=tn&&tn.isAvailable(),s=o&&!tn.previouslyFailed();if(e.webSocketOnly&&(o||N("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[tn];else{var a=this.transports_=[];try{for(var u=i.__values(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),nn=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new en(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=X((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&N("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),X((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):X((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),rn=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),on=1e3,sn=function(t){function e(n,r,i,s,a,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=s,l.onServerInfoUpdate_=a,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=S("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=on,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!o.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),ze.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Ge.getInstance().on("online",l.onOnline_,l),l}return i.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(o.stringify(i)),o.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),o.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),o.assert(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&o.contains(t,"w")){var n=o.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();N("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||o.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=o.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),o.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+o.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+o.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;o.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=on),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){o.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){c?I("getToken() completed but was canceled"):(I("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,l=new nn(s,a.repoInfo_,a.applicationId_,n,r,i,(function(t){N(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),u))})).then(null,(function(e){a.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&N(e),h())}))}},e.prototype.interrupt=function(t){I("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){I("Resuming connection for reason: "+t),delete this.interruptReasons_[t],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return M(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new J(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){I("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=i.__values(this.listens.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,i.__values(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";o.isNodeSdk()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Je.replace(/\./g,"-")]=1,o.isMobileCordova()?t["framework.cordova"]=1:o.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Ge.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(rn),an=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=S("p:rest:"),i.listens_={},i}return i.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(o.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),o.safeGet(s.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var s=i&&i.accessToken;s&&(e.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+o.querystring(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=o.jsonEval(u.responseText)}catch(e){N("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&N("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},e}(rn),un="repo_interrupt",cn=function(){function t(t,e,n,r){var i=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new He,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new de,this.persistentConnection_=null,this.stats_=Ue.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new an(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=n.options.databaseAuthVariableOverride;if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{o.stringify(s)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}this.persistentConnection_=new sn(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,s),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Ue.getOrCreateReporter(t,(function(){return new qe(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new je,this.infoSyncTree_=new Le({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Le({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new J(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(r)if(n){var a=o.map(e,(function(t){return Kt(t)}));s=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var u=Kt(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=o.map(e,(function(t){return Kt(t)}));s=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=Kt(e);s=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;s.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;L(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new J("/.info/"+t),r=Kt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=Kt(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),u=ce(s,a,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||N("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(L(e,(function(e,n){i=!1,s[e]=ue(t.child(e),Kt(n),r.serverSyncTree_,o)})),i)I("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||N("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),u=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,s),r.callOnCompleteCallback(n,e,i)})),L(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new de;this.onDisconnect_.forEachTree(J.Empty,(function(r,i){var o=ue(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(J.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new de,this.eventQueue_.raiseEventsForChangedPath(J.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Kt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Kt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(o.isEmpty(e))return I("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&L(e,(function(e,n){var i=Kt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(un)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(un)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Ve(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);L(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),I.apply(void 0,i.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&$((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new wn(this))},enumerable:!1,configurable:!0}),t}(),ln=function(){function t(e){this.indexedFilter_=new Se(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Tt(e,n))||(n=zt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=zt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(zt.EMPTY_NODE);var i=this;return e.forEachChild(Pt,(function(t,e){i.matches(new Tt(t,e))||(r=r.updateImmediateChild(t,zt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),hn=function(){function t(t){this.rangedFilter_=new ln(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Tt(e,n))||(n=zt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=zt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=zt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(zt.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,zt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;o.assert(u.numChildren()===this.limit_,"");var c=new Tt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:s(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Ie.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Ie.childRemovedChange(e,f));var g=u.updateImmediateChild(e,zt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(Ie.childAddedChange(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?t:h&&s(l,c)>=0?(null!=i&&(i.trackChildChange(Ie.childRemovedChange(l.name,l.node)),i.trackChildChange(Ie.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,zt.EMPTY_NODE)):t},t}(),fn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return o.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Pt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Pt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Se(this.getIndex()):this.hasLimit()?new hn(this):new ln(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Pt?e=n.PRIORITY_INDEX:this.index_===Yt?e=n.VALUE_INDEX:this.index_===kt?e=n.KEY_INDEX:(o.assert(this.index_ instanceof $t,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=o.stringify(e),this.startSet_&&(r[n.START_AT]=o.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+o.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=o.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+o.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),dn=function(t){function e(e,n){if(!(e instanceof cn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,fn.DEFAULT,!1)||this}return i.__extends(e,t),e.prototype.getKey=function(){return o.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return o.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof J||(null===this.path.getFront()?yt("Reference.child",1,t,!1):bt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){o.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){o.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){o.validateArgCount("Reference.set",1,2,arguments.length),_t("Reference.set",this.path),ft("Reference.set",1,t,this.path,!1),o.validateCallback("Reference.set",2,e,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(o.validateArgCount("Reference.update",1,2,arguments.length),_t("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,N("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}pt("Reference.update",1,t,this.path,!1),o.validateCallback("Reference.update",2,e,!0);var i=new o.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(o.validateArgCount("Reference.setWithPriority",2,3,arguments.length),_t("Reference.setWithPriority",this.path),ft("Reference.setWithPriority",1,t,this.path,!1),gt("Reference.setWithPriority",2,e,!1),o.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return o.validateArgCount("Reference.remove",0,1,arguments.length),_t("Reference.remove",this.path),o.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(o.validateArgCount("Reference.transaction",1,3,arguments.length),_t("Reference.transaction",this.path),o.validateCallback("Reference.transaction",1,t,!1),o.validateCallback("Reference.transaction",2,e,!0),Et("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.Deferred;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new St(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){o.validateArgCount("Reference.setPriority",1,2,arguments.length),_t("Reference.setPriority",this.path),gt("Reference.setPriority",1,t,!1),o.validateCallback("Reference.setPriority",2,e,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){o.validateArgCount("Reference.push",0,2,arguments.length),_t("Reference.push",this.path),ft("Reference.push",1,t,this.path,!0),o.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Ct(r),s=this.child(i),a=this.child(i);return n=null!=t?s.set(t,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),s},e.prototype.onDisconnect=function(){return _t("Reference.onDisconnect",this.path),new It(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(ne);ne.__referenceConstructor=dn,Re.__referenceConstructor=dn;var pn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),gn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new pn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof J?e:new J(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,o.safeGet(r.node_.children,i)||new pn),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){o.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;L(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new J(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=o.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),mn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});cn.MAX_TRANSACTION_RETRIES_=25,cn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new gn},cn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},s=new dn(this,t);s.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:v(),applyLocally:r,retryCount:0,unwatcher:function(){s.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);a.currentInputSnapshot=u;var c=a.update(u.val());if(void 0===c){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new Xt(a.currentInputSnapshot,new dn(this,a.path),Pt);a.onComplete(null,!1,l)}}else{dt("transaction failed: Data returned ",c,a.path),a.status=mn.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(a),h.setValue(f);var d=void 0;"object"==typeof c&&null!==c&&o.contains(c,".priority")?(d=o.safeGet(c,".priority"),o.assert(ht(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(t)||zt.EMPTY_NODE).getPriority().val(),d=d;var p=this.generateServerValues(),g=Kt(c,d),m=ce(g,u,p);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=m,a.currentWriteId=this.getNextWriteId_();var b=this.serverSyncTree_.applyUserOverwrite(t,m,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,b),this.sendReadyTransactions_()}},cn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||zt.EMPTY_NODE},cn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);o.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===mn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},cn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),s=i,a=i.hash(),u=0;u<e.length;u++){var c=e[u];o.assert(c.status===mn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=mn.SENT,c.retryCount++;var l=J.relativePath(t,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),f=t;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=mn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,u=new dn(n,e[s].path),c=new Xt(a,u,Pt);o.push(e[s].onComplete.bind(null,null,!0,c))}e[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),s=0;s<o.length;s++)$(o[s])}else{if("datastale"===r)for(s=0;s<e.length;s++)e[s].status=e[s].status===mn.SENT_NEEDS_ABORT?mn.NEEDS_ABORT:mn.RUN;else for(N("transaction at "+f.toString()+" failed: "+r),s=0;s<e.length;s++)e[s].status=mn.NEEDS_ABORT,e[s].abortReason=r;n.rerunTransactions_(t)}}),a)},cn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},cn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===mn.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var a=t[s],u=J.relativePath(e,a.path),c=!1,l=void 0;if(o.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===mn.NEEDS_ABORT)c=!0,l=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===mn.RUN)if(a.retryCount>=cn.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,i);a.currentInputSnapshot=h;var f=t[s].update(h.val());if(void 0!==f){dt("transaction failed: Data returned ",f,a.path);var d=Kt(f);"object"==typeof f&&null!=f&&o.contains(f,".priority")||(d=d.updatePriority(h.getPriority()));var p=a.currentWriteId,g=this.generateServerValues(),m=ce(d,h,g);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=m,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,m,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else c=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],c&&(t[s].status=mn.COMPLETED,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete))if("nodata"===l){var v=new dn(this,t[s].path),b=new Xt(t[s].currentInputSnapshot,v,Pt);n.push(t[s].onComplete.bind(null,null,!1,b))}else n.push(t[s].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),s=0;s<n.length;s++)$(n[s]);this.sendReadyTransactions_()}},cn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},cn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},cn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},cn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==mn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},cn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},cn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,s=0;s<e.length;s++)e[s].status===mn.SENT_NEEDS_ABORT||(e[s].status===mn.SENT?(o.assert(i===s-1,"All SENT items should be at beginning of queue."),i=s,e[s].status=mn.SENT_NEEDS_ABORT,e[s].abortReason="set"):(o.assert(e[s].status===mn.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),s=0;s<n.length;s++)$(n[s])}};var vn,bn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';N(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),yn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),_n=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return vn||(vn=new t),vn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,i.__values(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next())this.repos_[a][c.value].interrupt()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,i.__values(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next())this.repos_[a][c.value].resume()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),I("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,s=it(i,r),a=s.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,a=(s=it(i="http://"+u+"?ns="+a.namespace,r)).repoInfo):o=!s.repoInfo.secure;var c=r&&o?new yn:new bn(t,e);return wt("Invalid Firebase Database URL",1,s),s.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,t,c).database},t.prototype.deleteRepo=function(t){var e=o.safeGet(this.repos_,t.app.name);e&&o.safeGet(e,t.repoInfo_.toURLString())===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=o.safeGet(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=o.safeGet(r,t.toURLString());return i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new cn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),wn=function(){function t(t){this.repo_=t,t instanceof cn||T("Don't call new Database() directly - please use firebase.database()."),this.root_=new dn(t,J.Empty),this.INTERNAL=new En(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),o.validateArgCount("database.ref",0,1,arguments.length),t instanceof dn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),o.validateArgCount(e,1,1,arguments.length);var n=it(t,this.repo_.repoInfo_.nodeAdmin);wt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&T(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&T("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){o.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){o.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),En=function(){function t(t){this.database=t}return t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.database.checkDeleted_("delete"),_n.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),In=Object.freeze({__proto__:null,forceLongPolling:function(){tn.forceDisallow(),$e.forceAllow()},forceWebSockets:function(){$e.forceDisallow()},isWebSocketsAvailable:function(){return tn.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),Sn=sn;sn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},sn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Cn=Object.freeze({__proto__:null,DataConnection:Sn,RealTimeConnection:nn,hijackHash:function(t){var e=sn.prototype.put;return sn.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){sn.prototype.put=e}},ConnectionTarget:rt,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){_n.getInstance().forceRestClient(t)}}),Tn=wn.ServerValue;function Nn(e){Je=e.SDK_VERSION;var n=e.INTERNAL.registerComponent(new a.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return _n.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:dn,Query:ne,Database:wn,DataSnapshot:Xt,enableLogging:E,INTERNAL:In,ServerValue:Tn,TEST_ACCESS:Cn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.6.13"),o.isNodeSdk()&&(t.exports=n)}Nn(l.default),e.DataSnapshot=Xt,e.Database=wn,e.OnDisconnect=It,e.Query=ne,e.Reference=dn,e.ServerValue=Tn,e.enableLogging=E,e.registerDatabase=Nn},NXyV:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("Cfvw"),o=n("EY2u");function s(t){return new r.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(e)})}},NfdI:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("XNiG"),i=n("oB13");function o(t){return t?Object(i.a)(()=>new r.a,t):Object(i.a)(new r.a)}},Nv8m:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("yCtX"),o=n("l7GE"),s=n("ZUHj");function a(...t){if(1===t.length){if(!Object(r.a)(t[0]))return t[0];t=t[0]}return Object(i.a)(t,void 0).lift(new u)}class u{call(t,e){return e.subscribe(new c(t))}}class c extends o.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=t[n],r=Object(s.a)(this,e,void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}},OQgR:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return h}));var r=n("7o/Q"),i=n("quSY"),o=n("HDdC"),s=n("XNiG");function a(t,e,n,r){return i=>i.lift(new u(t,e,n,r))}class u{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new c(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class c extends r.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new s.a,n.set(e,i);const t=new h(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new h(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new l(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class l extends r.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class h extends o.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new i.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new f(n)),e.add(r.subscribe(t)),e}}class f extends i.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}},PqYM:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("D0XW"),o=n("Y7HM"),s=n("z+Ro");function a(t=0,e,n){let a=-1;return Object(o.a)(e)?a=Number(e)<1?1:Number(e):Object(s.a)(e)&&(n=e),Object(s.a)(n)||(n=i.a),new r.a(e=>{const r=Object(o.a)(t)?t:+t-n.now();return n.schedule(u,r,{index:0,period:a,subscriber:e})})}function u(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("30Go"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=u,e.Provider=a},"S/Aq":function(t,e,n){"use strict";n.d(e,"b",(function(){return C})),n.d(e,"c",(function(){return T})),n.d(e,"d",(function(){return R})),n.d(e,"a",(function(){return P}));var r=n("fXoL"),i=n("Cfvw"),o=n("LRne"),s=n("D0XW"),a=n("HDdC"),u=n("lJxs");function c(t,e){return function(t,e=s.b){return new a.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),function(){null!=r&&r()}})}(t,e)}function l(t,e){return c(t,e).pipe(Object(u.a)(t=>({payload:t,type:"query"})))}var h=n("pxpQ"),f=n("pLZG"),d=n("Kqap");function p(t,e){return l(t,e).pipe(Object(u.a)(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function g(t,e,n){return l(t,n).pipe(Object(u.a)(t=>t.payload.docChanges()),Object(d.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),Object(u.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function m(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class v{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?p(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,Object(u.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(f.a)(t=>t.length>0)):p(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(d.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=m(t);return g(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return l(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,Object(u.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return Object(i.a)(this.query.get(t)).pipe(Object(h.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new b(this.ref.doc(t),this.afs)}}class b{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=R(n,e);return new v(r,i,this.afs)}snapshotChanges(){return c(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(u.a)(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(Object(u.a)(t=>t.payload.data()))}get(t){return Object(i.a)(this.ref.get(t)).pipe(Object(h.b)(this.afs.schedulers.insideAngular))}}class y{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?p(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,Object(u.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(f.a)(t=>t.length>0)):p(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(d.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=m(t);return g(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return l(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,Object(u.a)(t=>t.payload.docs.map(t=>t.data())))}get(t){return Object(i.a)(this.query.get(t)).pipe(Object(h.b)(this.afs.schedulers.insideAngular))}}var _=n("XU1U"),w=n("Czum"),E=n("ofXK"),I=n("Wcq6"),S=n.n(I);const C=new r.q("angularfire2.enableFirestorePersistence"),T=new r.q("angularfire2.firestore.persistenceSettings"),N=C,x=T,k=new r.q("angularfire2.firestore.settings"),O=parseInt(S.a.SDK_VERSION.split(".")[0]),A=O<5||5==O&&parseInt(S.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function R(t,e=(t=>t)){return{query:e(t),ref:t}}let P=(()=>{let t=class{constructor(t,e,n,r,s,a,u){this.schedulers=new _.f(a),this.keepUnstableUntilFirst=Object(_.i)(this.schedulers,s),this.firestore=a.runOutsideAngular(()=>{const n=Object(w.h)(t,a,e).firestore();return n.settings(r||A),n}),this.persistenceEnabled$=n&&!Object(E.p)(s)?a.runOutsideAngular(()=>{try{return Object(i.a)(this.firestore.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(t){return Object(o.a)(!1)}}):Object(o.a)(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=R(n,e);return new v(r,i,this)}collectionGroup(t,e){if(O<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new y(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new b(e,this)}createId(){return this.firestore.collection("_").doc().id}};return t.\u0275fac=function(e){return new(e||t)(r.Rb(w.c),r.Rb(w.b,8),r.Rb(N,8),r.Rb(k,8),r.Rb(r.B),r.Rb(r.z),r.Rb(x,8))},t.\u0275prov=r.Gb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})()},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},SxV6:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),s=n("xbPD"),a=n("XDbj"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(o.a)(1),n?Object(s.a)(e):Object(a.a)(()=>new r.a))}},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n("EY2u"),i=n("LRne"),o=n("z6cu"),s=function(t){return t.NEXT="N",t.ERROR="E",t.COMPLETE="C",t}({});let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},Wcq6:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(n("wj3C"));i.default.registerVersion("firebase","7.24.0","app"),t.exports=i.default},XDbj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("sVev"),i=n("7o/Q");function o(t=u){return e=>e.lift(new s(t))}class s{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XU1U:function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return f})),n.d(e,"h",(function(){return p})),n.d(e,"g",(function(){return g})),n.d(e,"f",(function(){return m})),n.d(e,"i",(function(){return v})),n.d(e,"e",(function(){return b})),n.d(e,"d",(function(){return y})),n.d(e,"b",(function(){return _})),n.d(e,"j",(function(){return E}));var r=n("fXoL"),i=n("ofXK"),o=n("qgXg"),s=n("D0XW"),a=n("HDdC"),u=n("vkgz"),c=n("tf+s"),l=n("pxpQ");const h=new r.q("angularfire2.realtimeDatabaseURL"),f=h;function d(){}class p{constructor(t,e=o.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class g{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",d,{},d,d)),e.pipe(Object(u.a)(n,n,n)).subscribe(t).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class m{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new p(Zone.current)),this.insideAngular=t.run(()=>new p(Zone.current,s.b))}}function v(t,e){return function(n){return Object(i.p)(e)&&(n=n.lift(new g(t.ngZone))),n.pipe(Object(c.a)(t.outsideAngular),Object(l.b)(t.insideAngular))}}const b=t=>e=>new a.a(n=>t.runOutsideAngular(()=>{y(t)(e).subscribe(n)})),y=t=>e=>new a.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())));class _{constructor(t,e){this.zone=t,this.platformId=e}schedule(...t){return this.zone.runGuarded((function(){return o.b.schedule.apply(o.b,t)}))}keepUnstableUntilFirst(t){return Object(i.p)(this.platformId)?new a.a(e=>{const n=()=>{},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(t=>{"scheduled"===r.state&&r.invoke(),e.next(t)},t=>{"scheduled"===r.state&&r.invoke(),e.error(t)},()=>{"scheduled"===r.state&&r.invoke(),e.complete()})}):t}runOutsideAngular(t){return new a.a(e=>this.zone.runOutsideAngular(()=>t.subscribe(t=>this.zone.run(()=>e.next(t)),t=>this.zone.run(()=>e.error(t)),()=>this.zone.run(()=>e.complete()))))}}const w=["ngOnDestroy"],E=(t,e,n)=>new Proxy(t,{get:(r,i)=>n.runOutsideAngular(()=>{if(t[i])return t[i];if(w.includes(i))return()=>{};let r=e.toPromise().then(t=>{const e=t&&t[i];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>r[e],apply:(t,e,n)=>r.then(t=>t&&t(...n))})})})},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},"Y/cZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})()},Y6u4:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})()},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZR4w:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("kU1M");e.map=function(t,e){return r.map(t,e)(this)}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var o=n("SeVD"),s=n("HDdC");function a(t,e,n,r,a=new i(t,n,r)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(o.a)(e)(a)}},aECQ:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("fXoL"),i=n("HDdC"),o=n("Cfvw"),s=n("LRne"),a=n("eIep"),u=n("XU1U"),c=n("Czum");let l=(()=>{let t=class{constructor(t,e,n,r){const l=Object(u.i)(new u.f(r),n);this.auth=r.runOutsideAngular(()=>Object(c.h)(t,r,e).auth()),this.authState=new i.a(t=>r.runOutsideAngular(()=>this.auth.onAuthStateChanged(t))).pipe(l),this.user=new i.a(t=>r.runOutsideAngular(()=>this.auth.onIdTokenChanged(t))).pipe(l),this.idToken=this.user.pipe(Object(a.a)(t=>t?Object(o.a)(t.getIdToken()):Object(s.a)(null))),this.idTokenResult=this.user.pipe(Object(a.a)(t=>t?Object(o.a)(t.getIdTokenResult()):Object(s.a)(null)))}};return t.\u0275fac=function(e){return new(e||t)(r.Rb(c.c),r.Rb(c.b,8),r.Rb(r.B),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})()},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.b)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("5+tZ");function i(t,e){return Object(r.b)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},cp0P:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("HDdC"),i=n("DH7j"),o=n("lJxs"),s=n("XoHu"),a=n("Cfvw");function u(...t){if(1===t.length){const e=t[0];if(Object(i.a)(e))return c(e,null);if(Object(s.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return c(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return c(t=1===t.length&&Object(i.a)(t[0])?t[0]:t,null).pipe(Object(o.a)(t=>e(...t)))}return c(t,null)}function c(t,e){return new r.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let u=0;u<r;u++){const c=Object(a.a)(t[u]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,s++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e){return"function"==typeof e?n=>n.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends o.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new o.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(o.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return yo})),n.d(e,"b",(function(){return du})),n.d(e,"c",(function(){return uu})),n.d(e,"d",(function(){return su})),n.d(e,"e",(function(){return au})),n.d(e,"f",(function(){return rc})),n.d(e,"g",(function(){return Ku})),n.d(e,"h",(function(){return to})),n.d(e,"i",(function(){return Su})),n.d(e,"j",(function(){return Bs})),n.d(e,"k",(function(){return mu})),n.d(e,"l",(function(){return Ws})),n.d(e,"m",(function(){return Nn})),n.d(e,"n",(function(){return Wa})),n.d(e,"o",(function(){return K})),n.d(e,"p",(function(){return h})),n.d(e,"q",(function(){return G})),n.d(e,"r",(function(){return bo})),n.d(e,"s",(function(){return ca})),n.d(e,"t",(function(){return la})),n.d(e,"u",(function(){return gu})),n.d(e,"v",(function(){return ut})),n.d(e,"w",(function(){return Yu})),n.d(e,"x",(function(){return at})),n.d(e,"y",(function(){return Hu})),n.d(e,"z",(function(){return Nu})),n.d(e,"A",(function(){return f})),n.d(e,"B",(function(){return fu})),n.d(e,"C",(function(){return hu})),n.d(e,"D",(function(){return Qs})),n.d(e,"E",(function(){return Gs})),n.d(e,"F",(function(){return Ks})),n.d(e,"G",(function(){return $s})),n.d(e,"H",(function(){return gr})),n.d(e,"I",(function(){return p})),n.d(e,"J",(function(){return Ju})),n.d(e,"K",(function(){return pa})),n.d(e,"L",(function(){return Du})),n.d(e,"M",(function(){return no})),n.d(e,"N",(function(){return Js})),n.d(e,"O",(function(){return Xs})),n.d(e,"P",(function(){return ma})),n.d(e,"Q",(function(){return mt})),n.d(e,"R",(function(){return Bu})),n.d(e,"S",(function(){return zn})),n.d(e,"T",(function(){return A})),n.d(e,"U",(function(){return Wn})),n.d(e,"V",(function(){return ec})),n.d(e,"W",(function(){return Fu})),n.d(e,"X",(function(){return pu})),n.d(e,"Y",(function(){return ro})),n.d(e,"Z",(function(){return Ra})),n.d(e,"ab",(function(){return dr})),n.d(e,"bb",(function(){return $n})),n.d(e,"cb",(function(){return Dn})),n.d(e,"db",(function(){return jn})),n.d(e,"eb",(function(){return qn})),n.d(e,"fb",(function(){return Un})),n.d(e,"gb",(function(){return Fn})),n.d(e,"hb",(function(){return Vn})),n.d(e,"ib",(function(){return xa})),n.d(e,"jb",(function(){return tc})),n.d(e,"kb",(function(){return ka})),n.d(e,"lb",(function(){return Oa})),n.d(e,"mb",(function(){return Ln})),n.d(e,"nb",(function(){return F})),n.d(e,"ob",(function(){return Oo})),n.d(e,"pb",(function(){return Go})),n.d(e,"qb",(function(){return zo})),n.d(e,"rb",(function(){return Na})),n.d(e,"sb",(function(){return Yt})),n.d(e,"tb",(function(){return x})),n.d(e,"ub",(function(){return Mn})),n.d(e,"vb",(function(){return Eo})),n.d(e,"wb",(function(){return Ht})),n.d(e,"xb",(function(){return Vs})),n.d(e,"yb",(function(){return jr})),n.d(e,"zb",(function(){return Mo})),n.d(e,"Ab",(function(){return ps})),n.d(e,"Bb",(function(){return Os})),n.d(e,"Cb",(function(){return fs})),n.d(e,"Db",(function(){return nu})),n.d(e,"Eb",(function(){return _t})),n.d(e,"Fb",(function(){return Nt})),n.d(e,"Gb",(function(){return b})),n.d(e,"Hb",(function(){return y})),n.d(e,"Ib",(function(){return St})),n.d(e,"Jb",(function(){return xt})),n.d(e,"Kb",(function(){return jo})),n.d(e,"Lb",(function(){return Bo})),n.d(e,"Mb",(function(){return Ho})),n.d(e,"Nb",(function(){return qo})),n.d(e,"Ob",(function(){return Wo})),n.d(e,"Pb",(function(){return In})),n.d(e,"Qb",(function(){return Rs})),n.d(e,"Rb",(function(){return rt})),n.d(e,"Sb",(function(){return Fo})),n.d(e,"Tb",(function(){return ou})),n.d(e,"Ub",(function(){return Ko})),n.d(e,"Vb",(function(){return ru})),n.d(e,"Wb",(function(){return Fe})),n.d(e,"Xb",(function(){return je})),n.d(e,"Yb",(function(){return $o})),n.d(e,"Zb",(function(){return Ha})),n.d(e,"ac",(function(){return Ba})),n.d(e,"bc",(function(){return Uo})),n.d(e,"cc",(function(){return Xo})),n.d(e,"dc",(function(){return Jo})),n.d(e,"ec",(function(){return Ua})),n.d(e,"fc",(function(){return Va})),n.d(e,"gc",(function(){return eu})),n.d(e,"hc",(function(){return pe})),n.d(e,"ic",(function(){return mr})),n.d(e,"jc",(function(){return br})),n.d(e,"kc",(function(){return vr})),n.d(e,"lc",(function(){return Ct})),n.d(e,"mc",(function(){return As})),n.d(e,"nc",(function(){return hs})),n.d(e,"oc",(function(){return Lo})),n.d(e,"pc",(function(){return Ns})),n.d(e,"qc",(function(){return xs})),n.d(e,"rc",(function(){return ks}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){return{toString:t}.toString()}const c="__parameters__";function l(t,e,n){return u(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(c)?t[c]:Object.defineProperty(t,c,{value:[]})[c];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const h=l("Inject",t=>({token:t})),f=l("Optional"),d=l("Self"),p=l("SkipSelf");var g=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function m(t){for(let e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function v(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function _(t){return w(t,t[I])||w(t,t[T])}function w(t,e){return e&&e.token===t?e:null}function E(t){return t&&(t.hasOwnProperty(S)||t.hasOwnProperty(N))?t[S]:null}const I=m({"\u0275prov":m}),S=m({"\u0275inj":m}),C=m({"\u0275provFallback":m}),T=m({ngInjectableDef:m}),N=m({ngInjectorDef:m});function x(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(x).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function k(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const O=m({__forward_ref__:m});function A(t){return t.__forward_ref__=A,t.toString=function(){return x(this())},t}function R(t){return P(t)?t():t}function P(t){return"function"==typeof t&&t.hasOwnProperty(O)&&t.__forward_ref__===A}const M="undefined"!=typeof globalThis&&globalThis,D="undefined"!=typeof window&&window,L="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,F=M||j||D||L,U=m({"\u0275cmp":m}),V=m({"\u0275dir":m}),q=m({"\u0275pipe":m}),H=m({"\u0275mod":m}),B=m({"\u0275loc":m}),W=m({"\u0275fac":m}),z=m({__NG_ELEMENT_ID__:m});class G{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const K=new G("INJECTOR",-1),Q={},Y=/\n/gm,$="__source",X=m({provide:String,useValue:m});let J,Z=void 0;function tt(t){const e=Z;return Z=t,e}function et(t){const e=J;return J=t,e}function nt(t,e=g.Default){if(void 0===Z)throw new Error("inject() must be called from an injection context");return null===Z?it(t,void 0,e):Z.get(t,e&g.Optional?null:void 0,e)}function rt(t,e=g.Default){return(J||nt)(R(t),e)}function it(t,e,n){const r=_(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&g.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${x(t)}]`)}function ot(t){const e=[];for(let n=0;n<t.length;n++){const r=R(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=g.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof f||"Optional"===i.ngMetadataName||i===f?n|=g.Optional:i instanceof p||"SkipSelf"===i.ngMetadataName||i===p?n|=g.SkipSelf:i instanceof d||"Self"===i.ngMetadataName||i===d?n|=g.Self:t=i instanceof h||i===h?i.token:i}e.push(rt(t,n))}else e.push(rt(r))}return e}class st{get(t,e=Q){if(e===Q){const e=new Error(`NullInjectorError: No provider for ${x(t)}!`);throw e.name="NullInjectorError",e}return e}}class at{}class ut{}function ct(t,e){t.forEach(t=>Array.isArray(t)?ct(t,e):e(t))}function lt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ht(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ft(t,e,n){let r=pt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dt(t,e){const n=pt(t,e);if(n>=0)return t[1|n]}function pt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var gt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),mt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const vt={},bt=[];let yt=0;function _t(t){return u(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||mt.Emulated,id:"c",styles:t.styles||bt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=yt++,n.inputs=Tt(t.inputs,e),n.outputs=Tt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(wt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Et):null,n})}function wt(t){return kt(t)||function(t){return t[V]||null}(t)}function Et(t){return function(t){return t[q]||null}(t)}const It={};function St(t){const e={type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u(()=>{It[t.id]=t.type}),e}function Ct(t,e){return u(()=>{const n=At(t,!0);n.declarations=e.declarations||bt,n.imports=e.imports||bt,n.exports=e.exports||bt})}function Tt(t,e){if(null==t)return vt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Nt=_t;function xt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function kt(t){return t[U]||null}function Ot(t,e){return t.hasOwnProperty(W)?t[W]:null}function At(t,e){const n=t[H]||null;if(!n&&!0===e)throw new Error(`Type ${x(t)} does not have '\u0275mod' property.`);return n}const Rt=20,Pt=10;function Mt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Dt(t){return Array.isArray(t)&&!0===t[1]}function Lt(t){return 0!=(8&t.flags)}function jt(t){return 2==(2&t.flags)}function Ft(t){return 1==(1&t.flags)}function Ut(t){return null!==t.template}function Vt(t){return 0!=(512&t[2])}class qt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ht(){return Bt}function Bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=zt),Wt}function Wt(){const t=Gt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===vt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function zt(t,e,n,r){const i=Gt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:vt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new qt(u&&u.currentValue,e,s===vt),t[r]=e}function Gt(t){return t.__ngSimpleChanges__||null}Ht.ngInherit=!0;const Kt="http://www.w3.org/2000/svg";let Qt=void 0;function Yt(t){Qt=t}function $t(){return void 0!==Qt?Qt:"undefined"!=typeof document?document:void 0}function Xt(t){return!!t.listen}const Jt={createRenderer:(t,e)=>$t()};function Zt(t){for(;Array.isArray(t);)t=t[0];return t}function te(t,e){return Zt(e[t+Rt])}function ee(t,e){return Zt(e[t.index])}function ne(t,e){return t.data[e+Rt]}function re(t,e){const n=e[t];return Mt(n)?n:n[0]}function ie(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function oe(t){return 4==(4&t[2])}function se(t){return 128==(128&t[2])}function ae(t,e){return null===t||null==e?null:t[e]}function ue(t){t[18]=0}function ce(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const le={lFrame:Oe(null),bindingsEnabled:!0,checkNoChangesMode:!1};function he(){return le.bindingsEnabled}function fe(){return le.lFrame.lView}function de(){return le.lFrame.tView}function pe(t){le.lFrame.contextLView=t}function ge(){return le.lFrame.currentTNode}function me(t,e){le.lFrame.currentTNode=t,le.lFrame.isParent=e}function ve(){return le.lFrame.isParent}function be(){return le.checkNoChangesMode}function ye(t){le.checkNoChangesMode=t}function _e(){const t=le.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function we(){return le.lFrame.bindingIndex++}function Ee(t){const e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ie(t,e){const n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,Se(e)}function Se(t){le.lFrame.currentDirectiveIndex=t}function Ce(){return le.lFrame.currentQueryIndex}function Te(t){le.lFrame.currentQueryIndex=t}function Ne(t,e){const n=ke();le.lFrame=n,n.currentTNode=e,n.lView=t}function xe(t){const e=ke(),n=t[1];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function ke(){const t=le.lFrame,e=null===t?null:t.child;return null===e?Oe(t):e}function Oe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ae(){const t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Re=Ae;function Pe(){const t=Ae();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Me(){return le.lFrame.selectedIndex}function De(t){le.lFrame.selectedIndex=t}function Le(){const t=le.lFrame;return ne(t.tView,t.selectedIndex)}function je(){le.lFrame.currentNamespace=Kt}function Fe(){le.lFrame.currentNamespace=null}function Ue(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ve(t,e,n){Be(t,e,3,n)}function qe(t,e,n,r){(3&t[2])===n&&Be(t,e,n,r)}function He(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Be(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(We(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function We(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const ze=-1;class Ge{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ke(t,e,n){const r=Xt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ye(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Qe(t){return 3===t||4===t||6===t}function Ye(t){return 64===t.charCodeAt(0)}function $e(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Xe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Xe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Je(t){return t!==ze}function Ze(t){return 32767&t}function tn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function en(t){return"string"==typeof t?t:null==t?"":""+t}function nn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():en(t)}const rn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F))();function on(t){return t instanceof Function?t():t}let sn=!0;function an(t){const e=sn;return sn=t,e}let un=0;function cn(t,e){const n=hn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ln(r.data,t),ln(e,null),ln(r.blueprint,null));const i=fn(t,e),o=t.injectorIndex;if(Je(i)){const t=Ze(i),n=tn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function ln(t,e){t.push(0,0,0,0,0,0,0,0,e)}function hn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function fn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ze;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ze}function dn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(z)&&(r=n[z]),null==r&&(r=n[z]=un++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function pn(t,e,n,r=g.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(z)?t[z]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Ne(e,t);try{const t=i();if(null!=t||r&g.Optional)return t;throw new Error(`No provider for ${nn(n)}!`)}finally{Re()}}else if("number"==typeof i){if(-1===i)return new wn(t,e);let o=null,s=hn(t,e),a=ze,u=r&g.Host?e[16][6]:null;for((-1===s||r&g.SkipSelf)&&(a=-1===s?fn(t,e):e[s+8],a!==ze&&_n(r,!1)?(o=e[1],s=Ze(a),e=tn(a,e)):s=-1);-1!==s;){const t=e[1];if(yn(i,s,t.data)){const t=mn(s,e,n,o,r,u);if(t!==gn)return t}a=e[s+8],a!==ze&&_n(r,e[1].data[s+8]===u)&&yn(i,s,e)?(o=t,s=Ze(a),e=tn(a,e)):s=-1}}}if(r&g.Optional&&void 0===i&&(i=null),0==(r&(g.Self|g.Host))){const t=e[9],o=et(void 0);try{return t?t.get(n,i,r&g.Optional):it(n,i,r&g.Optional)}finally{et(o)}}if(r&g.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${nn(n)}]`)}const gn={};function mn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=vn(a,s,n,null==r?jt(a)&&sn:r!=s&&2===a.type,i&g.Host&&o===a);return null!==u?bn(e,s,u,a):gn}function vn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Ut(t)&&t.type===n)return u}return null}function bn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ge){const s=i;if(s.resolving)throw new Error("Circular dep for "+nn(o[n]));const a=an(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?et(s.injectImpl):null;Ne(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Bt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&et(u),an(a),s.resolving=!1,Re()}}return i}function yn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function _n(t,e){return!(t&g.Self||t&g.Host&&e)}class wn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return pn(this._tNode,this._lView,t,void 0,e)}}function En(t){const e=t;if(P(t))return()=>{const t=En(R(e));return t?t():null};let n=Ot(e);if(null===n){const t=E(e);n=t&&t.factory}return n||null}function In(t){return u(()=>{const e=t.prototype.constructor,n=e[W]||En(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||En(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Sn(t){return t.ngDebugContext}function Cn(t){return t.ngOriginalError}function Tn(t,...e){t.error(...e)}class Nn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Tn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Sn(t)?Sn(t):this._findContext(Cn(t)):null}_findOriginalError(t){let e=Cn(t);for(;e&&Cn(e);)e=Cn(e);return e}}class xn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class kn extends xn{getTypeName(){return"HTML"}}class On extends xn{getTypeName(){return"Style"}}class An extends xn{getTypeName(){return"Script"}}class Rn extends xn{getTypeName(){return"URL"}}class Pn extends xn{getTypeName(){return"ResourceURL"}}function Mn(t){return t instanceof xn?t.changingThisBreaksApplicationSecurity:t}function Dn(t,e){const n=Ln(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Ln(t){return t instanceof xn&&t.getTypeName()||null}function jn(t){return new kn(t)}function Fn(t){return new On(t)}function Un(t){return new An(t)}function Vn(t){return new Rn(t)}function qn(t){return new Pn(t)}let Hn=!0,Bn=!1;function Wn(){return Bn=!0,Hn}function zn(){if(Bn)throw new Error("Cannot enable prod mode after platform setup.");Hn=!1}class Gn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Kn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $n(t){return(t=String(t)).match(Qn)||t.match(Yn)?t:(Wn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Jn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Zn=Xn("area,br,col,hr,img,wbr"),tr=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Xn("rp,rt"),nr=Jn(er,tr),rr=Jn(Zn,Jn(tr,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(er,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Xn("srcset"),sr=Jn(ir,or,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Xn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!sr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ir[o]&&(s=$n(s)),or[o]&&(r=s,s=(r=String(r)).split(",").map(t=>$n(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Zn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(lr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fr;function dr(t,e){let n=null;try{fr=fr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Gn:new Kn(t)}(t);let r=e?String(e):"";n=fr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==o);const s=new ur,a=s.sanitizeChildren(pr(n)||n);return Wn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=yr();return e?e.sanitize(gr.HTML,t)||"":Dn(t,"HTML")?Mn(t):dr($t(),en(t))}function vr(t){const e=yr();return e?e.sanitize(gr.URL,t)||"":Dn(t,"URL")?Mn(t):$n(en(t))}function br(t){const e=yr();if(e)return e.sanitize(gr.RESOURCE_URL,t)||"";if(Dn(t,"ResourceURL"))return Mn(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function yr(){const t=fe();return t&&t[12]}function _r(t,e){t.__ngContext__=e}function wr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Er="ng-template";function Ir(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==wr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Sr(t){return 0===t.type&&t.tagName!==Er}function Cr(t,e,n){return e===(0!==t.type||n?t.tagName:Er)}function Tr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Qe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Cr(t,u,n)||""===u&&1===e.length){if(Nr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Ir(t.attrs,c,n)){if(Nr(r))return!1;s=!0}continue}const l=xr(8&r?"class":u,i,Sr(t),n);if(-1===l){if(Nr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==wr(e,c,0)||2&r&&c!==t){if(Nr(r))return!1;s=!0}}}}else{if(!s&&!Nr(r)&&!Nr(u))return!1;if(s&&Nr(u))continue;s=!1,r=u|1&r}}return Nr(r)||s}function Nr(t){return 0==(1&t)}function xr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function kr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Tr(t,e[r],n))return!0;return!1}function Or(t,e){return t?":not("+e.trim()+")":e}function Ar(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Nr(s)||(e+=Or(o,i),i=""),r=s,o=o||!Nr(r);n++}return""!==i&&(e+=Or(o,i)),e}const Rr={};function Pr(t){const e=t[3];return Dt(e)?e[3]:e}function Mr(t){return Lr(t[13])}function Dr(t){return Lr(t[4])}function Lr(t){for(;null!==t&&!Dt(t);)t=t[4];return t}function jr(t){Fr(de(),fe(),Me()+t,be())}function Fr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ve(e,r,n)}else{const r=t.preOrderHooks;null!==r&&qe(e,r,0,n)}De(n)}function Ur(t,e){return t<<17|e<<2}function Vr(t){return t>>17&32767}function qr(t){return 2|t}function Hr(t){return(131068&t)>>2}function Br(t,e){return-131069&t|e<<2}function Wr(t){return 1|t}function zr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Te(i),n.contentQueries(2,e[o],o)}}}function Gr(t,e,n){return Xt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Kr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ue(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Qr(t,e,n,r,i){const o=e+Rt,s=t.data[o]||function(t,e,n,r,i){const o=ge(),s=ve(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return me(s,!0),s}function Yr(t,e,n){xe(e);try{const r=t.viewQuery;null!==r&&Ci(1,r,n);const i=t.template;null!==i&&Jr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zr(t,e),t.staticViewQueries&&Ci(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)_i(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Pe()}}function $r(t,e,n,r){const i=e[2];if(256==(256&i))return;xe(e);const o=be();try{ue(e),le.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Jr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ve(e,n,null)}else{const n=t.preOrderHooks;null!==n&&qe(e,n,0,null),He(e,0)}if(function(t){for(let e=Mr(t);null!==e;e=Dr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ce(r,1),n[2]|=1024}}}(e),function(t){for(let e=Mr(t);null!==e;e=Dr(e))for(let t=Pt;t<e.length;t++){const n=e[t],r=n[1];se(n)&&$r(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&zr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ve(e,n)}else{const n=t.contentHooks;null!==n&&qe(e,n,1),He(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,De(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Ie(r,i),s(2,e[i])),i++)}}}finally{De(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)yi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ci(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ve(e,n)}else{const n=t.viewHooks;null!==n&&qe(e,n,2),He(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ce(e[3],-1))}finally{Pe()}}function Xr(t,e,n,r){const i=e[10],o=!be(),s=oe(e);try{o&&!s&&i.begin&&i.begin(),s&&Yr(t,e,r),$r(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Jr(t,e,n,r,i){const o=Me();try{De(-1),2&r&&e.length>Rt&&Fr(t,e,0,be()),n(r,i)}finally{De(o)}}function Zr(t,e,n){he()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||cn(n,e),_r(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Ut(r);o&&gi(e,n,r);const u=bn(e,t,a,n);_r(u,e),null!==s&&mi(0,a-i,u,r,0,s),o&&(re(n.index,e)[8]=u)}}(t,e,n,ee(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-Rt,u=le.lFrame.currentDirectiveIndex;try{De(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Se(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ci(r,i):s&&o.push(null)}}finally{De(-1),Se(u)}}(t,e,n))}function ti(t,e,n=ee){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ei(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ni(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ni(t,e,n,r,i,o,s,a,u,c){const l=Rt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Rr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ri(t,e,n,r){const i=Ni(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ii(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function oi(t,e,n,r,i,o,s,a){const u=ee(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(ki(t,n,c,r,i),jt(e)&&function(t,e){const n=re(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Xt(o)?o.setProperty(u,r,i):Ye(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function si(t,e,n,r){let i=!1;if(he()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];kr(n,s.selectors,!1)&&(i||(i=[]),dn(cn(n,e),t,s.type),Ut(s)?(hi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,di(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}li(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=$e(n.mergedAttrs,c.hostAttrs),pi(t,e,c),fi(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Rt),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Rt),u=!0),ai(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Sr(e)?null:vi(n,i);o.push(c),s=ii(n,u,s),a=ii(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),ui(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=$e(n.mergedAttrs,n.attrs),i}function ai(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ui(t,e,n){for(let r=0;r<n;r++)e.push(Rr),t.blueprint.push(Rr),t.data.push(null)}function ci(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function li(t,e,n){const r=Rt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function hi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function fi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ut(e)&&(n[""]=t)}}function di(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function pi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Ot(n.type)),i=new Ge(r,Ut(n),null);t.blueprint.push(i),e.push(i)}function gi(t,e,n){const r=ee(e,t),i=ei(n),o=t[10],s=wi(t,Kr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function mi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function bi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function yi(t,e){const n=re(e,t);if(se(n)){const t=n[1];80&n[2]?$r(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Mr(e);null!==r;r=Dr(r))for(let e=Pt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];$r(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=re(n[r],e);se(i)&&i[5]>0&&t(i)}}(n)}}function _i(t,e){const n=re(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Yr(r,n,n[8])}function wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ei(t){for(;t;){t[2]|=64;const e=Pr(t);if(Vt(t)&&!e)return t;t=e}return null}function Ii(t,e,n){const r=e[10];r.begin&&r.begin();try{$r(t,e,t.template,n)}catch(i){throw xi(e,i),i}finally{r.end&&r.end()}}function Si(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ie(n),i=r[1];Xr(i,r,i.template,n)}}(t[8])}function Ci(t,e,n){Te(0),e(t,n)}const Ti=(()=>Promise.resolve(null))();function Ni(t){return t[7]||(t[7]=[])}function xi(t,e){const n=t[9],r=n?n.get(Nn,null):null;r&&r.handleError(e)}function ki(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Oi(t,e,n,r,i){if(null!=r){let o,s=!1;Dt(r)?o=r:Mt(r)&&(s=!0,r=r[0]);const a=Zt(r);0===t&&null!==n?null==i?Li(e,n,a):Di(e,n,a,i||null):1===t&&null!==n?Di(e,n,a,i||null):2===t?function(t,e,n){const r=Fi(t,e);r&&function(t,e,n,r){Xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Zt(n)&&Oi(e,t,r,o,i);for(let s=Pt;s<n.length;s++){const i=n[s];qi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ai(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ce(i,-1)),n.splice(r,1)}function Ri(t,e){if(t.length<=Pt)return;const n=Pt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ai(o,r),e>0&&(t[n-1][4]=r[4]);const s=ht(t,Pt+e);qi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Pi(t,e){if(!(256&e[2])){const n=e[11];Xt(n)&&n.destroyNode&&qi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Mi(t[1],t);for(;e;){let n=null;if(Mt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Mt(e)&&Mi(e[1],e),e=e[3];null===e&&(e=t),Mt(e)&&Mi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Mi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ge)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Zt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Dt(e[3])){n!==e[3]&&Ai(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Di(t,e,n,r){Xt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Li(t,e,n){Xt(t)?t.appendChild(e,n):e.appendChild(n)}function ji(t,e,n,r){null!==r?Di(t,e,n,r):Li(t,e,n)}function Fi(t,e){return Xt(t)?t.parentNode(e):e.parentNode}function Ui(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return ee(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==mt.ShadowDom&&n!==mt.Native)return null}return ee(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){return 3===t.type||4===t.type?ee(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)ji(t,i,n[e],o);else ji(t,i,n,o)}}function Vi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&_r(Zt(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Vi(t,e,n.child,r,i,o,!1),Oi(e,t,i,a,o)):1===u?Hi(t,e,r,n,i,o):Oi(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function qi(t,e,n,r,i,o){Vi(n,r,t.firstChild,e,i,o,!1)}function Hi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Oi(e,t,i,a[u],o);else Vi(t,e,a,s[3],i,o,!0)}function Bi(t,e,n){Xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Wi(t,e,n){Xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class zi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Zt(s)),Dt(s))for(let e=Pt;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Pr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Pi(this._lView[1],this._lView)}onDestroy(t){ri(this._lView[1],this._lView,null,t)}markForCheck(){Ei(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ii(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ye(!0);try{Ii(t,e,n)}finally{ye(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,qi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gi extends zi{constructor(t){super(t),this._view=t}detectChanges(){Si(this._view)}checkNoChanges(){!function(t){ye(!0);try{Si(t)}finally{ye(!1)}}(this._view)}get context(){return null}}let Ki,Qi,Yi;function $i(t,e,n){return Ki||(Ki=class extends t{}),new Ki(ee(e,n))}function Xi(t,e,n,r){return Qi||(Qi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Kr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Yr(e,n,t),new zi(n)}}),0===n.type?new Qi(r,n,$i(e,n,r)):null}function Ji(t,e,n,r){let i;Yi||(Yi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return $i(e,this._hostTNode,this._hostView)}get injector(){return new wn(this._hostTNode,this._hostView)}get parentInjector(){const t=fn(this._hostTNode,this._hostView);if(Je(t)){const e=tn(t,this._hostView),n=Ze(t);return new wn(e[1].data[n+8],e)}return new wn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Pt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(at,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Yi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Pt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Pt?(e[4]=n[i],lt(n,Pt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=Pt+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return ee(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Dt(e)?t(-1,e):Zt(e)}}{const t=n[16],i=t[6],o=Pr(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],u=Fi(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,qi(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),lt(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ri(this._lContainer,e);n&&(ht(this._lContainer[8],e),Pi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ri(this._lContainer,e);return n&&null!=ht(this._lContainer[8],e)?new zi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Dt(o))i=o;else{let t;if(3===n.type)t=Zt(o);else if(t=r[11].createComment(""),Vt(r)){const e=r[11],i=ee(n,r);Di(e,Fi(e,i),t,function(t,e){return Xt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Ui(r[1],r,t,n);r[n.index]=i=bi(o,r,t,n),wi(r,i)}return new Yi(i,n,r)}function Zi(t=!1){return function(t,e,n){if(!n&&jt(t)){const n=re(t.index,e);return new zi(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new zi(e[16],e):null}(ge(),fe(),t)}let to=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>eo(),t})();const eo=Zi,no=Function,ro=new G("Set Injector scope."),io={},oo={},so=[];let ao=void 0;function uo(){return void 0===ao&&(ao=new st),ao}function co(t,e=null,n=null,r){return new lo(t,n,e||uo(),r)}class lo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ct(e,n=>this.processProvider(n,t,e)),ct([t],t=>this.processInjectorType(t,[],i)),this.records.set(K,po(void 0,this));const o=this.records.get(ro);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:x(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Q,n=g.Default){this.assertNotDestroyed();const r=tt(this);try{if(!(n&g.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof G)&&_(t);e=n&&this.injectableDefInScope(n)?po(ho(t),io):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&g.Self?uo():this.parent).get(t,e=n&g.Optional&&e===Q?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(x(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[$]&&i.unshift(e[$]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=x(e);if(Array.isArray(e))i=e.map(x).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):x(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Y,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{tt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(x(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=R(t)))return!1;let r=E(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=E(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ct(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ct(r,t=>this.processProvider(t,n,r||so))}}this.injectorDefTypes.add(o),this.records.set(o,po(r.factory,io));const a=r.providers;if(null!=a&&!s){const e=t;ct(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=mo(t=R(t))?t:R(t&&t.provide);const i=function(t,e,n){return go(t)?po(void 0,t.useValue):po(fo(t),io)}(t);if(mo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=po(void 0,io,!0),e.factory=()=>ot(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===io&&(e.value=oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ho(t){const e=_(t),n=null!==e?e.factory:Ot(t);if(null!==n)return n;const r=E(t);if(null!==r)return r.factory;if(t instanceof G)throw new Error(`Token ${x(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${x(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[T]||t[C]&&t[C]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function fo(t,e,n){let r=void 0;if(mo(t)){const e=R(t);return Ot(e)||ho(e)}if(go(t))r=()=>R(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ot(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>rt(R(t.useExisting));else{const e=R(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ot(e)||ho(e);r=()=>new e(...ot(t.deps))}var i;return r}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function go(t){return null!==t&&"object"==typeof t&&X in t}function mo(t){return"function"==typeof t}const vo=function(t,e,n){return function(t,e=null,n=null,r){const i=co(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let bo=(()=>{class t{static create(t,e){return Array.isArray(t)?vo(t,e,""):vo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Q,t.NULL=new st,t.\u0275prov=b({token:t,providedIn:"any",factory:()=>rt(K)}),t.__NG_ELEMENT_ID__=-1,t})();const yo=new G("AnalyzeForEntryComponents");function _o(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=k(i,t):2==o&&(r=k(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function wo(t,e){const n=ie(t)[1],r=n.data.length-1;Ue(n,{directiveStart:r,directiveEnd:r+1})}function Eo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ut(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Io(t.inputs),e.declaredInputs=Io(t.declaredInputs),e.outputs=Io(t.outputs);const n=i.hostBindings;n&&To(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&So(t,o),s&&Co(t,s),v(t.inputs,i.inputs),v(t.declaredInputs,i.declaredInputs),v(t.outputs,i.outputs),Ut(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Eo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$e(i.hostAttrs,n=$e(n,i.hostAttrs))}}(r)}function Io(t){return t===vt?{}:t===bt?[]:t}function So(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Co(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function To(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let No=null;function xo(){if(!No){const t=F.Symbol;if(t&&t.iterator)No=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(No=n)}}}return No}class ko{constructor(t){this.wrapped=t}static wrap(t){return new ko(t)}static unwrap(t){return ko.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ko}}function Oo(t){return!!Ao(t)&&(Array.isArray(t)||!(t instanceof Map)&&xo()in t)}function Ao(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ro(t,e,n){return t[e]=n}function Po(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mo(t,e,n,r){const i=fe();return Po(i,we(),e)&&(de(),function(t,e,n,r,i,o){const s=ee(t,e),a=e[11];if(null==r)Xt(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?en(r):i(r,t.tagName||"",n);Xt(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Le(),i,t,e,n,r)),Mo}function Do(t,e,n,r){return Po(t,we(),n)?e+en(n)+r:Rr}function Lo(t,e,n,r,i,o,s,a){const u=fe(),c=de(),l=t+Rt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Qr(e,t,0,s||null,ae(c,a));si(e,n,l,ae(c,u)),Ue(e,l);const h=l.tViews=ni(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];me(h,!1);const f=u[11].createComment("");Ui(c,u,f,h),_r(f,u),wi(u,u[l]=bi(f,u,f,h)),Ft(h)&&Zr(c,u,h),null!=s&&ti(u,h,a)}function jo(t,e=g.Default){const n=fe();return null===n?rt(t,e):pn(ge(),n,R(t),e)}function Fo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Qe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ge(),t)}function Uo(t,e,n){const r=fe();return Po(r,we(),e)&&oi(de(),Le(),r,t,e,r[11],n,!1),Uo}function Vo(t,e,n,r,i){const o=i?"class":"style";ki(t,n,e.inputs[o],o,r)}function qo(t,e,n,r){const i=fe(),o=de(),s=Rt+t,a=i[11],u=i[s]=Gr(e,a,le.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Qr(e,t,2,i,ae(a,o));return si(e,n,u,ae(a,s)),null!==u.attrs&&_o(u,u.attrs,!1),null!==u.mergedAttrs&&_o(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];me(c,!0);const l=c.mergedAttrs;null!==l&&Ke(a,u,l);const h=c.classes;null!==h&&Wi(a,u,h);const f=c.styles;null!==f&&Bi(a,u,f),Ui(o,i,u,c),0===le.lFrame.elementDepthCount&&_r(u,i),le.lFrame.elementDepthCount++,Ft(c)&&(Zr(o,i,c),function(t,e,n){if(Lt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&ti(i,c)}function Ho(){let t=ge();ve()?le.lFrame.isParent=!1:(t=t.parent,me(t,!1));const e=t;le.lFrame.elementDepthCount--;const n=de();n.firstCreatePass&&(Ue(n,t),Lt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Vo(n,e,fe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Vo(n,e,fe(),e.stylesWithoutHost,!1)}function Bo(t,e,n,r){qo(t,e,n,r),Ho()}function Wo(){return fe()}function zo(t){return!!t&&"function"==typeof t.then}function Go(t){return!!t&&"function"==typeof t.subscribe}function Ko(t,e,n=!1,r){const i=fe(),o=de(),s=ge();return function(t,e,n,r,i,o,s=!1,a){const u=Ft(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ni(e);let h=!0;if(2===r.type){const f=ee(r,e),d=a?a(f):vt,p=d.target||f,g=l.length,m=a?t=>a(Zt(t[r.index])).target:r.index;if(Xt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Yo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Yo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Ko}function Qo(t,e,n){try{return!1!==e(n)}catch(r){return xi(t,r),!1}}function Yo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?re(t.index,e):e;0==(32&e[2])&&Ei(s);let a=Qo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Qo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function $o(t=1){return function(t){return(le.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,le.lFrame.contextLView))[8]}(t)}function Xo(t,e,n){return Jo(t,"",e,"",n),Xo}function Jo(t,e,n,r,i){const o=fe(),s=Do(o,e,n,r);return s!==Rr&&oi(de(),Le(),o,t,s,o[11],i,!1),Jo}const Zo=[];function ts(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Vr(o):Hr(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];es(t[a],e)&&(u=!0,t[a+1]=r?Wr(n):qr(n)),a=r?Vr(n):Hr(n)}u&&(t[n+1]=r?qr(o):Wr(o))}function es(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pt(t,e)>=0}const ns={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rs(t){return t.substring(ns.key,ns.keyEnd)}function is(t){return t.substring(ns.value,ns.valueEnd)}function os(t,e){const n=ns.textEnd;return n===e?-1:(e=ns.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ns.key=e,n),us(t,e,n))}function ss(t,e){const n=ns.textEnd;let r=ns.key=us(t,e,n);return n===r?-1:(r=ns.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=cs(t,r,n),r=ns.value=us(t,r,n),r=ns.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=ls(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=ls(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),cs(t,r,n))}function as(t){ns.key=0,ns.keyEnd=0,ns.value=0,ns.valueEnd=0,ns.textEnd=t.length}function us(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function cs(t,e,n,r){return(e=us(t,e,n))<n&&e++,e}function ls(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function hs(t,e,n){return ms(t,e,n,!1),hs}function fs(t,e){return ms(t,e,null,!0),fs}function ds(t,e){for(let n=function(t){return as(t),ss(t,us(t,0,ns.textEnd))}(e);n>=0;n=ss(e,n))Es(t,rs(e),is(e))}function ps(t){vs(ft,gs,t,!0)}function gs(t,e){for(let n=function(t){return as(t),os(t,us(t,0,ns.textEnd))}(e);n>=0;n=os(e,n))ft(t,rs(e),!0)}function ms(t,e,n,r){const i=fe(),o=de(),s=Ee(2);o.firstUpdatePass&&ys(o,t,s,r),e!==Rr&&Po(i,s,e)&&Is(o,o.data[Me()+Rt],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=x(Mn(t)))),t}(e,n),r,s)}function vs(t,e,n,r){const i=de(),o=Ee(2);i.firstUpdatePass&&ys(i,null,o,r);const s=fe();if(n!==Rr&&Po(s,o,n)){const a=i.data[Me()+Rt];if(Ts(a,r)&&!bs(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=k(t,n||"")),Vo(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Rr&&(i=Zo);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p=null,g=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=d),null!==p&&Is(t,e,n,r,p,g,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Zo;const r=[],i=Mn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function bs(t,e){return e>=t.expandoStartIndex}function ys(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Me()+Rt],s=bs(t,n);Ts(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ws(n=_s(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=_s(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Hr(r))return t[Vr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=_s(null,t,e,n[1],r),n=ws(n,e.attrs,r),function(t,e,n,r){t[Vr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ws(r,t[o].hostAttrs,n);return ws(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Vr(s),u=Hr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||pt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Vr(t[a+1]);t[r+1]=Ur(e,a),0!==e&&(t[e+1]=Br(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ur(a,0),0!==a&&(t[a+1]=Br(t[a+1],r)),a=r;else t[r+1]=Ur(u,0),0===a?a=r:t[u+1]=Br(t[u+1],r),u=r;l&&(t[r+1]=qr(t[r+1])),ts(t,c,r,!0),ts(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&pt(o,e)>=0&&(n[r+1]=Wr(n[r+1]))}(e,c,t,r,o),s=Ur(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function _s(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ws(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ws(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ft(t,s,!!n||e[++o]))}return void 0===t?null:t}function Es(t,e,n){ft(t,e,Mn(n))}function Is(t,e,n,r,i,o,s,a){if(2!==e.type)return;const u=t.data,c=u[a+1];Cs(1==(1&c)?Ss(u,e,n,i,Hr(c),s):void 0)||(Cs(o)||2==(2&c)&&(o=Ss(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Xt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,te(Me(),n),i,o))}function Ss(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Rr&&(l=c?Zo:void 0);let h=c?dt(l,r):u===r?l:void 0;if(o&&!Cs(h)&&(h=dt(e,r)),Cs(h)&&(a=h,s))return a;const f=t[i+1];i=s?Vr(f):Hr(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=dt(t,r))}return a}function Cs(t){return void 0!==t}function Ts(t,e){return 0!=(t.flags&(e?16:32))}function Ns(t,e=""){const n=fe(),r=de(),i=t+Rt,o=r.firstCreatePass?Qr(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return Xt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ui(r,n,s,o),me(o,!1)}function xs(t){return ks("",t,""),xs}function ks(t,e,n){const r=fe(),i=Do(r,t,e,n);return i!==Rr&&function(t,e,n){const r=te(e,t),i=t[11];Xt(i)?i.setValue(r,n):r.textContent=n}(r,Me(),i),ks}function Os(t,e,n){vs(ft,gs,Do(fe(),t,e,n),!0)}function As(t,e,n){vs(Es,ds,Do(fe(),t,e,n),!1)}function Rs(t,e,n){const r=fe();return Po(r,we(),e)&&oi(de(),Le(),r,t,e,r[11],n,!0),Rs}function Ps(t,e,n,r,i){if(t=R(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ps(t[o],e,n,r,i);else{const o=de(),s=fe();let a=mo(t)?t:R(t.provide),u=fo(t);const c=ge(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(mo(t)||!t.multi){const r=new Ge(u,i,jo),d=Ls(a,e,i?l:l+f,h);-1===d?(dn(cn(c,s),o,a),Ms(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ls(a,e,l+f,h),p=Ls(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){dn(cn(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ge(t,n,jo);return o.multi=[],o.index=e,o.componentProviders=0,Ds(o,i,r&&!n),o}(i?Fs:js,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Ms(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Ms(o,t,d>-1?d:p,Ds(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ms(t,e,n,r){const i=mo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Ds(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ls(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function js(t,e,n,r){return Us(this.multi,[])}function Fs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=bn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Us(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Us(i,o);return o}function Us(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Vs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=de();if(r.firstCreatePass){const i=Ut(t);Ps(n,r.data,r.blueprint,i,!0),Ps(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class qs{}class Hs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${x(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Bs=(()=>{class t{}return t.NULL=new Hs,t})(),Ws=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>zs(t),t})();const zs=function(t){return $i(t,ge(),fe())};class Gs{}var Ks=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Qs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ys(),t})();const Ys=function(){const t=fe(),e=re(ge().index,t);return function(t){const e=t[11];if(Xt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Mt(e)?e:t)};let $s=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class Xs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Js=new Xs("10.1.6");class Zs{constructor(){}supports(t){return Oo(t)}create(t){return new ea(t)}}const ta=(t,e)=>e;class ea{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ta}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<oa(n,r,i)?e:n,s=oa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Oo(t))throw new Error(`Error trying to diff '${x(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new na(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ia),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ia),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class na{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ra{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ia{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ra,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class sa{constructor(){}supports(t){return t instanceof Map||Ao(t)}create(){return new aa}}class aa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ao(t)))throw new Error(`Error trying to diff '${x(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ua(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ua{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ca=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new f]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new Zs])}),t})(),la=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new f]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new sa])}),t})();const ha=[new sa],fa=new ca([new Zs]),da=new la(ha);let pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ga(t,Ws),t})();const ga=function(t,e){return Xi(t,e,ge(),fe())};let ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>va(t,Ws),t})();const va=function(t,e){return Ji(t,e,ge(),fe())},ba={};class ya extends Bs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=kt(t);return new Ea(e,this.ngModule)}}function _a(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const wa=new G("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>rn});class Ea extends qs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ar).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return _a(this.componentDef.inputs)}get outputs(){return _a(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ba,i);return o!==ba||r===ba?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Gs,Jt),s=i.get($s,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Xt(t))return t.selectRootElement(e,n===mt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Gr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?Kt:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:rn,clean:Ti,playerHandler:null,flags:0},f=ni(0,null,null,1,0,null,null,null,null,null),d=Kr(null,f,h,l,null,null,o,a,s,i);let p,g;xe(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Qr(s,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(_o(a,u,!0),null!==t&&(Ke(i,t,u),null!==a.classes&&Wi(i,t,a.classes),null!==a.styles&&Bi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Kr(n,ei(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(dn(cn(a,n),s,e.type),hi(s,a),di(a,n.length,1)),wi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ke(a,c,["ng-version",Js.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Nr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ke(a,c,t),e&&e.length>0&&Wi(a,c,e.join(" "))}if(g=ne(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=ge();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),li(t,r,1),pi(t,e,n));const i=bn(e,t,e.length-1,r);_r(i,e);const o=ee(r,e);return o&&_r(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=ge();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){De(a.index-Rt);const t=n[1];ai(t,e),ui(t,n,e.hostVars),ci(e,s)}return s}(t,this.componentDef,d,h,[wo]),Yr(f,d,null)}finally{Pe()}return new Ia(this.componentType,p,$i(Ws,g,d),d,g)}}class Ia extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Gi(r),this.componentType=t}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Sa=void 0;var Ca=["en",[["a","p"],["AM","PM"],Sa],[["AM","PM"],Sa,Sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sa,"{1} 'at' {0}",Sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ta={};function Na(t,e,n){"string"!=typeof e&&(n=e,e=t[Ra.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ta[e]=t,n&&(Ta[e][Ra.ExtraData]=n)}function xa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Aa(e);if(n)return n;const r=e.split("-")[0];if(n=Aa(r),n)return n;if("en"===r)return Ca;throw new Error(`Missing locale data for the locale "${t}".`)}function ka(t){return xa(t)[Ra.CurrencyCode]||null}function Oa(t){return xa(t)[Ra.PluralCase]}function Aa(t){return t in Ta||(Ta[t]=F.ng&&F.ng.common&&F.ng.common.locales&&F.ng.common.locales[t]),Ta[t]}var Ra=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Pa="en-US";let Ma=Pa;function Da(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ma=t.toLowerCase().replace(/_/g,"-"))}const La=new Map;class ja extends at{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ya(this);const n=At(t),r=t[B]||null;r&&Da(r),this._bootstrapComponents=on(n.bootstrap),this._r3Injector=co(t,e,[{provide:at,useValue:this},{provide:Bs,useValue:this.componentFactoryResolver}],x(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=bo.THROW_IF_NOT_FOUND,n=g.Default){return t===bo||t===at||t===K?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Fa extends ut{constructor(t){super(),this.moduleType=t,null!==At(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${x(e)} vs ${x(e.name)}`)})(t,La.get(t),e),La.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new ja(this.moduleType,t)}}function Ua(t,e,n){const r=_e()+t,i=fe();return i[r]===Rr?Ro(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Va(t,e,n,r){return qa(fe(),_e(),t,e,n,r)}function qa(t,e,n,r,i,o){const s=e+n;return Po(t,s,i)?Ro(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===Rr?void 0:n}(t,s+1)}function Ha(t,e){const n=de();let r;const i=t+Rt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Ot(r.type)),s=et(jo);try{const e=an(!1),r=o();return an(e),function(t,e,n,r){const i=n+Rt;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,fe(),t,r),r}finally{et(s)}}function Ba(t,e,n){const r=fe(),i=function(t,e){return t[e+Rt]}(r,t);return function(t,e){return ko.isWrapped(e)&&(e=ko.unwrap(e),t[le.lFrame.bindingIndex]=Rr),e}(r,function(t,e){return t[1].data[e+Rt].pure}(r,t)?qa(r,_e(),e,i.transform,n,i):i.transform(n))}const Wa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function za(){return this._results[xo()]()}class Ga{constructor(){this.dirty=!0,this._results=[],this.changes=new Wa,this.length=0;const t=xo(),e=Ga.prototype;e[t]||(e[t]=za)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ka{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ka(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Qa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==iu(t,e).matches&&this.queries[e].setDirty()}}class Ya{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class $a{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new $a(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Xa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Xa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ja(e,i)),this.matchTNodeWithReadOption(t,e,vn(e,t,i,!1,!1))}else n===pa?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,vn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ws||r===ma||r===pa&&0===e.type)this.addMatch(e.index,-2);else{const n=vn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ja(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Za(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?$i(Ws,t,e):0===t.type?Xi(pa,Ws,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ws?$i(Ws,e,t):n===pa?Xi(pa,Ws,e,t):n===ma?Ji(ma,Ws,e,t):void 0}(t,e,r):bn(t,t[1],n,e)}function tu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Za(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function eu(t){const e=fe(),n=de(),r=Ce();Te(r+1);const i=iu(n,r);if(t.dirty&&oe(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=tu(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=Pt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):tu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function nu(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new $a),t.queries.track(new Xa(e,n))}(t,new Ya(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Ga;ri(t,e,n,n.destroy),null===e[19]&&(e[19]=new Qa),e[19].queries.push(new Ka(n))}(t,e)}(de(),fe(),e,n,r,0,ge(),t)}function ru(){return t=fe(),e=Ce(),t[19].queries[e].queryList;var t,e}function iu(t,e){return t.queries.getByIndex(e)}function ou(t=g.Default){const e=Zi(!0);if(null!=e||t&g.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const su=new G("Application Initializer");let au=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();zo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(rt(su,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const uu=new G("AppId"),cu={provide:uu,useFactory:function(){return`${lu()}${lu()}${lu()}`},deps:[]};function lu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hu=new G("Platform Initializer"),fu=new G("Platform ID"),du=new G("appBootstrapListener");let pu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const gu=new G("LocaleId"),mu=new G("DefaultCurrencyCode");class vu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const bu=function(t){return new Fa(t)},yu=bu,_u=function(t){return Promise.resolve(bu(t))},wu=function(t){const e=bu(t),n=on(At(t).declarations).reduce((t,e)=>{const n=kt(e);return n&&t.push(new Ea(n)),t},[]);return new vu(e,n)},Eu=wu,Iu=function(t){return Promise.resolve(wu(t))};let Su=(()=>{class t{constructor(){this.compileModuleSync=yu,this.compileModuleAsync=_u,this.compileModuleAndAllComponentsSync=Eu,this.compileModuleAndAllComponentsAsync=Iu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Cu=(()=>Promise.resolve(0))();function Tu(t){"undefined"==typeof Zone?Cu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Nu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wa(!1),this.onMicrotaskEmpty=new Wa(!1),this.onStable=new Wa(!1),this.onError=new Wa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=F.requestAnimationFrame,e=F.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(F,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Au(t),Ou(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Au(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Ru(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Pu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Ru(t),e.invoke(r,i,o,s,a)}finally{Pu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Au(t),Ou(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Nu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ku,xu,xu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function xu(){}const ku={};function Ou(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Au(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ru(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pu(t){t._nesting--,Ou(t)}class Mu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wa,this.onMicrotaskEmpty=new Wa,this.onStable=new Wa,this.onError=new Wa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Du=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nu.assertNotInAngularZone(),Tu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(rt(Nu))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),Lu=(()=>{class t{constructor(){this._applications=new Map,Vu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Vu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class ju{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Fu(t){Vu=t}let Uu,Vu=new ju;const qu=new G("AllowMultipleToken");class Hu{constructor(t,e){this.name=t,this.token=e}}function Bu(t,e,n=[]){const r="Platform: "+e,i=new G(r);return(e=[])=>{let o=Wu();if(!o||o.injector.get(qu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ro,useValue:"platform"});!function(t){if(Uu&&!Uu.destroyed&&!Uu.injector.get(qu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Uu=t.get(zu);const e=t.get(hu,null);e&&e.forEach(t=>t())}(bo.create({providers:t,name:r}))}return function(t){const e=Wu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Wu(){return Uu&&!Uu.destroyed?Uu:null}let zu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Mu:("zone.js"===t?void 0:t)||new Nu({enableLongStackTrace:Wn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Nu,useValue:n}];return n.run(()=>{const e=bo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Nn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Qu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return zo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(au);return t.runInitializers(),t.donePromise.then(()=>(Da(i.injector.get(gu,Pa)||Pa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Gu({},e);return function(t,e,n){const r=new Fa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ku);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${x(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(rt(bo))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Gu(t,e){return Array.isArray(e)?e.reduce(Gu,t):Object.assign(Object.assign({},t),e)}let Ku=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Wn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Nu.assertNotInAngularZone(),Tu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Nu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof qs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(at),i=n.create(bo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Du,null);return o&&i.injector.get(Lu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Wn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Qu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(du,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Qu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(rt(Nu),rt(pu),rt(bo),rt(Nn),rt(Bs),rt(au))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Qu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Yu{}class $u{}const Xu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ju=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Xu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Zu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Zu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(rt(Su),rt($u,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Zu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const tc=function(t){return null},ec=Bu(null,"core",[{provide:fu,useValue:"unknown"},{provide:zu,deps:[bo]},{provide:Lu,deps:[]},{provide:pu,deps:[]}]),nc=[{provide:Ku,useClass:Ku,deps:[Nu,pu,bo,Nn,Bs,au]},{provide:wa,deps:[Nu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:au,useClass:au,deps:[[new f,su]]},{provide:Su,useClass:Su,deps:[]},cu,{provide:ca,useFactory:function(){return fa},deps:[]},{provide:la,useFactory:function(){return da},deps:[]},{provide:gu,useFactory:function(t){return Da(t=t||"undefined"!=typeof $localize&&$localize.locale||Pa),t},deps:[[new h(gu),new f,new p]]},{provide:mu,useValue:"USD"}];let rc=(()=>{class t{constructor(t){}}return t.\u0275mod=St({type:t}),t.\u0275inj=y({factory:function(e){return new(e||t)(rt(Ku))},providers:nc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},itXk:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("z+Ro"),i=n("DH7j"),o=n("l7GE"),s=n("ZUHj"),a=n("yCtX");const u={};function c(...t){let e=void 0,n=void 0;return Object(r.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(a.a)(t,n).lift(new l(e))}class l{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends o.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(u),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(s.a)(this,e,void 0,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===u?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jtHE:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("XNiG"),i=n("qgXg"),o=n("quSY"),s=n("pxpQ"),a=n("9ppp"),u=n("Ylt2");class c extends r.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let c;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?c=o.a.EMPTY:(this.observers.push(t),c=new u.a(this,t)),r&&t.add(t=new s.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class l{constructor(t,e){this.time=t,this.value=e}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kU1M:function(t,e,n){"use strict";n.r(e),n.d(e,"audit",(function(){return i})),n.d(e,"auditTime",(function(){return c})),n.d(e,"buffer",(function(){return l})),n.d(e,"bufferCount",(function(){return p})),n.d(e,"bufferTime",(function(){return y})),n.d(e,"bufferToggle",(function(){return k})),n.d(e,"bufferWhen",(function(){return R})),n.d(e,"catchError",(function(){return D.a})),n.d(e,"combineAll",(function(){return j})),n.d(e,"combineLatest",(function(){return V})),n.d(e,"concat",(function(){return H})),n.d(e,"concatAll",(function(){return B.a})),n.d(e,"concatMap",(function(){return W.a})),n.d(e,"concatMapTo",(function(){return z})),n.d(e,"count",(function(){return G})),n.d(e,"debounce",(function(){return Y})),n.d(e,"debounceTime",(function(){return J})),n.d(e,"defaultIfEmpty",(function(){return nt.a})),n.d(e,"delay",(function(){return rt.a})),n.d(e,"delayWhen",(function(){return ot})),n.d(e,"dematerialize",(function(){return lt})),n.d(e,"distinct",(function(){return dt})),n.d(e,"distinctUntilChanged",(function(){return mt.a})),n.d(e,"distinctUntilKeyChanged",(function(){return vt})),n.d(e,"elementAt",(function(){return Et})),n.d(e,"endWith",(function(){return St})),n.d(e,"every",(function(){return Ct})),n.d(e,"exhaust",(function(){return xt})),n.d(e,"exhaustMap",(function(){return Rt})),n.d(e,"expand",(function(){return Dt})),n.d(e,"filter",(function(){return yt.a})),n.d(e,"finalize",(function(){return Ft.a})),n.d(e,"find",(function(){return Ut})),n.d(e,"findIndex",(function(){return Ht})),n.d(e,"first",(function(){return Bt.a})),n.d(e,"groupBy",(function(){return Wt.b})),n.d(e,"ignoreElements",(function(){return zt})),n.d(e,"isEmpty",(function(){return Qt})),n.d(e,"last",(function(){return Xt.a})),n.d(e,"map",(function(){return At.a})),n.d(e,"mapTo",(function(){return Jt})),n.d(e,"materialize",(function(){return ne})),n.d(e,"max",(function(){return ce})),n.d(e,"merge",(function(){return he})),n.d(e,"mergeAll",(function(){return fe.a})),n.d(e,"mergeMap",(function(){return de.b})),n.d(e,"flatMap",(function(){return de.a})),n.d(e,"mergeMapTo",(function(){return pe})),n.d(e,"mergeScan",(function(){return ge})),n.d(e,"min",(function(){return be})),n.d(e,"multicast",(function(){return ye.a})),n.d(e,"observeOn",(function(){return _e.b})),n.d(e,"onErrorResumeNext",(function(){return we})),n.d(e,"pairwise",(function(){return Se})),n.d(e,"partition",(function(){return xe})),n.d(e,"pluck",(function(){return ke})),n.d(e,"publish",(function(){return Oe.a})),n.d(e,"publishBehavior",(function(){return Re})),n.d(e,"publishLast",(function(){return Me})),n.d(e,"publishReplay",(function(){return Le})),n.d(e,"race",(function(){return Fe})),n.d(e,"reduce",(function(){return ue})),n.d(e,"repeat",(function(){return Ve})),n.d(e,"repeatWhen",(function(){return We})),n.d(e,"retry",(function(){return Ke})),n.d(e,"retryWhen",(function(){return $e})),n.d(e,"refCount",(function(){return Ze.a})),n.d(e,"sample",(function(){return tn})),n.d(e,"sampleTime",(function(){return rn})),n.d(e,"scan",(function(){return oe.a})),n.d(e,"sequenceEqual",(function(){return un})),n.d(e,"share",(function(){return fn.a})),n.d(e,"shareReplay",(function(){return dn})),n.d(e,"single",(function(){return gn})),n.d(e,"skip",(function(){return bn})),n.d(e,"skipLast",(function(){return wn})),n.d(e,"skipUntil",(function(){return Sn})),n.d(e,"skipWhile",(function(){return Nn.a})),n.d(e,"startWith",(function(){return xn.a})),n.d(e,"subscribeOn",(function(){return kn.a})),n.d(e,"switchAll",(function(){return Rn})),n.d(e,"switchMap",(function(){return On.a})),n.d(e,"switchMapTo",(function(){return Pn})),n.d(e,"take",(function(){return wt.a})),n.d(e,"takeLast",(function(){return se.a})),n.d(e,"takeUntil",(function(){return Mn})),n.d(e,"takeWhile",(function(){return jn})),n.d(e,"tap",(function(){return Vn.a})),n.d(e,"throttle",(function(){return Hn})),n.d(e,"throttleTime",(function(){return zn})),n.d(e,"throwIfEmpty",(function(){return _t.a})),n.d(e,"timeInterval",(function(){return $n})),n.d(e,"timeout",(function(){return ir})),n.d(e,"timeoutWith",(function(){return tr})),n.d(e,"timestamp",(function(){return or})),n.d(e,"toArray",(function(){return ur})),n.d(e,"window",(function(){return cr})),n.d(e,"windowCount",(function(){return fr})),n.d(e,"windowTime",(function(){return mr})),n.d(e,"windowToggle",(function(){return Ir})),n.d(e,"windowWhen",(function(){return Tr})),n.d(e,"withLatestFrom",(function(){return kr.a})),n.d(e,"zip",(function(){return Ar})),n.d(e,"zipAll",(function(){return Rr}));var r=n("zx2A");function i(t){return function(e){return e.lift(new o(t))}}class o{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new s(t,this.durationSelector))}}class s extends r.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(r.c)(n,new r.a(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var a=n("D0XW"),u=n("PqYM");function c(t,e=a.a){return i(()=>Object(u.a)(t,e))}function l(t){return function(e){return e.lift(new h(t))}}class h{constructor(t){this.closingNotifier=t}call(t,e){return e.subscribe(new f(t,this.closingNotifier))}}class f extends r.b{constructor(t,e){super(t),this.buffer=[],this.add(Object(r.c)(e,new r.a(this)))}_next(t){this.buffer.push(t)}notifyNext(){const t=this.buffer;this.buffer=[],this.destination.next(t)}}var d=n("7o/Q");function p(t,e=null){return function(n){return n.lift(new g(t,e))}}class g{constructor(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?v:m}call(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))}}class m extends d.a{constructor(t,e){super(t),this.bufferSize=e,this.buffer=[]}_next(t){const e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])}_complete(){const t=this.buffer;t.length>0&&this.destination.next(t),super._complete()}}class v extends d.a{constructor(t,e,n){super(t),this.bufferSize=e,this.startBufferEvery=n,this.buffers=[],this.count=0}_next(t){const{bufferSize:e,startBufferEvery:n,buffers:r,count:i}=this;this.count++,i%n==0&&r.push([]);for(let o=r.length;o--;){const n=r[o];n.push(t),n.length===e&&(r.splice(o,1),this.destination.next(n))}}_complete(){const{buffers:t,destination:e}=this;for(;t.length>0;){let n=t.shift();n.length>0&&e.next(n)}super._complete()}}var b=n("z+Ro");function y(t){let e=arguments.length,n=a.a;Object(b.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);let r=null;e>=2&&(r=arguments[1]);let i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new _(t,r,i,n))}}class _{constructor(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}call(t,e){return e.subscribe(new E(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class w{constructor(){this.buffer=[]}}class E extends d.a{constructor(t,e,n,r,i){super(t),this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=i,this.contexts=[];const o=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly)this.add(o.closeAction=i.schedule(I,e,{subscriber:this,context:o,bufferTimeSpan:e}));else{const t={bufferTimeSpan:e,bufferCreationInterval:n,subscriber:this,scheduler:i};this.add(o.closeAction=i.schedule(C,e,{subscriber:this,context:o})),this.add(i.schedule(S,n,t))}}_next(t){const e=this.contexts,n=e.length;let r;for(let i=0;i<n;i++){const n=e[i],o=n.buffer;o.push(t),o.length==this.maxBufferSize&&(r=n)}r&&this.onBufferFull(r)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:e}=this;for(;t.length>0;){const n=t.shift();e.next(n.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();const e=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(I,e,{subscriber:this,context:t,bufferTimeSpan:e}))}}openContext(){const t=new w;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}function I(t){const e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function S(t){const{bufferCreationInterval:e,bufferTimeSpan:n,subscriber:r,scheduler:i}=t,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(C,n,{subscriber:r,context:o})),this.schedule(t,e))}function C(t){const{subscriber:e,context:n}=t;e.closeContext(n)}var T=n("quSY"),N=n("ZUHj"),x=n("l7GE");function k(t,e){return function(n){return n.lift(new O(t,e))}}class O{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new A(t,this.openings,this.closingSelector))}}class A extends x.a{constructor(t,e,n){super(t),this.closingSelector=n,this.contexts=[],this.add(Object(N.a)(this,e))}_next(t){const e=this.contexts,n=e.length;for(let r=0;r<n;r++)e[r].buffer.push(t)}_error(t){const e=this.contexts;for(;e.length>0;){const t=e.shift();t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,super._error(t)}_complete(){const t=this.contexts;for(;t.length>0;){const e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,super._complete()}notifyNext(t,e){t?this.closeBuffer(t):this.openBuffer(e)}notifyComplete(t){this.closeBuffer(t.context)}openBuffer(t){try{const e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(e){this._error(e)}}closeBuffer(t){const e=this.contexts;if(e&&t){const{buffer:n,subscription:r}=t;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}}trySubscribe(t){const e=this.contexts,n=new T.a,r={buffer:[],subscription:n};e.push(r);const i=Object(N.a)(this,t,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))}}function R(t){return function(e){return e.lift(new P(t))}}class P{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new M(t,this.closingSelector))}}class M extends r.b{constructor(t,e){super(t),this.closingSelector=e,this.subscribing=!1,this.openBuffer()}_next(t){this.buffer.push(t)}_complete(){const t=this.buffer;t&&this.destination.next(t),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let t,{closingSubscription:e}=this;e&&(this.remove(e),e.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:e}=this;t=e()}catch(n){return this.error(n)}e=new T.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(r.c)(t,new r.a(this))),this.subscribing=!1}}var D=n("JIr8"),L=n("itXk");function j(t){return e=>e.lift(new L.a(t))}var F=n("DH7j"),U=n("Cfvw");function V(...t){let e=null;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(F.a)(t[0])&&(t=t[0].slice()),n=>n.lift.call(Object(U.a)([n,...t]),new L.a(e))}var q=n("GyhO");function H(...t){return e=>e.lift.call(Object(q.a)(e,...t))}var B=n("0EUg"),W=n("bOdf");function z(t,e){return Object(W.a)(()=>t,e)}function G(t){return e=>e.lift(new K(t,e))}class K{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new Q(t,this.predicate,this.source))}}class Q extends d.a{constructor(t,e,n){super(t),this.predicate=e,this.source=n,this.count=0,this.index=0}_next(t){this.predicate?this._tryPredicate(t):this.count++}_tryPredicate(t){let e;try{e=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Y(t){return e=>e.lift(new $(t))}class ${constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new X(t,this.durationSelector))}}class X extends r.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=Object(r.c)(e,new r.a(this)),n&&!n.closed&&this.add(this.durationSubscription=n)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,super._next(t)}}}function J(t,e=a.a){return n=>n.lift(new Z(t,e))}class Z{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new tt(t,this.dueTime,this.scheduler))}}class tt extends d.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(et,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function et(t){t.debouncedNext()}var nt=n("xbPD"),rt=n("3E0/"),it=n("HDdC");function ot(t,e){return e?n=>new ut(n,e).lift(new st(t)):e=>e.lift(new st(t))}class st{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new at(t,this.delayDurationSelector))}}class at extends x.a{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(n){this.destination.error(n)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const n=Object(N.a)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class ut extends it.a{constructor(t,e){super(),this.source=t,this.subscriptionDelay=e}_subscribe(t){this.subscriptionDelay.subscribe(new ct(t,this.source))}}class ct extends d.a{constructor(t,e){super(),this.parent=t,this.source=e,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function lt(){return function(t){return t.lift(new ht)}}class ht{call(t,e){return e.subscribe(new ft(t))}}class ft extends d.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}function dt(t,e){return n=>n.lift(new pt(t,e))}class pt{constructor(t,e){this.keySelector=t,this.flushes=e}call(t,e){return e.subscribe(new gt(t,this.keySelector,this.flushes))}}class gt extends r.b{constructor(t,e,n){super(t),this.keySelector=e,this.values=new Set,n&&this.add(Object(r.c)(n,new r.a(this)))}notifyNext(){this.values.clear()}notifyError(t){this._error(t)}_next(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}_useKeySelector(t){let e;const{destination:n}=this;try{e=this.keySelector(t)}catch(r){return void n.error(r)}this._finalizeNext(e,t)}_finalizeNext(t,e){const{values:n}=this;n.has(t)||(n.add(t),this.destination.next(e))}}var mt=n("/uUt");function vt(t,e){return Object(mt.a)((n,r)=>e?e(n[t],r[t]):n[t]===r[t])}var bt=n("4I5i"),yt=n("pLZG"),_t=n("XDbj"),wt=n("IzEk");function Et(t,e){if(t<0)throw new bt.a;const n=arguments.length>=2;return r=>r.pipe(Object(yt.a)((e,n)=>n===t),Object(wt.a)(1),n?Object(nt.a)(e):Object(_t.a)(()=>new bt.a))}var It=n("LRne");function St(...t){return e=>Object(q.a)(e,Object(It.a)(...t))}function Ct(t,e){return n=>n.lift(new Tt(t,e,n))}class Tt{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Nt(t,this.predicate,this.thisArg,this.source))}}class Nt extends d.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function xt(){return t=>t.lift(new kt)}class kt{call(t,e){return e.subscribe(new Ot(t))}}class Ot extends r.b{constructor(t){super(t),this.hasCompleted=!1,this.hasSubscription=!1}_next(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(r.c)(t,new r.a(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var At=n("lJxs");function Rt(t,e){return e?n=>n.pipe(Rt((n,r)=>Object(U.a)(t(n,r)).pipe(Object(At.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Pt(t))}class Pt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Mt(t,this.project))}}class Mt extends r.b{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new r.a(this),n=this.destination;n.add(e);const i=Object(r.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Dt(t,e=Number.POSITIVE_INFINITY,n){return e=(e||0)<1?Number.POSITIVE_INFINITY:e,r=>r.lift(new Lt(t,e,n))}class Lt{constructor(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}call(t,e){return e.subscribe(new jt(t,this.project,this.concurrent,this.scheduler))}}class jt extends r.b{constructor(t,e,n,r){super(t),this.project=e,this.concurrent=n,this.scheduler=r,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:n,value:r,index:i}=t;e.subscribeToProjection(n,r,i)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const n=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:e}=this,r=e(t,n);this.scheduler?this.destination.add(this.scheduler.schedule(jt.dispatch,0,{subscriber:this,result:r,value:t,index:n})):this.subscribeToProjection(r,t,n)}catch(r){e.error(r)}}else this.buffer.push(t)}subscribeToProjection(t,e,n){this.active++,this.destination.add(Object(r.c)(t,new r.a(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this._next(t)}notifyComplete(){const t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Ft=n("nYR2");function Ut(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return n=>n.lift(new Vt(t,n,!1,e))}class Vt{constructor(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}call(t,e){return e.subscribe(new qt(t,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class qt extends d.a{constructor(t,e,n,r,i){super(t),this.predicate=e,this.source=n,this.yieldIndex=r,this.thisArg=i,this.index=0}notifyComplete(t){const e=this.destination;e.next(t),e.complete(),this.unsubscribe()}_next(t){const{predicate:e,thisArg:n}=this,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(i){this.destination.error(i)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function Ht(t,e){return n=>n.lift(new Vt(t,n,!0,e))}var Bt=n("SxV6"),Wt=n("OQgR");function zt(){return function(t){return t.lift(new Gt)}}class Gt{call(t,e){return e.subscribe(new Kt(t))}}class Kt extends d.a{_next(t){}}function Qt(){return t=>t.lift(new Yt)}class Yt{call(t,e){return e.subscribe(new $t(t))}}class $t extends d.a{constructor(t){super(t)}notifyComplete(t){const e=this.destination;e.next(t),e.complete()}_next(t){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Xt=n("NJ9Y");function Jt(t){return e=>e.lift(new Zt(t))}class Zt{constructor(t){this.value=t}call(t,e){return e.subscribe(new te(t,this.value))}}class te extends d.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}var ee=n("WMd4");function ne(){return function(t){return t.lift(new re)}}class re{call(t,e){return e.subscribe(new ie(t))}}class ie extends d.a{constructor(t){super(t)}_next(t){this.destination.next(ee.a.createNext(t))}_error(t){const e=this.destination;e.next(ee.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(ee.a.createComplete()),t.complete()}}var oe=n("Kqap"),se=n("BFxc"),ae=n("mCNh");function ue(t,e){return arguments.length>=2?function(n){return Object(ae.a)(Object(oe.a)(t,e),Object(se.a)(1),Object(nt.a)(e))(n)}:function(e){return Object(ae.a)(Object(oe.a)((e,n,r)=>t(e,n,r+1)),Object(se.a)(1))(e)}}function ce(t){return ue("function"==typeof t?(e,n)=>t(e,n)>0?e:n:(t,e)=>t>e?t:e)}var le=n("VRyK");function he(...t){return e=>e.lift.call(Object(le.a)(e,...t))}var fe=n("bHdf"),de=n("5+tZ");function pe(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?Object(de.b)(()=>t,e,n):("number"==typeof e&&(n=e),Object(de.b)(()=>t,n))}function ge(t,e,n=Number.POSITIVE_INFINITY){return r=>r.lift(new me(t,e,n))}class me{constructor(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}call(t,e){return e.subscribe(new ve(t,this.accumulator,this.seed,this.concurrent))}}class ve extends r.b{constructor(t,e,n,r){super(t),this.accumulator=e,this.acc=n,this.concurrent=r,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){if(this.active<this.concurrent){const n=this.index++,r=this.destination;let i;try{const{accumulator:e}=this;i=e(this.acc,t,n)}catch(e){return r.error(e)}this.active++,this._innerSub(i)}else this.buffer.push(t)}_innerSub(t){const e=new r.a(this),n=this.destination;n.add(e);const i=Object(r.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(t){const{destination:e}=this;this.acc=t,this.hasValue=!0,e.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function be(t){return ue("function"==typeof t?(e,n)=>t(e,n)<0?e:n:(t,e)=>t<e?t:e)}var ye=n("oB13"),_e=n("pxpQ");function we(...t){return 1===t.length&&Object(F.a)(t[0])&&(t=t[0]),e=>e.lift(new Ee(t))}class Ee{constructor(t){this.nextSources=t}call(t,e){return e.subscribe(new Ie(t,this.nextSources))}}class Ie extends r.b{constructor(t,e){super(t),this.destination=t,this.nextSources=e}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(t){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const t=this.nextSources.shift();if(t){const e=new r.a(this),n=this.destination;n.add(e);const i=Object(r.c)(t,e);i!==e&&n.add(i)}else this.destination.complete()}}function Se(){return t=>t.lift(new Ce)}class Ce{call(t,e){return e.subscribe(new Te(t))}}class Te extends d.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Ne=n("F97/");function xe(t,e){return n=>[Object(yt.a)(t,e)(n),Object(yt.a)(Object(Ne.a)(t,e))(n)]}function ke(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(At.a)(function(t,e){return n=>{let r=n;for(let i=0;i<e;i++){const e=null!=r?r[t[i]]:void 0;if(void 0===e)return;r=e}return r}}(t,e))(n)}var Oe=n("NfdI"),Ae=n("2Vo4");function Re(t){return e=>Object(ye.a)(new Ae.a(t))(e)}var Pe=n("NHP+");function Me(){return t=>Object(ye.a)(new Pe.a)(t)}var De=n("jtHE");function Le(t,e,n,r){n&&"function"!=typeof n&&(r=n);const i="function"==typeof n?n:void 0,o=new De.a(t,e,r);return t=>Object(ye.a)(()=>o,i)(t)}var je=n("Nv8m");function Fe(...t){return function(e){return 1===t.length&&Object(F.a)(t[0])&&(t=t[0]),e.lift.call(Object(je.a)(e,...t))}}var Ue=n("EY2u");function Ve(t=-1){return e=>0===t?Object(Ue.b)():e.lift(new qe(t<0?-1:t-1,e))}class qe{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new He(t,this.count,this.source))}}class He extends d.a{constructor(t,e,n){super(t),this.count=e,this.source=n}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}var Be=n("XNiG");function We(t){return e=>e.lift(new ze(t))}class ze{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new Ge(t,this.notifier,e))}}class Ge extends r.b{constructor(t,e,n){super(t),this.notifier=e,this.source=n,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:t}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=t,this}subscribeToRetries(){let t;this.notifications=new Be.a;try{const{notifier:e}=this;t=e(this.notifications)}catch(e){return super.complete()}this.retries=t,this.retriesSubscription=Object(r.c)(t,new r.a(this))}}function Ke(t=-1){return e=>e.lift(new Qe(t,e))}class Qe{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new Ye(t,this.count,this.source))}}class Ye extends d.a{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}function $e(t){return e=>e.lift(new Xe(t,e))}class Xe{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new Je(t,this.notifier,this.source))}}class Je extends r.b{constructor(t,e,n){super(t),this.notifier=e,this.source=n}error(t){if(!this.isStopped){let n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Be.a;try{const{notifier:t}=this;i=t(n)}catch(e){return super.error(e)}o=Object(r.c)(i,new r.a(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:t}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}var Ze=n("x+ZX");function tn(t){return e=>e.lift(new en(t))}class en{constructor(t){this.notifier=t}call(t,e){const n=new nn(t),i=e.subscribe(n);return i.add(Object(r.c)(this.notifier,new r.a(n))),i}}class nn extends r.b{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function rn(t,e=a.a){return n=>n.lift(new on(t,e))}class on{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new sn(t,this.period,this.scheduler))}}class sn extends d.a{constructor(t,e,n){super(t),this.period=e,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(an,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function an(t){let{subscriber:e,period:n}=t;e.notifyNext(),this.schedule(t,n)}function un(t,e){return n=>n.lift(new cn(t,e))}class cn{constructor(t,e){this.compareTo=t,this.comparator=e}call(t,e){return e.subscribe(new ln(t,this.compareTo,this.comparator))}}class ln extends d.a{constructor(t,e,n){super(t),this.compareTo=e,this.comparator=n,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(e.subscribe(new hn(t,this)))}_next(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:t,_b:e,comparator:n}=this;for(;t.length>0&&e.length>0;){let i=t.shift(),o=e.shift(),s=!1;try{s=n?n(i,o):i===o}catch(r){this.destination.error(r)}s||this.emit(!1)}}emit(t){const{destination:e}=this;e.next(t),e.complete()}nextB(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class hn extends d.a{constructor(t,e){super(t),this.parent=e}_next(t){this.parent.nextB(t)}_error(t){this.parent.error(t),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var fn=n("w1tV");function dn(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new De.a(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}var pn=n("sVev");function gn(t){return e=>e.lift(new mn(t,e))}class mn{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new vn(t,this.predicate,this.source))}}class vn extends d.a{constructor(t,e,n){super(t),this.predicate=e,this.source=n,this.seenValue=!1,this.index=0}applySingleValue(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)}_next(t){const e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)}tryNext(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(n){this.destination.error(n)}}_complete(){const t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new pn.a)}}function bn(t){return e=>e.lift(new yn(t))}class yn{constructor(t){this.total=t}call(t,e){return e.subscribe(new _n(t,this.total))}}class _n extends d.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function wn(t){return e=>e.lift(new En(t))}class En{constructor(t){if(this._skipCount=t,this._skipCount<0)throw new bt.a}call(t,e){return e.subscribe(0===this._skipCount?new d.a(t):new In(t,this._skipCount))}}class In extends d.a{constructor(t,e){super(t),this._skipCount=e,this._count=0,this._ring=new Array(e)}_next(t){const e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{const r=n%e,i=this._ring,o=i[r];i[r]=t,this.destination.next(o)}}}function Sn(t){return e=>e.lift(new Cn(t))}class Cn{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new Tn(t,this.notifier))}}class Tn extends r.b{constructor(t,e){super(t),this.hasValue=!1;const n=new r.a(this);this.add(n),this.innerSubscription=n;const i=Object(r.c)(e,n);i!==n&&(this.add(i),this.innerSubscription=i)}_next(t){this.hasValue&&super._next(t)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}var Nn=n("32Ea"),xn=n("JX91"),kn=n("tf+s"),On=n("eIep"),An=n("SpAZ");function Rn(){return Object(On.a)(An.a)}function Pn(t,e){return e?Object(On.a)(()=>t,e):Object(On.a)(()=>t)}function Mn(t){return e=>e.lift(new Dn(t))}class Dn{constructor(t){this.notifier=t}call(t,e){const n=new Ln(t),i=Object(r.c)(this.notifier,new r.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class Ln extends r.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function jn(t,e=!1){return n=>n.lift(new Fn(t,e))}class Fn{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new Un(t,this.predicate,this.inclusive))}}class Un extends d.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}var Vn=n("vkgz");const qn={leading:!0,trailing:!1};function Hn(t,e=qn){return n=>n.lift(new Bn(t,!!e.leading,!!e.trailing))}class Bn{constructor(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}call(t,e){return e.subscribe(new Wn(t,this.durationSelector,this.leading,this.trailing))}}class Wn extends r.b{constructor(t,e,n,r){super(t),this.destination=t,this.durationSelector=e,this._leading=n,this._trailing=r,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(r.c)(e,new r.a(this)))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function zn(t,e=a.a,n=qn){return r=>r.lift(new Gn(t,e,n.leading,n.trailing))}class Gn{constructor(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}call(t,e){return e.subscribe(new Kn(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Kn extends d.a{constructor(t,e,n,r,i){super(t),this.duration=e,this.scheduler=n,this.leading=r,this.trailing=i,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Qn,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function Qn(t){const{subscriber:e}=t;e.clearThrottle()}var Yn=n("NXyV");function $n(t=a.a){return e=>Object(Yn.a)(()=>e.pipe(Object(oe.a)(({current:e},n)=>({value:n,current:t.now(),last:e}),{current:t.now(),value:void 0,last:void 0}),Object(At.a)(({current:t,last:e,value:n})=>new Xn(n,t-e))))}class Xn{constructor(t,e){this.value=t,this.interval=e}}var Jn=n("Y6u4"),Zn=n("mlxB");function tr(t,e,n=a.a){return r=>{let i=Object(Zn.a)(t),o=i?+t-n.now():Math.abs(t);return r.lift(new er(o,i,e,n))}}class er{constructor(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}call(t,e){return e.subscribe(new nr(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class nr extends r.b{constructor(t,e,n,r,i){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=r,this.scheduler=i,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(Object(r.c)(e,new r.a(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(nr.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var rr=n("z6cu");function ir(t,e=a.a){return tr(t,Object(rr.a)(new Jn.a),e)}function or(t=a.a){return Object(At.a)(e=>new sr(e,t.now()))}class sr{constructor(t,e){this.value=t,this.timestamp=e}}function ar(t,e,n){return 0===n?[e]:(t.push(e),t)}function ur(){return ue(ar,[])}function cr(t){return function(e){return e.lift(new lr(t))}}class lr{constructor(t){this.windowBoundaries=t}call(t,e){const n=new hr(t),i=e.subscribe(n);return i.closed||n.add(Object(r.c)(this.windowBoundaries,new r.a(n))),i}}class hr extends r.b{constructor(t){super(t),this.window=new Be.a,t.next(this.window)}notifyNext(){this.openWindow()}notifyError(t){this._error(t)}notifyComplete(){this._complete()}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const t=this.window;t&&t.complete();const e=this.destination,n=this.window=new Be.a;e.next(n)}}function fr(t,e=0){return function(n){return n.lift(new dr(t,e))}}class dr{constructor(t,e){this.windowSize=t,this.startWindowEvery=e}call(t,e){return e.subscribe(new pr(t,this.windowSize,this.startWindowEvery))}}class pr extends d.a{constructor(t,e,n){super(t),this.destination=t,this.windowSize=e,this.startWindowEvery=n,this.windows=[new Be.a],this.count=0,t.next(this.windows[0])}_next(t){const e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length;for(let a=0;a<o&&!this.closed;a++)i[a].next(t);const s=this.count-r+1;if(s>=0&&s%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){const t=new Be.a;i.push(t),n.next(t)}}_error(t){const e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}var gr=n("Y7HM");function mr(t){let e=a.a,n=null,r=Number.POSITIVE_INFINITY;return Object(b.a)(arguments[3])&&(e=arguments[3]),Object(b.a)(arguments[2])?e=arguments[2]:Object(gr.a)(arguments[2])&&(r=Number(arguments[2])),Object(b.a)(arguments[1])?e=arguments[1]:Object(gr.a)(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new vr(t,n,r,e))}}class vr{constructor(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}call(t,e){return e.subscribe(new yr(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class br extends Be.a{constructor(){super(...arguments),this._numberOfNextedValues=0}next(t){this._numberOfNextedValues++,super.next(t)}get numberOfNextedValues(){return this._numberOfNextedValues}}class yr extends d.a{constructor(t,e,n,r,i){super(t),this.destination=t,this.windowTimeSpan=e,this.windowCreationInterval=n,this.maxWindowSize=r,this.scheduler=i,this.windows=[];const o=this.openWindow();if(null!==n&&n>=0){const t={windowTimeSpan:e,windowCreationInterval:n,subscriber:this,scheduler:i};this.add(i.schedule(Er,e,{subscriber:this,window:o,context:null})),this.add(i.schedule(wr,n,t))}else this.add(i.schedule(_r,e,{subscriber:this,window:o,windowTimeSpan:e}))}_next(t){const e=this.windows,n=e.length;for(let r=0;r<n;r++){const n=e[r];n.closed||(n.next(t),n.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(n))}}_error(t){const e=this.windows;for(;e.length>0;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;for(;t.length>0;){const e=t.shift();e.closed||e.complete()}this.destination.complete()}openWindow(){const t=new br;return this.windows.push(t),this.destination.next(t),t}closeWindow(t){t.complete();const e=this.windows;e.splice(e.indexOf(t),1)}}function _r(t){const{subscriber:e,windowTimeSpan:n,window:r}=t;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function wr(t){const{windowTimeSpan:e,subscriber:n,scheduler:r,windowCreationInterval:i}=t,o=n.openWindow(),s=this;let a={action:s,subscription:null};a.subscription=r.schedule(Er,e,{subscriber:n,window:o,context:a}),s.add(a.subscription),s.schedule(t,i)}function Er(t){const{subscriber:e,window:n,context:r}=t;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function Ir(t,e){return n=>n.lift(new Sr(t,e))}class Sr{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new Cr(t,this.openings,this.closingSelector))}}class Cr extends x.a{constructor(t,e,n){super(t),this.openings=e,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=Object(N.a)(this,e,e))}_next(t){const{contexts:e}=this;if(e){const n=e.length;for(let r=0;r<n;r++)e[r].window.next(t)}}_error(t){const{contexts:e}=this;if(this.contexts=null,e){const n=e.length;let r=-1;for(;++r<n;){const n=e[r];n.window.error(t),n.subscription.unsubscribe()}}super._error(t)}_complete(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let n=-1;for(;++n<e;){const e=t[n];e.window.complete(),e.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let n=-1;for(;++n<e;){const e=t[n];e.window.unsubscribe(),e.subscription.unsubscribe()}}}notifyNext(t,e,n,r,i){if(t===this.openings){let t;try{const{closingSelector:n}=this;t=n(e)}catch(o){return this.error(o)}const n=new Be.a,r=new T.a,i={window:n,subscription:r};this.contexts.push(i);const s=Object(N.a)(this,t,i);s.closed?this.closeWindow(this.contexts.length-1):(s.context=i,r.add(s)),this.destination.next(n)}else this.closeWindow(this.contexts.indexOf(t))}notifyError(t){this.error(t)}notifyComplete(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))}closeWindow(t){if(-1===t)return;const{contexts:e}=this,n=e[t],{window:r,subscription:i}=n;e.splice(t,1),r.complete(),i.unsubscribe()}}function Tr(t){return function(e){return e.lift(new Nr(t))}}class Nr{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new xr(t,this.closingSelector))}}class xr extends x.a{constructor(t,e){super(t),this.destination=t,this.closingSelector=e,this.openWindow()}notifyNext(t,e,n,r,i){this.openWindow(i)}notifyError(t){this._error(t)}notifyComplete(t){this.openWindow(t)}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(t=null){t&&(this.remove(t),t.unsubscribe());const e=this.window;e&&e.complete();const n=this.window=new Be.a;let r;this.destination.next(n);try{const{closingSelector:t}=this;r=t()}catch(i){return this.destination.error(i),void this.window.error(i)}this.add(this.closingNotification=Object(N.a)(this,r))}}var kr=n("zp1y"),Or=n("1uah");function Ar(...t){return function(e){return e.lift.call(Object(Or.b)(e,...t))}}function Rr(t){return e=>e.lift(new Or.a(t))}},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(...t){return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mlxB:function(t,e,n){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}n.d(e,"a",(function(){return r}))},mrSG:function(t,e,n){"use strict";function r(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return r}))},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},nYR2:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("quSY");function o(t){return e=>e.lift(new s(t))}class s{constructor(t){this.callback=t}call(t,e){return e.subscribe(new a(t,this.callback))}}class a extends r.a{constructor(t,e){super(t),this.add(new i.a(e))}}},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("EQ5u");function i(t,e){return function(n){let i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new o(i,e));const s=Object.create(n,r.b);return s.source=n,s.subjectFactory=i,s}}class o{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}},ofXK:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return H})),n.d(e,"c",(function(){return B})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return E})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return I})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return A})),n.d(e,"j",(function(){return P})),n.d(e,"k",(function(){return D})),n.d(e,"l",(function(){return w})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return K})),n.d(e,"o",(function(){return z})),n.d(e,"p",(function(){return G})),n.d(e,"q",(function(){return a})),n.d(e,"r",(function(){return W})),n.d(e,"s",(function(){return o})),n.d(e,"t",(function(){return O})),n.d(e,"u",(function(){return s}));var r=n("fXoL");let i=null;function o(){return i}function s(t){i||(i=t)}class a{}const u=new r.q("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.Rb)(f)}const h=new r.q("Location Initialized");let f=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u))},t.\u0275prov=Object(r.Gb)({factory:p,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function p(){return new f(Object(r.Rb)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function v(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Rb)(u).location;return new w(Object(r.Rb)(c),e&&e.origin||"")}const _=new r.q("appBaseHref");let w=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+v(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(c),r.Rb(_,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(c),r.Rb(_,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),I=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+v(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(b),r.Rb(c))},t.normalizeQueryParams=v,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Gb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new I(Object(r.Rb)(b),Object(r.Rb)(c))}function C(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const N=r.lb;class x{}let k=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(N(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function O(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let A=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.tb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.s),r.Kb(r.t),r.Kb(r.l),r.Kb(r.D))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class R{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let P=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new R(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new M(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new M(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P),r.Kb(r.K),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class M{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new L,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){j("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){j("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P),r.Kb(r.K))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class L{constructor(){this.$implicit=null,this.ngIf=null}}function j(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}class F{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class U{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const V=new U,q=new F;let H=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return V;if(Object(r.pb)(e))return q;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Tb())},t.\u0275pipe=r.Jb({name:"async",type:t,pure:!1}),t})(),B=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:k}]}),t})();const W="browser";function z(t){return t===W}function G(t){return"server"===t}let K=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new Q(Object(r.Rb)(u),window,Object(r.Rb)(r.m))}),t})();class Q{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=Y(this.window.history)||Y(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function Y(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pjAE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})()},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qBqN:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("AytR");class i{constructor(){}}var o=n("fXoL");let s=(()=>{class t{constructor(){this.config=new i,this.config.api=r.a.config.api}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac}),t})()},qCKp:function(t,e,n){"use strict";n.r(e),n.d(e,"Observable",(function(){return r.a})),n.d(e,"ConnectableObservable",(function(){return i.a})),n.d(e,"GroupedObservable",(function(){return o.a})),n.d(e,"observable",(function(){return s.a})),n.d(e,"Subject",(function(){return a.a})),n.d(e,"BehaviorSubject",(function(){return u.a})),n.d(e,"ReplaySubject",(function(){return c.a})),n.d(e,"AsyncSubject",(function(){return l.a})),n.d(e,"asap",(function(){return h.a})),n.d(e,"asapScheduler",(function(){return h.b})),n.d(e,"async",(function(){return f.a})),n.d(e,"asyncScheduler",(function(){return f.b})),n.d(e,"queue",(function(){return d.a})),n.d(e,"queueScheduler",(function(){return d.b})),n.d(e,"animationFrame",(function(){return y})),n.d(e,"animationFrameScheduler",(function(){return b})),n.d(e,"VirtualTimeScheduler",(function(){return _})),n.d(e,"VirtualAction",(function(){return w})),n.d(e,"Scheduler",(function(){return E.a})),n.d(e,"Subscription",(function(){return I.a})),n.d(e,"Subscriber",(function(){return S.a})),n.d(e,"Notification",(function(){return C.a})),n.d(e,"NotificationKind",(function(){return C.b})),n.d(e,"pipe",(function(){return T.a})),n.d(e,"noop",(function(){return N.a})),n.d(e,"identity",(function(){return x.a})),n.d(e,"isObservable",(function(){return k})),n.d(e,"ArgumentOutOfRangeError",(function(){return O.a})),n.d(e,"EmptyError",(function(){return A.a})),n.d(e,"ObjectUnsubscribedError",(function(){return R.a})),n.d(e,"UnsubscriptionError",(function(){return P.a})),n.d(e,"TimeoutError",(function(){return M.a})),n.d(e,"bindCallback",(function(){return U})),n.d(e,"bindNodeCallback",(function(){return H})),n.d(e,"combineLatest",(function(){return G.b})),n.d(e,"concat",(function(){return K.a})),n.d(e,"defer",(function(){return Q.a})),n.d(e,"empty",(function(){return Y.b})),n.d(e,"forkJoin",(function(){return $.a})),n.d(e,"from",(function(){return X.a})),n.d(e,"fromEvent",(function(){return J.a})),n.d(e,"fromEventPattern",(function(){return tt})),n.d(e,"generate",(function(){return et})),n.d(e,"iif",(function(){return rt})),n.d(e,"interval",(function(){return ot})),n.d(e,"merge",(function(){return at.a})),n.d(e,"never",(function(){return ut.b})),n.d(e,"of",(function(){return ct.a})),n.d(e,"onErrorResumeNext",(function(){return lt})),n.d(e,"pairs",(function(){return ht})),n.d(e,"partition",(function(){return mt})),n.d(e,"race",(function(){return vt.a})),n.d(e,"range",(function(){return bt})),n.d(e,"throwError",(function(){return _t.a})),n.d(e,"timer",(function(){return wt.a})),n.d(e,"using",(function(){return Et})),n.d(e,"zip",(function(){return It.b})),n.d(e,"scheduled",(function(){return St.a})),n.d(e,"EMPTY",(function(){return Y.a})),n.d(e,"NEVER",(function(){return ut.a})),n.d(e,"config",(function(){return Ct.a}));var r=n("HDdC"),i=n("EQ5u"),o=n("OQgR"),s=n("kJWO"),a=n("XNiG"),u=n("2Vo4"),c=n("jtHE"),l=n("NHP+"),h=n("7Hc7"),f=n("D0XW"),d=n("qgXg"),p=n("3N8a");class g extends p.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var m=n("IjjT");class v extends m.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const b=new v(g),y=b;let _=(()=>{class t extends m.a{constructor(t=w,e=Number.POSITIVE_INFINITY){super(t,()=>this.frame),this.maxFrames=e,this.frame=0,this.index=-1}flush(){const{actions:t,maxFrames:e}=this;let n,r;for(;(r=t[0])&&r.delay<=e&&(t.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=t.shift();)r.unsubscribe();throw n}}}return t.frameTimeFactor=10,t})();class w extends p.a{constructor(t,e,n=(t.index+=1)){super(t,e),this.scheduler=t,this.work=e,this.index=n,this.active=!0,this.index=t.index=n}schedule(t,e=0){if(!this.id)return super.schedule(t,e);this.active=!1;const n=new w(this.scheduler,this.work);return this.add(n),n.schedule(t,e)}requestAsyncId(t,e,n=0){this.delay=t.frame+n;const{actions:r}=t;return r.push(this),r.sort(w.sortActions),!0}recycleAsyncId(t,e,n=0){}_execute(t,e){if(!0===this.active)return super._execute(t,e)}static sortActions(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1}}var E=n("Y/cZ"),I=n("quSY"),S=n("7o/Q"),C=n("WMd4"),T=n("mCNh"),N=n("KqfI"),x=n("SpAZ");function k(t){return!!t&&(t instanceof r.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var O=n("4I5i"),A=n("sVev"),R=n("9ppp"),P=n("pjAE"),M=n("Y6u4"),D=n("lJxs"),L=n("8Qeq"),j=n("DH7j"),F=n("z+Ro");function U(t,e,n){if(e){if(!Object(F.a)(e))return(...r)=>U(t,n)(...r).pipe(Object(D.a)(t=>Object(j.a)(t)?e(...t):e(t)));n=e}return function(...e){const i=this;let o;const s={context:i,subject:o,callbackFunc:t,scheduler:n};return new r.a(r=>{if(n)return n.schedule(V,0,{args:e,subscriber:r,params:s});if(!o){o=new l.a;const n=(...t)=>{o.next(t.length<=1?t[0]:t),o.complete()};try{t.apply(i,[...e,n])}catch(a){Object(L.a)(o)?o.error(a):console.warn(a)}}return o.subscribe(r)})}}function V(t){const{args:e,subscriber:n,params:r}=t,{callbackFunc:i,context:o,scheduler:s}=r;let{subject:a}=r;if(!a){a=r.subject=new l.a;const t=(...t)=>{this.add(s.schedule(q,0,{value:t.length<=1?t[0]:t,subject:a}))};try{i.apply(o,[...e,t])}catch(u){a.error(u)}}this.add(a.subscribe(n))}function q(t){const{value:e,subject:n}=t;n.next(e),n.complete()}function H(t,e,n){if(e){if(!Object(F.a)(e))return(...r)=>H(t,n)(...r).pipe(Object(D.a)(t=>Object(j.a)(t)?e(...t):e(t)));n=e}return function(...e){const i={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new r.a(r=>{const{context:o}=i;let{subject:s}=i;if(n)return n.schedule(B,0,{params:i,subscriber:r,context:o});if(!s){s=i.subject=new l.a;const n=(...t)=>{const e=t.shift();e?s.error(e):(s.next(t.length<=1?t[0]:t),s.complete())};try{t.apply(o,[...e,n])}catch(a){Object(L.a)(s)?s.error(a):console.warn(a)}}return s.subscribe(r)})}}function B(t){const{params:e,subscriber:n,context:r}=t,{callbackFunc:i,args:o,scheduler:s}=e;let a=e.subject;if(!a){a=e.subject=new l.a;const t=(...t)=>{const e=t.shift();this.add(e?s.schedule(z,0,{err:e,subject:a}):s.schedule(W,0,{value:t.length<=1?t[0]:t,subject:a}))};try{i.apply(r,[...o,t])}catch(u){this.add(s.schedule(z,0,{err:u,subject:a}))}}this.add(a.subscribe(n))}function W(t){const{value:e,subject:n}=t;n.next(e),n.complete()}function z(t){const{err:e,subject:n}=t;n.error(e)}var G=n("itXk"),K=n("GyhO"),Q=n("NXyV"),Y=n("EY2u"),$=n("cp0P"),X=n("Cfvw"),J=n("xgIS"),Z=n("n6bG");function tt(t,e,n){return n?tt(t,e).pipe(Object(D.a)(t=>Object(j.a)(t)?n(...t):n(t))):new r.a(n=>{const r=(...t)=>n.next(1===t.length?t[0]:t);let i;try{i=t(r)}catch(o){return void n.error(o)}if(Object(Z.a)(e))return()=>e(r,i)})}function et(t,e,n,i,o){let s,a;return 1==arguments.length?(a=t.initialState,e=t.condition,n=t.iterate,s=t.resultSelector||x.a,o=t.scheduler):void 0===i||Object(F.a)(i)?(a=t,s=x.a,o=i):(a=t,s=i),new r.a(t=>{let r=a;if(o)return o.schedule(nt,0,{subscriber:t,iterate:n,condition:e,resultSelector:s,state:r});for(;;){if(e){let n;try{n=e(r)}catch(i){return void t.error(i)}if(!n){t.complete();break}}let o;try{o=s(r)}catch(i){return void t.error(i)}if(t.next(o),t.closed)break;try{r=n(r)}catch(i){return void t.error(i)}}})}function nt(t){const{subscriber:e,condition:n}=t;if(e.closed)return;if(t.needIterate)try{t.state=t.iterate(t.state)}catch(i){return void e.error(i)}else t.needIterate=!0;if(n){let r;try{r=n(t.state)}catch(i){return void e.error(i)}if(!r)return void e.complete();if(e.closed)return}let r;try{r=t.resultSelector(t.state)}catch(i){return void e.error(i)}return e.closed||(e.next(r),e.closed)?void 0:this.schedule(t)}function rt(t,e=Y.a,n=Y.a){return Object(Q.a)(()=>t()?e:n)}var it=n("Y7HM");function ot(t=0,e=f.a){return(!Object(it.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=f.a),new r.a(n=>(n.add(e.schedule(st,t,{subscriber:n,counter:0,period:t})),n))}function st(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var at=n("VRyK"),ut=n("5yfJ"),ct=n("LRne");function lt(...t){if(0===t.length)return Y.a;const[e,...n]=t;return 1===t.length&&Object(j.a)(e)?lt(...e):new r.a(t=>{const r=()=>t.add(lt(...n).subscribe(t));return Object(X.a)(e).subscribe({next(e){t.next(e)},error:r,complete:r})})}function ht(t,e){return new r.a(e?n=>{const r=Object.keys(t),i=new I.a;return i.add(e.schedule(ft,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}:e=>{const n=Object.keys(t);for(let r=0;r<n.length&&!e.closed;r++){const i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})}function ft(t){const{keys:e,index:n,subscriber:r,subscription:i,obj:o}=t;if(!r.closed)if(n<e.length){const t=e[n];r.next([t,o[t]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var dt=n("F97/"),pt=n("SeVD"),gt=n("pLZG");function mt(t,e,n){return[Object(gt.a)(e,n)(new r.a(Object(pt.a)(t))),Object(gt.a)(Object(dt.a)(e,n))(new r.a(Object(pt.a)(t)))]}var vt=n("Nv8m");function bt(t=0,e,n){return new r.a(r=>{void 0===e&&(e=t,t=0);let i=0,o=t;if(n)return n.schedule(yt,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}})}function yt(t){const{start:e,index:n,count:r,subscriber:i}=t;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}var _t=n("z6cu"),wt=n("PqYM");function Et(t,e){return new r.a(n=>{let r,i;try{r=t()}catch(s){return void n.error(s)}try{i=e(r)}catch(s){return void n.error(s)}const o=(i?Object(X.a)(i):Y.a).subscribe(n);return()=>{o.unsubscribe(),r&&r.unsubscribe()}})}var It=n("1uah"),St=n("7HRe"),Ct=n("2fFW")},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG"),s=n("pjAE");let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s.a?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s.a?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s.a(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s.a?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM");class s extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},tyNb:function(t,e,n){"use strict";n.d(e,"a",(function(){return Rt})),n.d(e,"b",(function(){return R})),n.d(e,"c",(function(){return Ke})),n.d(e,"d",(function(){return Qe})),n.d(e,"e",(function(){return Xe})),n.d(e,"f",(function(){return Ye})),n.d(e,"g",(function(){return cn})),n.d(e,"h",(function(){return Je}));var r=n("ofXK"),i=n("fXoL"),o=n("LRne"),s=n("Cfvw"),a=n("2Vo4"),u=n("itXk"),c=n("HDdC"),l=n("sVev"),h=n("NXyV"),f=n("EY2u"),d=n("XNiG"),p=n("lJxs"),g=n("0EUg"),m=n("NJ9Y"),v=n("eIep"),b=n("IzEk"),y=n("JX91"),_=n("Kqap"),w=n("pLZG"),E=n("JIr8"),I=n("bOdf"),S=n("SxV6"),C=n("5+tZ"),T=n("vkgz"),N=n("BFxc"),x=n("nYR2"),k=n("bHdf");class O{constructor(t,e){this.id=t,this.url=e}}class A extends O{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class R extends O{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class P extends O{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class M extends O{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class D extends O{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L extends O{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j extends O{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class F extends O{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U extends O{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class q{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class H{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const K="primary";class Q{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Y(t){return new Q(t)}function $(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function X(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function J(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Z(t[i],e[i]))return!1;return!0}function Z(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function tt(t){return Array.prototype.concat.apply([],t)}function et(t){return t.length>0?t[t.length-1]:null}function nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function rt(t){return Object(i.pb)(t)?t:Object(i.qb)(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}function it(t,e,n){return n?function(t,e){return J(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!ut(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Z(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!ut(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!ut(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!ut(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class ot{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Y(this.queryParams)),this._queryParamMap}toString(){return ft.serialize(this)}}class st{constructor(t,e){this.segments=t,this.children=e,this.parent=null,nt(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dt(this)}}class at{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Y(this.parameters)),this._parameterMap}toString(){return yt(this)}}function ut(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function ct(t,e){let n=[];return nt(t.children,(t,r)=>{r===K&&(n=n.concat(e(t,r)))}),nt(t.children,(t,r)=>{r!==K&&(n=n.concat(e(t,r)))}),n}class lt{}class ht{parse(t){const e=new St(t);return new ot(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return dt(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return nt(e.children,(e,n)=>{n!==K&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=ct(e,(n,r)=>r===K?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${dt(e)}/${n[0]}`:`${dt(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${gt(e)}=${gt(t)}`).join("&"):`${gt(e)}=${gt(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const ft=new ht;function dt(t){return t.segments.map(t=>yt(t)).join("/")}function pt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gt(t){return pt(t).replace(/%3B/gi,";")}function mt(t){return pt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vt(t){return decodeURIComponent(t)}function bt(t){return vt(t.replace(/\+/g,"%20"))}function yt(t){return`${mt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${mt(t)}=${mt(e[t])}`).join("")}`;var e}const _t=/^[^\/()?;=#]+/;function wt(t){const e=t.match(_t);return e?e[0]:""}const Et=/^[^=?&#]+/,It=/^[^?&#]+/;class St{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new st([],{}):new st([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new st(t,e)),n}parseSegment(){const t=wt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new at(vt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=wt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=wt(this.remaining);t&&(n=t,this.capture(n))}t[vt(e)]=vt(n)}parseQueryParam(t){const e=function(t){const e=t.match(Et);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(It);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=bt(e),i=bt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=wt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=K);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new st([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ct{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Tt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Tt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Nt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Nt(t,this._root).map(t=>t.value)}}function Tt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Tt(t,n);if(e)return e}return null}function Nt(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Nt(t,n);if(r.length)return r.unshift(e),r}return[]}class xt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function kt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ot extends Ct{constructor(t,e){super(t),this.snapshot=e,Lt(this,t)}toString(){return this.snapshot.toString()}}function At(t,e){const n=function(t,e){const n=new Mt([],{},{},"",{},K,e,null,t.root,-1,{});return new Dt("",new xt(n,[]))}(t,e),r=new a.a([new at("",{})]),i=new a.a({}),o=new a.a({}),s=new a.a({}),u=new a.a(""),c=new Rt(r,i,s,u,o,K,e,n.root);return c.snapshot=n.root,new Ot(new xt(c,[]),n)}class Rt{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(p.a)(t=>Y(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(p.a)(t=>Y(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pt(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Mt{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Y(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Y(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dt extends Ct{constructor(t,e){super(e),this.url=t,Lt(this,e)}toString(){return jt(this._root)}}function Lt(t,e){e.value._routerState=t,e.children.forEach(e=>Lt(t,e))}function jt(t){const e=t.children.length>0?` { ${t.children.map(jt).join(", ")} } `:"";return`${t.value}${e}`}function Ft(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,J(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),J(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!J(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),J(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ut(t,e){var n,r;return J(t.params,e.params)&&ut(n=t.url,r=e.url)&&n.every((t,e)=>J(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Ut(t.parent,e.parent))}function Vt(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function qt(t,e,n,r,i){let o={};return r&&nt(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new ot(n.root===t?e:function t(e,n,r){const i={};return nt(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new st(e.segments,i)}(n.root,t,e),o,i)}class Ht{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Vt(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==et(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bt{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Wt(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function zt(t,e,n){if(t||(t=new st([],{})),0===t.segments.length&&t.hasChildren())return Gt(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Wt(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!$t(s,a,e))return o;r+=2}else{if(!$t(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new st(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new st(t.segments.slice(r.pathIndex),t.children),Gt(e,0,i)}return r.match&&0===i.length?new st(t.segments,{}):r.match&&!t.hasChildren()?Kt(t,e,n):r.match?Gt(t,0,i):Kt(t,e,n)}function Gt(t,e,n){if(0===n.length)return new st(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[K]:t}}(n),i={};return nt(r,(n,r)=>{null!==n&&(i[r]=zt(t.children[r],e,n))}),nt(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new st(t.segments,i)}}function Kt(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=Qt(n[i].outlets);return new st(r,t)}if(0===i&&Vt(n[0])){r.push(new at(t.segments[e].path,n[0])),i++;continue}const o=Wt(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Vt(s)?(r.push(new at(o,Yt(s))),i+=2):(r.push(new at(o,{})),i++)}return new st(r,{})}function Qt(t){const e={};return nt(t,(t,n)=>{null!==t&&(e[n]=Kt(new st([],{}),0,t))}),e}function Yt(t){const e={};return nt(t,(t,n)=>e[n]=""+t),e}function $t(t,e,n){return t==n.path&&J(e,n.parameters)}class Xt{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ft(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=kt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),nt(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=kt(t),i=t.value.component?n.children:e;nt(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=kt(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new z(t.value.snapshot))}),t.children.length&&this.forwardEvent(new B(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Ft(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Jt(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Jt(t){Ft(t.value),t.children.forEach(Jt)}class Zt{constructor(t,e){this.routes=t,this.module=e}}function te(t){return"function"==typeof t}function ee(t){return t instanceof ot}const ne=Symbol("INITIAL_VALUE");function re(){return Object(v.a)(t=>Object(u.b)(...t.map(t=>t.pipe(Object(b.a)(1),Object(y.a)(ne)))).pipe(Object(_.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ne)return t;if(r===ne&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ee(r))return r}return t},t)},ne),Object(w.a)(t=>t!==ne),Object(p.a)(t=>ee(t)?t:!0===t),Object(b.a)(1)))}class ie{constructor(t){this.segmentGroup=t||null}}class oe{constructor(t){this.urlTree=t}}function se(t){return new c.a(e=>e.error(new ie(t)))}function ae(t){return new c.a(e=>e.error(new oe(t)))}function ue(t){return new c.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ce{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,K).pipe(Object(p.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(E.a)(t=>{if(t instanceof oe)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ie)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,K).pipe(Object(p.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(E.a)(t=>{if(t instanceof ie)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new st([],{[K]:t}):t;return new ot(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(p.a)(t=>new st([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(o.a)({});const n=[],r=[],i={};return nt(t,(t,o)=>{const s=e(o,t).pipe(Object(p.a)(t=>i[o]=t));o===K?n.push(s):r.push(s)}),o.a.apply(null,n.concat(r)).pipe(Object(g.a)(),Object(m.a)(),Object(p.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(o.a)(...n).pipe(Object(I.a)(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,i,s).pipe(Object(E.a)(t=>{if(t instanceof ie)return Object(o.a)(null);throw t}))),Object(S.a)(t=>!!t),Object(E.a)((t,n)=>{if(t instanceof l.a||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(o.a)(new st([],{}));throw new ie(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return de(r)!==o?se(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):se(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ae(i):this.lineralizeSegments(n,i).pipe(Object(C.b)(n=>{const i=new st(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=le(e,r,i);if(!s)return se(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ae(l):this.lineralizeSegments(r,l).pipe(Object(C.b)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(p.a)(t=>(n._loadedConfig=t,new st(r,{})))):Object(o.a)(new st(r,{}));const{matched:i,consumedSegments:s,lastChild:a}=le(e,n,r);if(!i)return se(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(C.b)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:a}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>fe(t,e,n)&&de(n)!==K)}(t,n,r)?{segmentGroup:he(new st(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&de(r)!==K&&(n[de(r)]=new st([],{}));return n}(r,new st(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>fe(t,e,n))}(t,n,r)?{segmentGroup:he(new st(t.segments,function(t,e,n,r){const i={};for(const o of n)fe(t,e,o)&&!r[de(o)]&&(i[de(o)]=new st([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,u,r);return 0===a.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(p.a)(t=>new st(s,t))):0===r.length&&0===a.length?Object(o.a)(new st(s,{})):this.expandSegment(n,i,r,a,K,!0).pipe(Object(p.a)(t=>new st(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new Zt(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(C.b)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(p.a)(t=>(e._loadedConfig=t,t))):function(t){return new c.a(e=>e.error($(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new Zt([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&te(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!te(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return rt(o)});return Object(o.a)(i).pipe(re(),Object(T.a)(t=>{if(!ee(t))return;const e=$(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(p.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ue(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new ot(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return nt(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return nt(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new st(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function le(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||X)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function he(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new st(t.segments.concat(e.segments),e.children)}return t}function fe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function de(t){return t.outlet||K}class pe{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ge{constructor(t,e){this.component=t,this.route=e}}function me(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=kt(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ut(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ut(t.url,e.url)||!J(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ut(t,e)||!J(t.queryParams,e.queryParams);case"paramsChange":default:return!Ut(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new pe(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new ge(u.outlet.component,a))}else a&&be(n,u,o),o.canActivateChecks.push(new pe(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),nt(s,(t,e)=>be(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function ve(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function be(t,e,n){const r=kt(t),i=t.value;nt(r,(t,r)=>{be(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ge(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ye(t,e){return null!==t&&e&&e(new W(t)),Object(o.a)(!0)}function _e(t,e){return null!==t&&e&&e(new H(t)),Object(o.a)(!0)}function we(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>Object(h.a)(()=>{const i=ve(r,e,n);let o;if(function(t){return t&&te(t.canActivate)}(i))o=rt(i.canActivate(e,t));else{if(!te(i))throw new Error("Invalid CanActivate guard");o=rt(i(e,t))}return o.pipe(Object(S.a)())}));return Object(o.a)(i).pipe(re())}function Ee(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Object(h.a)(()=>{const i=e.guards.map(i=>{const o=ve(i,e.node,n);let s;if(function(t){return t&&te(t.canActivateChild)}(o))s=rt(o.canActivateChild(r,t));else{if(!te(o))throw new Error("Invalid CanActivateChild guard");s=rt(o(r,t))}return s.pipe(Object(S.a)())});return Object(o.a)(i).pipe(re())}));return Object(o.a)(i).pipe(re())}class Ie{}class Se{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ne(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,K),n=new Mt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},K,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xt(n,e),i=new Dt(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(t){return new c.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Pt(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=ct(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===K?-1:e.value.outlet===K?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Ie))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Ie}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Ie;if((t.outlet||K)!==r)throw new Ie;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?et(n).parameters:{};i=new Mt(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Oe(t),r,t.component,t,Ce(e),Te(e)+n.length,Ae(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ie;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||X)(n,t,e);if(!r)throw new Ie;const i={};nt(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Mt(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Oe(t),r,t.component,t,Ce(e),Te(e)+o.length,Ae(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ne(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new xt(i,t)]}if(0===a.length&&0===c.length)return[new xt(i,[])];const l=this.processSegment(a,u,c,K);return[new xt(i,l)]}}function Ce(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Te(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ne(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>xe(t,e,n)&&ke(n)!==K)}(t,n,r)){const i=new st(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&ke(o)!==K){const n=new st([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ke(o)]=n}return i}(t,e,r,new st(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>xe(t,e,n))}(t,n,r)){const o=new st(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(xe(t,n,a)&&!i[ke(a)]){const n=new st([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ke(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new st(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function xe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ke(t){return t.outlet||K}function Oe(t){return t.data||{}}function Ae(t){return t.resolve||{}}function Re(t){return function(e){return e.pipe(Object(v.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(p.a)(()=>e)):Object(s.a)([e])}))}}class Pe extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let Me=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Lb(0,"router-outlet")},directives:function(){return[Je]},encapsulation:2}),t})();function De(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Le(r,je(e,r))}}function Le(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==K)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&De(t.children,e)}function je(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Fe(t){const e=t.children&&t.children.map(Fe),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=Me),n}const Ue=new i.q("ROUTES");class Ve{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(p.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Zt(tt(r.injector.get(Ue)).map(Fe),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):rt(t()).pipe(Object(C.b)(t=>t instanceof i.v?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class qe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new He,this.attachRef=null}}class He{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new qe,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Be{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function We(t){throw t}function ze(t,e,n){return e.parse("/")}function Ge(t,e){return Object(o.a)(null)}let Ke=(()=>{class t{constructor(t,e,n,r,o,s,u,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new d.a,this.errorHandler=We,this.malformedUriErrorHandler=ze,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ge,afterPreactivation:Ge},this.urlHandlingStrategy=new Be,this.routeReuseStrategy=new Pe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.x),this.console=o.get(i.X);const l=o.get(i.z);this.isNgZoneEnabled=l instanceof i.z,this.resetConfig(c),this.currentUrlTree=new ot(new st([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ve(s,u,t=>this.triggerEvent(new V(t)),t=>this.triggerEvent(new q(t))),this.routerState=At(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(w.a)(t=>0!==t.id),Object(p.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(v.a)(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(Object(T.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(v.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(v.a)(t=>{const n=this.transitions.getValue();return e.next(new A(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?f.a:[t]}),Object(v.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,a=this.config,function(t){return t.pipe(Object(v.a)(t=>function(t,e,n,r,i){return new ce(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,a).pipe(Object(p.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(T.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(C.b)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Se(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(p.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(T.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(T.a)(t=>{const n=new D(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:a}=t,u=new A(n,this.serializeUrl(r),i,s);e.next(u);const c=At(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),f.a}),Re(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(T.a)(t=>{const e=new L(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(p.a)(t=>Object.assign(Object.assign({},t),{guards:me(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(C.b)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(C.b)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(o=>{const s=ve(o,e,i);let a;if(function(t){return t&&te(t.canDeactivate)}(s))a=rt(s.canDeactivate(t,e,n,r));else{if(!te(s))throw new Error("Invalid CanDeactivate guard");a=rt(s(t,e,n,r))}return a.pipe(Object(S.a)())});return Object(o.a)(a).pipe(re())}(t.component,t.route,n,e,r)),Object(S.a)(t=>!0!==t,!0))}(u,r,i,t).pipe(Object(C.b)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(Object(I.a)(e=>Object(s.a)([_e(e.route.parent,r),ye(e.route,r),Ee(t,e.path,n),we(t,e.route,n)]).pipe(Object(g.a)(),Object(S.a)(t=>!0!==t,!0))),Object(S.a)(t=>!0!==t,!0))}(r,a,t,e):Object(o.a)(n)),Object(p.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(T.a)(t=>{if(ee(t.guardsResult)){const e=$(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(T.a)(t=>{const e=new j(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(w.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new P(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Re(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(T.a)(t=>{const e=new F(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(v.a)(t=>{let n=!1;return Object(o.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(C.b)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(o.a)(t);let a=0;return Object(s.a)(n).pipe(Object(I.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});const a={};return Object(s.a)(i).pipe(Object(C.b)(i=>function(t,e,n,r){const i=ve(t,e,r);return rt(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(T.a)(t=>{a[i]=t}))),Object(N.a)(1),Object(C.b)(()=>Object.keys(a).length===i.length?Object(o.a)(a):f.a))}(t._resolve,t,e,r).pipe(Object(p.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Pt(t,n).resolve),null)))}(t.route,e,r,i)),Object(T.a)(()=>a++),Object(N.a)(1),Object(C.b)(e=>a===n.length?Object(o.a)(t):f.a))}))}),Object(T.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new P(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(T.a)(t=>{const e=new U(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Re(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(p.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new xt(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Rt(new a.a((i=n.value).url),new a.a(i.params),new a.a(i.queryParams),new a.a(i.fragment),new a.a(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new xt(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Ot(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(T.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,u=this.routeReuseStrategy,c=t=>this.triggerEvent(t),Object(p.a)(t=>(new Xt(u,t.targetRouterState,t.currentRouterState,c).activate(i),t))),Object(T.a)({next(){n=!0},complete(){n=!0}}),Object(x.a)(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new P(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Object(E.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ee(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new P(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new M(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return f.a}));var i,u,c}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){De(t),this.config=t.map(Fe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(i.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return qt(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ht(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return nt(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ht(n,e,r)}(n);if(o.toRoot())return qt(e.root,new st([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Bt(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Bt(t,t===e.root,0)}const r=Vt(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Bt(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Gt(s.segmentGroup,s.index,o.commands):zt(s.segmentGroup,s.index,o.commands);return qt(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(i.U)()&&this.isNgZoneEnabled&&!i.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ee(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(ee(t))return it(this.currentUrlTree,t,e);const n=this.parseUrl(t);return it(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new R(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.M),i.Rb(lt),i.Rb(He),i.Rb(r.g),i.Rb(i.r),i.Rb(i.w),i.Rb(i.i),i.Rb(void 0))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),Qe=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new d.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:$e(this.skipLocationChange),replaceUrl:$e(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:$e(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:$e(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Ke),i.Kb(Rt),i.Sb("tabindex"),i.Kb(i.D),i.Kb(i.l))},t.\u0275dir=i.Fb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.Ub("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.wb]}),t})(),Ye=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new d.a,this.subscription=t.events.subscribe(t=>{t instanceof R&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:$e(this.skipLocationChange),replaceUrl:$e(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:$e(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:$e(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Ke),i.Kb(Rt),i.Kb(r.h))},t.\u0275dir=i.Fb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.Ub("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(i.Qb("href",e.href,i.kc),i.zb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.wb]}),t})();function $e(t){return""===t||!!t}let Xe=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof R&&this.update()})}ngAfterContentInit(){Object(s.a)([this.links.changes,this.linksWithHrefs.changes,Object(o.a)(null)]).pipe(Object(k.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(s.a)(e).pipe(Object(k.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(Ke),i.Kb(i.l),i.Kb(i.D),i.Kb(i.h),i.Kb(Qe,8),i.Kb(Ye,8))},t.\u0275dir=i.Fb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(i.Db(n,Qe,!0),i.Db(n,Ye,!0)),2&t&&(i.gc(r=i.Vb())&&(e.links=r),i.gc(r=i.Vb())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.wb]}),t})(),Je=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||K,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ze(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(He),i.Kb(i.P),i.Kb(i.j),i.Sb("name"),i.Kb(i.h))},t.\u0275dir=i.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ze{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Rt?this.route:t===He?this.childContexts:this.parent.get(t,e)}}class tn{}class en{preload(t,e){return Object(o.a)(null)}}let nn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ve(e,n,e=>t.triggerEvent(new V(e)),e=>t.triggerEvent(new q(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(w.a)(t=>t instanceof R),Object(I.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(s.a)(n).pipe(Object(k.a)(),Object(p.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(C.b)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(Ke),i.Rb(i.w),i.Rb(i.i),i.Rb(i.r),i.Rb(tn))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})(),rn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof A?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof R&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof G&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new G(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(Ke),i.Rb(r.n),i.Rb(void 0))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();const on=new i.q("ROUTER_CONFIGURATION"),sn=new i.q("ROUTER_FORROOT_GUARD"),an=[r.g,{provide:lt,useClass:ht},{provide:Ke,useFactory:function(t,e,n,i,o,s,a,u={},c,l){const h=new Ke(null,t,e,n,i,o,s,tt(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=Object(r.s)();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[lt,He,r.g,i.r,i.w,i.i,Ue,on,[class{},new i.A],[class{},new i.A]]},He,{provide:Rt,useFactory:function(t){return t.routerState.root},deps:[Ke]},{provide:i.w,useClass:i.J},nn,en,class{preload(t,e){return e().pipe(Object(E.a)(()=>Object(o.a)(null)))}},{provide:on,useValue:{enableTracing:!1}}];function un(){return new i.y("Router",Ke)}let cn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[an,dn(e),{provide:sn,useFactory:fn,deps:[[Ke,new i.A,new i.I]]},{provide:on,useValue:n||{}},{provide:r.h,useFactory:hn,deps:[r.m,[new i.p(r.a),new i.A],on]},{provide:rn,useFactory:ln,deps:[Ke,r.n,on]},{provide:tn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:en},{provide:i.y,multi:!0,useFactory:un},[pn,{provide:i.d,multi:!0,useFactory:gn,deps:[pn]},{provide:vn,useFactory:mn,deps:[pn]},{provide:i.b,multi:!0,useExisting:vn}]]}}static forChild(e){return{ngModule:t,providers:[dn(e)]}}}return t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({factory:function(e){return new(e||t)(i.Rb(sn,8),i.Rb(Ke,8))}}),t})();function ln(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new rn(t,e,n)}function hn(t,e,n={}){return n.useHash?new r.e(t,e):new r.l(t,e)}function fn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function dn(t){return[{provide:i.a,multi:!0,useValue:t},{provide:Ue,multi:!0,useValue:t}]}let pn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new d.a}appInitializer(){return this.injector.get(r.f,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Ke),r=this.injector.get(on);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(on),n=this.injector.get(nn),r=this.injector.get(rn),o=this.injector.get(Ke),s=this.injector.get(i.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.r))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac}),t})();function gn(t){return t.appInitializer.bind(t)}function mn(t){return t.bootstrapListener.bind(t)}const vn=new i.q("Router Initializer")},um2w:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("mrSG"),i=n("lJxs"),o=n("nYR2"),s=n("vkgz"),a=(n("4XzM"),n("fXoL")),u=n("6233"),c=n("BAab"),l=n("S/Aq");let h=(()=>{class t{constructor(t,e,n){this.db=t,this.afStorage=e,this.afs=n,this.basePath="homepage",this.url="",this.isFileUploading=!1,this.isFileUploaded=!1,this.filesCollection=n.collection("imagesCollection"),this.files=this.filesCollection.valueChanges()}getlist(t){return this.selectedList=this.db.list(t),console.log(this.selectedList),this.selectedList}insertContents(t,e){"tripdata"==e?(this.selectedList=this.db.list(e),t&&this.selectedList.push({id:t.id,title:t.title,data:t.data,daterange:t.daterange,price:t.price,people:t.people,bookingdate:t.bookingdate,altitude:t.altitude,days:t.days,image:t.image})):(this.selectedList=this.db.list(e),t&&this.selectedList.push({id:t.id,name:t.name,title:t.title,data:t.data,image:t.image}))}updateContents(t,e){"tripdata"==e?t&&(t.title||(t.title=" "),t.data||(t.data=" "),t.image||(t.image=" "),this.selectedList.update(t.$key,{id:t.id,title:t.title,data:t.data,daterange:t.daterange,price:t.price,people:t.people,bookingdate:t.bookingdate,altitude:t.altitude,days:t.days,image:t.image})):(this.selectedList=this.db.list(e),t&&(t.title||(t.title=" "),t.data||(t.data=" "),t.image||(t.image=" "),this.selectedList.update(t.$key,{id:t.id,name:t.name,title:t.title,data:t.data,image:t.image})))}getitem(t,e){return this.db.object(e+"/"+t).snapshotChanges().pipe(Object(i.a)(t=>t.payload.val()))}uploadFile(t,e){return Object(r.a)(this,void 0,void 0,(function*(){if(this.url="",this.downloadURL=null,"image"===t.type.split("/")[0])if(t){const n=`${this.basePath}/${(new Date).getTime()}_${t.name}`,r=yield this.afStorage.upload(n,t);this.getUrl(r,e),alert("Upload Successful. Now save the data")}else alert("Please select an image");else alert("File type is not supported!")}))}getUrl(t,e){return Object(r.a)(this,void 0,void 0,(function*(){const n=yield t.ref.getDownloadURL();this.url=n,e.controls.image.setValue(n)}))}uploadImage(t,e){if("image"!==t.type.split("/")[0])return void console.log("File type is not supported!");this.isFileUploading=!0,this.isFileUploaded=!1,this.imgName=`${(new Date).getTime()}_${t.name}`;const n="filesStorage/{this.imgName}",r=this.afStorage.ref(n);this.fileUploadTask=this.afStorage.upload(n,t),e.controls.image.setValue(r.getDownloadURL()),this.imgName=t.name,this.percentageVal=this.fileUploadTask.percentageChanges(),this.trackSnapshot=this.fileUploadTask.snapshotChanges().pipe(Object(o.a)(()=>{this.UploadedImageURL=r.getDownloadURL(),this.UploadedImageURL.subscribe(e=>{this.storeFilesFirebase({name:t.name,filepath:e,size:this.imgSize}),this.isFileUploading=!1,this.isFileUploaded=!0,this.url=e},t=>{console.log(t)})}),Object(s.a)(t=>{this.imgSize=t.totalBytes}))}storeFilesFirebase(t){const e=this.afs.createId();this.filesCollection.doc(e).set(t).then(t=>{console.log(t)}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(u.AngularFireDatabase),a.Rb(c.a),a.Rb(l.a))},t.\u0275prov=a.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"vz+L":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("IzEk"),i=n("lJxs"),o=n("fXoL"),s=n("5EfC"),a=n("tyNb");let u=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return this.authService.isLoggedIn.pipe(Object(r.a)(1),Object(i.a)(t=>1==t?(this.router.navigate(["/"]),!0):(this.router.navigate(["/"]),!1)))}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(s.a),o.Rb(a.c))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac}),t})()},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("oB13"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>Object(i.a)()(Object(r.a)(s)(t))}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("30Go"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=o.__values(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion(h,"0.6.11",void 0),t.registerVersion("fire-js","")}(_),e.default=_,e.firebase=_},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return Jn})),n.d(e,"EventType",(function(){return Zn})),n.d(e,"WebChannel",(function(){return tr})),n.d(e,"XhrIo",(function(){return er})),n.d(e,"createWebChannelTransport",(function(){return Xn}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},u=s||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var y=Date.now;function _(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)}(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function C(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var N,x=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function k(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var A=u.navigator;if(A){var R=A.userAgent;if(R){N=R;break t}}N=""}function P(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function M(t){var e={};for(var n in t)e[n]=t[n];return e}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<D.length;o++)n=D[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=c;var F,U,V=k(N,"Opera"),q=k(N,"Trident")||k(N,"MSIE"),H=k(N,"Edge"),B=H||q,W=k(N,"Gecko")&&!(k(N.toLowerCase(),"webkit")&&!k(N,"Edge"))&&!(k(N,"Trident")||k(N,"MSIE"))&&!k(N,"Edge"),z=k(N.toLowerCase(),"webkit")&&!k(N,"Edge");function G(){var t=u.document;return t?t.documentMode:void 0}t:{var K="",Q=(U=N,W?/rv:([^\);]+)(\)|;)/.exec(U):H?/Edge\/([\d\.]+)/.exec(U):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):z?/WebKit\/(\S+)/.exec(U):V?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(Q&&(K=Q?Q[1]:""),q){var Y=G();if(null!=Y&&Y>parseFloat(K)){F=String(Y);break t}}F=K}var $={};function X(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=x(String(F)).split("."),r=x(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=O(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==s[2].length,0==a[2].length)||O(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var J=u.document&&q&&(G()||parseInt(F,10))||void 0,Z=!q||9<=Number(J),tt=q&&!X("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},_(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),st=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++st,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ht(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new at(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Et(r),e&&e[ot]?e.wa(n,r,f(i)?!!i.capture:!!i,o):gt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[ot]?t.va(e,n,f(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i;if(s&&!Z)return null;var a=_t(t);if(a||(t[ft]=a=new ct(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=yt,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(lt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ut(t)}}}function vt(t){return t in dt?dt[t]:dt[t]="on"+t}function bt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&mt(t),n.call(r,e)}function yt(t,e){if(t.Y)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return bt(t,e=new rt(e,this))}return bt(t,new rt(e,this))}function _t(t){return(t=t[ft])instanceof ct?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==l(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function It(){w.call(this),this.c=new ct(this),this.J=this,this.C=null}function St(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&lt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}_(It,w),It.prototype[ot]=!0,(o=It.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=f(i)?!!i.capture:!!i,r=Et(r),e&&e[ot]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(s=e.a[n],r,i,o))&&(ut(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,o)),(r=-1<e?n[e]:null)&&mt(r))}(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;L(t=new nt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=St(s,r,!0,t)&&i}if(i=St(s=t.a=n,r,!0,t)&&i,i=St(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=St(s=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(It.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ct=u.JSON.stringify;function Tt(){this.b=this.a=null}var Nt,xt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Ot}),(function(t){t.reset()}),100);function kt(){var t=Mt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ot(){this.next=this.b=this.a=null}function At(t){u.setTimeout((function(){throw t}),0)}function Rt(t,e){Nt||function(){var t=u.Promise.resolve(void 0);Nt=function(){t.then(Dt)}}(),Pt||(Nt(),Pt=!0),Mt.add(t,e)}Tt.prototype.add=function(t,e){var n=xt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ot.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ot.prototype.reset=function(){this.next=this.b=this.a=null};var Pt=!1,Mt=new Tt;function Dt(){for(var t;t=kt();){try{t.a.call(t.b)}catch(n){At(n)}var e=xt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Pt=!1}function Lt(t,e){It.call(this),this.b=t||1,this.a=e||u,this.f=v(this.Ya,this),this.g=y()}function jt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ft(t,e,n){if("function"==l(t))n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Ut(t){t.a=Ft((function(){t.a=null,t.c&&(t.c=!1,Ut(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}_(Lt,It),(o=Lt.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=y()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(jt(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=y())},o.G=function(){Lt.S.G.call(this),jt(this),delete this.a};var Vt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ut(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function qt(t){w.call(this),this.b=t,this.a={}}_(qt,w);var Ht=[];function Bt(t,e,n,r){Array.isArray(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Wt(t){P(t.a,(function(t,e){this.a.hasOwnProperty(e)&&mt(t)}),t),t.a={}}function zt(){this.a=!0}function Gt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ct(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}qt.prototype.G=function(){qt.S.G.call(this),Wt(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zt.prototype.info=function(){};var Kt=null;function Qt(){return Kt=Kt||new It}function Yt(t){nt.call(this,"serverreachability",t)}function $t(t){var e=Qt();e.dispatchEvent(new Yt(e,t))}function Xt(t){nt.call(this,"statevent",t)}function Jt(t){var e=Qt();e.dispatchEvent(new Xt(e,t))}function Zt(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}_(Yt,nt),_(Xt,nt),_(Zt,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function ie(){}re.prototype.a=null;var oe,se={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ae(){nt.call(this,"d")}function ue(){nt.call(this,"c")}function ce(){}function le(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new qt(this),this.P=he,this.R=new Lt(t=B?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}_(ae,nt),_(ue,nt),_(ce,re),oe=new ce;var he=45e3,fe={},de={};function pe(t,e,n){t.H=1,t.i=Le(Oe(e)),t.j=n,t.I=!0,ge(t,null)}function ge(t,e){t.u=y(),be(t),t.l=Oe(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Ye(n.b,"t",r),t.D=0,t.a=Wn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Vt(v(t.Ca,t,t.a),t.O)),Bt(t.J,t.a,"readystatechange",t.Wa),e=t.B?M(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),$t(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function me(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ve(t,n);if(i==de){4==e&&(t.h=4,Jt(14),r=!1),Gt(t.c,t.f,null,"[Incomplete Response]");break}if(i==fe){t.h=4,Jt(15),Gt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Gt(t.c,t.f,i,null),Ie(t,i)}4==e&&0==n.length&&(t.h=1,Jt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ln(e),e.F=!0)):(Gt(t.c,t.f,n,"[Invalid Chunked Response]"),Ee(t),we(t))}function ve(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.D=r+n,e))}function be(t){t.U=y()+t.P,ye(t,t.P)}function ye(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(v(t.Ua,t),e)}function _e(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function we(t){0==t.g.v||t.A||Un(t.g,t)}function Ee(t){_e(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,jt(t.R),Wt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ie(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Fn(n),Nn(n)}Dn(n),Jt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(v(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(m){}n.ea=void 0}}else qn(n,11)}else if((t.C||n.a==t)&&Fn(n),!T(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(k(l,"spdy")||k(l,"quic")||k(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,De(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=y()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Bn(u,u.C?u.ga:null,u.fa),d.C){on(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(_e(p),be(p)),u.a=d}else Mn(u);0<n.g.length&&On(n)}else"stop"!=i[0]&&"close"!=i[0]||qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?qn(n,7):Tn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);$t(4)}catch(m){}}function Se(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)I(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ce(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ce)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Te(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ne(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ne(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ne(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=le.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==En(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=En(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!B&&!this.a.$())){this.A||4!=e||7==n||$t(8==n||0>=r?3:2),_e(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Jt(12),Ee(this),we(this);break t}Gt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ie(this,u)}this.I?(me(this,e,o),B&&this.b&&3==e&&(Bt(this.J,this.R,"tick",this.Va),this.R.start())):(Gt(this.c,this.f,o,null),Ie(this,o)),4==e&&Ee(this),this.b&&!this.A&&(4==e?Un(this.g,this):(this.b=!1,be(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Jt(12)):(this.h=0,Jt(13)),Ee(this),we(this)}}}catch(c){}},o.Va=function(){if(this.a){var t=En(this.a),e=this.a.$();this.D<e.length&&(_e(this),me(this,t,e),this.b&&4!=t&&be(this))}},o.cancel=function(){this.A=!0,Ee(this)},o.Ua=function(){this.o=null;var t=y();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&($t(3),Jt(17)),Ee(this),this.h=2,we(this)):ye(this,this.U-t)},(o=Ce.prototype).K=function(){Te(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Te(this),this.a.concat()},o.get=function(t,e){return Ne(this.b,t)?this.b[t]:e},o.set=function(t,e){Ne(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ke(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ke){this.a=void 0!==e?e:t.a,Ae(this,t.f),this.j=t.j,Re(this,t.c),Pe(this,t.h),this.g=t.g,e=t.b;var n=new ze;n.c=e.c,e.a&&(n.a=new Ce(e.a),n.b=e.b),Me(this,n),this.i=t.i}else t&&(n=String(t).match(xe))?(this.a=!!e,Ae(this,n[1]||"",!0),this.j=je(n[2]||""),Re(this,n[3]||"",!0),Pe(this,n[4]),this.g=je(n[5]||"",!0),Me(this,n[6]||"",!0),this.i=je(n[7]||"")):(this.a=!!e,this.b=new ze(null,this.a))}function Oe(t){return new ke(t)}function Ae(t,e,n){t.f=n?je(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Re(t,e,n){t.c=n?je(e,!0):e}function Pe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Me(t,e,n){e instanceof ze?(t.b=e,function(t,e){e&&!t.f&&(Ge(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ke(this,e),Ye(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Fe(e,Be)),t.b=new ze(e,t.a))}function De(t,e,n){t.b.set(e,n)}function Le(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^y()).toString(36)),t}function je(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fe(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ke.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fe(e,Ve,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Fe(e,Ve,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fe(n,"/"==n.charAt(0)?He:qe,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fe(n,We)),t.join("")};var Ve=/[#\/\?@]/g,qe=/[#\?:]/g,He=/[#\?]/g,Be=/[#\?@]/g,We=/#/g;function ze(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ge(t){t.a||(t.a=new Ce,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ke(t,e){Ge(t),e=$e(t,e),Ne(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ne((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Te(t)))}function Qe(t,e){return Ge(t),e=$e(t,e),Ne(t.a.b,e)}function Ye(t,e,n){Ke(t,e),0<n.length&&(t.c=null,t.a.set($e(t,e),C(n)),t.b+=n.length)}function $e(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Xe(t,e){this.b=t,this.a=e}function Je(t){this.g=t||Ze,t=u.PerformanceNavigationTiming?0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=ze.prototype).add=function(t,e){Ge(this),this.c=null,t=$e(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){Ge(this),this.a.forEach((function(n,r){I(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){Ge(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){Ge(this);var e=[];if("string"==typeof t)Qe(this,t)&&(e=S(e,this.a.get($e(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},o.set=function(t,e){return Ge(this),this.c=null,Qe(this,t=$e(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Ze=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function on(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function sn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),s=o.next();!s.done;s=o.next())r=r.concat(s.value.s)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return C(t.c)}function an(){}function un(){this.a=new an}function cn(t,e,n){var r=n||"";try{Se(t,(function(t,n){var i=t;f(t)&&(i=Ct(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Je.prototype.cancel=function(){var t,e;if(this.c=sn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},an.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},an.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var hn=u.JSON.parse;function fn(t){It.call(this),this.headers=new Ce,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dn,this.D=this.F=!1}_(fn,It);var dn="",pn=/^https?$/i,gn=["POST","PUT"];function mn(t){return"content-type"==t.toLowerCase()}function vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,bn(t),_n(t)}function bn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function yn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=En(t)||2!=t.X()))if(t.l&&4==En(t))Ft(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==En(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(xe)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!pn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<En(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",bn(t)}}finally{_n(t)}}}function _n(t,e){if(t.a){wn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function wn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function En(t){return t.a?t.a.readyState:0}function In(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return P(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):De(t,e,n))}function Sn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Cn(t){this.pa=0,this.g=[],this.c=new zt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Sn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Sn("baseRetryDelayMs",5e3,t),this.Ma=Sn("retryDelaySeedMs",1e4,t),this.Ja=Sn("forwardChannelMaxRetries",2,t),this.ma=Sn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Je(t&&t.concurrentRequestLimit),this.ka=new un,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Tn(t){if(xn(t),3==t.v){var e=t.R++,n=Oe(t.B);De(n,"SID",t.J),De(n,"RID",e),De(n,"TYPE","terminate"),Rn(t,n),(e=new le(t,t.c,e,void 0)).H=2,e.i=Le(Oe(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=Wn(e.g,null),e.a.ba(e.i)),e.u=y(),be(e)}Hn(t)}function Nn(t){t.a&&(Ln(t),t.a.cancel(),t.a=null)}function xn(t){Nn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Fn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function kn(t,e){t.g.push(new Xe(t.La++,e)),3==t.v&&On(t)}function On(t){tn(t.b)||t.h||(t.h=!0,Rt(t.Ba,t),t.u=0)}function An(t,e){var n;n=e?e.f:t.R++;var r=Oe(t.B);De(r,"SID",t.J),De(r,"RID",n),De(r,"AID",t.P),Rn(t,r),t.i&&t.l&&In(r,t.i,t.l),n=new le(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Pn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,r,e)}function Rn(t,e){t.f&&Se({},(function(t,n){De(e,n,t)}))}function Pn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?v(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{cn(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Mn(t){t.a||t.j||(t.U=1,Rt(t.Aa,t),t.o=0)}function Dn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(v(t.Aa,t),Vn(t,t.o)),t.o++,0))}function Ln(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function jn(t){t.a=new le(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Oe(t.la);De(e,"RID","rpc"),De(e,"SID",t.J),De(e,"CI",t.H?"0":"1"),De(e,"AID",t.P),Rn(t,e),De(e,"TYPE","xmlhttp"),t.i&&t.l&&In(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Le(Oe(e)),n.j=null,n.I=!0,ge(n,t)}function Fn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function Un(t,e){var n=null;if(t.a==e){Fn(t),Ln(t),t.a=null;var r=2}else{if(!nn(t.b,e))return;n=e.s,on(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=y()-e.u;var i=t.u;(r=Qt()).dispatchEvent(new Zt(r,n,e,i)),On(t)}else Mn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(v(t.Ba,t,e),Vn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Dn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:qn(t,5);break;case 4:qn(t,10);break;case 3:qn(t,6);break;default:qn(t,2)}}function Vn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function qn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=v(t.Xa,t);n||(n=new ke("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Ae(n,"https"),Le(n)),function(t,e){var n=new zt;if(u.Image){var r=new Image;r.onload=b(ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(ln,n,r,"TestLoadImage: error",!1,e),r.onabort=b(ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(ln,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Jt(2);t.v=0,t.f&&t.f.ra(e),Hn(t),xn(t)}function Hn(t){t.v=0,t.I=-1,t.f&&(0==sn(t.b).length&&0==t.g.length||(t.b.c.length=0,C(t.g),t.g.length=0),t.f.qa())}function Bn(t,e,n){var r=function(t){return t instanceof ke?Oe(t):new ke(t,void 0)}(n);if(""!=r.c)e&&Re(r,e+"."+r.c),Pe(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new ke(null,void 0);return t&&Ae(i,t),e&&Re(i,e),n&&Pe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&P(t.W,(function(t,e){De(r,e,t)})),n=t.na,(e=t.A)&&n&&De(r,e,n),De(r,"VER",t.ha),Rn(t,r),r}function Wn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(t.Ka)).F=t.C,e}function zn(){}function Gn(){if(q&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Kn(t,e){It.call(this),this.a=new Cn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new $n(this)}function Qn(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Yn(){ue.call(this),this.status=1}function $n(t){this.a=t}(o=fn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=v(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void vn(this,o)}t=n||"";var i=new Ce(this.headers);r&&Se(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=mn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=E(gn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wn(this),0<this.o&&((this.D=function(t){return q&&X(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=v(this.xa,this)):this.m=Ft(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){vn(this,o)}},o.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_n(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),_n(this,!0)),fn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?yn(this):this.Ta())},o.Ta=function(){yn(this)},o.X=function(){try{return 2<En(this)?this.a.status:-1}catch(U){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(U){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=Cn.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new le(this,this.c,t,void 0),r=this.l;if(this.O&&(r?L(r=M(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Pn(this,n,e),De(i=Oe(this.B),"RID",t),De(i,"CVER",22),this.A&&De(i,"X-HTTP-Session-Id",this.A),Rn(this,i),this.i&&r&&In(i,this.i,r),rn(this.b,n),this.Ga&&De(i,"TYPE","init"),this.da?(De(i,"$req",e),De(i,"SID","null"),n.V=!0,pe(n,i,null)):pe(n,i,e),this.v=2}}else 3==this.v&&(t?An(this,t):0==this.g.length||tn(this.b)||An(this))},o.Aa=function(){if(this.j=null,jn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(v(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Nn(this),jn(this))},o.Ra=function(){null!=this.m&&(this.m=null,Nn(this),Dn(this),Jt(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Jt(2)):(this.c.info("Failed to ping google.com"),Jt(1))},(o=zn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Gn.prototype.a=function(t,e){return new Kn(t,e)},_(Kn,It),(o=Kn.prototype).addEventListener=function(t,e,n,r){Kn.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){Kn.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Jt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Bn(t,null,t.fa),On(t)},o.close=function(){Tn(this.a)},o.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,kn(this.a,e)}else this.g?((e={}).__data__=Ct(t),kn(this.a,e)):kn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,Tn(this.a),delete this.a,Kn.S.G.call(this)},_(Qn,ae),_(Yn,ue),_($n,zn),$n.prototype.ta=function(){this.a.dispatchEvent("a")},$n.prototype.sa=function(t){this.a.dispatchEvent(new Qn(t))},$n.prototype.ra=function(t){this.a.dispatchEvent(new Yn(t))},$n.prototype.qa=function(){this.a.dispatchEvent("b")},Gn.prototype.createWebChannel=Gn.prototype.a,Kn.prototype.send=Kn.prototype.Pa,Kn.prototype.open=Kn.prototype.Oa,Kn.prototype.close=Kn.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",ie.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",It.prototype.listen=It.prototype.va,fn.prototype.listenOnce=fn.prototype.wa,fn.prototype.getLastError=fn.prototype.Qa,fn.prototype.getLastErrorCode=fn.prototype.ua,fn.prototype.getStatus=fn.prototype.X,fn.prototype.getResponseJson=fn.prototype.Na,fn.prototype.getResponseText=fn.prototype.$,fn.prototype.send=fn.prototype.ba;var Xn=function(){return new Gn},Jn=ee,Zn=ne,tr=ie,er=fn;e.default={createWebChannelTransport:Xn,ErrorCode:Jn,EventType:Zn,WebChannel:tr,XhrIo:er}},xbPD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t=null){return e=>e.lift(new o(t))}class o{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new s(t,this.defaultValue))}}class s extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xgIS:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("DH7j"),o=n("n6bG"),s=n("lJxs");function a(t,e,n,u){return Object(o.a)(n)&&(u=n,n=void 0),u?a(t,e,n).pipe(Object(s.a)(t=>Object(i.a)(t)?u(...t):u(t))):new r.a(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i=n("AytR"),o=n("ofXK");class s extends o.q{constructor(){super()}supportsDOMEvents(){return!0}}class a extends s{static makeCurrent(){Object(o.u)(new a)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=c||(c=document.querySelector("base"),c)?c.getAttribute("href"):null;return null==e?null:(n=e,u||(u=document.createElement("a")),u.setAttribute("href",n),"/"===u.pathname.charAt(0)?u.pathname:"/"+u.pathname);var n}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(o.t)(document.cookie,t)}}let u,c=null;const l=new r.q("TRANSITION_ID"),h=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=Object(o.s)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[l,o.d,r.r],multi:!0}];class f{static init(){Object(r.W)(new f)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Object(o.s)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const d=new r.q("EventManagerPlugins");let p=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(d),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class g{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Object(o.s)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let m=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t extends m{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(o.s)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o.d))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},y=/%COMP%/g;function _(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?_(t,i,n):(i=i.replace(y,t),n.push(i))}return n}function w(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let E=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new I(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new S(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new C(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=_(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(p),r.Rb(v),r.Rb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class I{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(b[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=b[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=b[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,w(n)):this.eventManager.addEventListener(t,e,w(n))}}class S extends I{constructor(t,e,n,r){super(t),this.component=n;const i=_(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(y,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(y,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class C extends I{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=_(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let T=(()=>{class t extends g{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o.d))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const N=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},k={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},O={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let A=(()=>{class t extends g{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(o.s)().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(N.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&k.hasOwnProperty(e)&&(e=k[e]))}return x[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),N.forEach(r=>{r!=n&&(0,O[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o.d))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return Object(r.Rb)(P)},token:t,providedIn:"root"}),t})(),P=(()=>{class t extends R{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.cb)(e,"HTML")?Object(r.ub)(e):Object(r.ab)(this._doc,String(e));case r.H.STYLE:return Object(r.cb)(e,"Style")?Object(r.ub)(e):e;case r.H.SCRIPT:if(Object(r.cb)(e,"Script"))return Object(r.ub)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.mb)(e),Object(r.cb)(e,"URL")?Object(r.ub)(e):Object(r.bb)(String(e));case r.H.RESOURCE_URL:if(Object(r.cb)(e,"ResourceURL"))return Object(r.ub)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.db)(t)}bypassSecurityTrustStyle(t){return Object(r.gb)(t)}bypassSecurityTrustScript(t){return Object(r.fb)(t)}bypassSecurityTrustUrl(t){return Object(r.hb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.eb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o.d))},t.\u0275prov=Object(r.Gb)({factory:function(){return t=Object(r.Rb)(r.o),new P(t.get(o.d));var t},token:t,providedIn:"root"}),t})();const M=[{provide:r.B,useValue:o.r},{provide:r.C,useValue:function(){a.makeCurrent(),f.init()},multi:!0},{provide:o.d,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],D=Object(r.R)(r.V,"browser",M),L=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:d,useClass:T,multi:!0,deps:[o.d,r.z,r.B]},{provide:d,useClass:A,multi:!0,deps:[o.d]},[],{provide:E,useClass:E,deps:[p,v,r.c]},{provide:r.E,useExisting:E},{provide:m,useExisting:v},{provide:v,useClass:v,deps:[o.d]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:p,useClass:p,deps:[d,r.z]},[]];let j=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:l,useExisting:r.c},h]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(t,12))},providers:L,imports:[o.c,r.f]}),t})();"undefined"!=typeof window&&window;let F=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static init(e){const n=new t;return n.store=e,n}get(t,e){return void 0!==this.store[t]?this.store[t]:e}set(t,e){this.store[t]=e}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}onSerialize(t,e){this.onSerializeCallbacks[t]=e}toJson(){for(const e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function U(t,e){const n=t.getElementById(e+"-state");let r={};if(n&&n.textContent)try{r=JSON.parse(function(t){const e={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return t.replace(/&[^;]+;/g,t=>e[t])}(n.textContent))}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return F.init(r)}let V=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:F,useFactory:U,deps:[o.d,r.c]}]}),t})();var q=n("vz+L"),H=n("MMa0"),B=n("6233"),W=n("tyNb"),z=n("5EfC");const G=function(){return["/tours","ExploreK-2"]},K=function(){return["/tripdetail","ExploreK-2"]},Q=function(){return["/tripdetail","nangaparbat"]},Y=function(){return["/tripdetail","broadpeak"]},$=function(){return["/tripdetail","GasherbrumI"]},X=function(){return["/tripdetail","GasherbrumII"]},J=function(){return["/tripdetail","GasherbrumIII"]},Z=function(){return["/tripdetail","GasherbrumIV"]},tt=function(){return["/tripdetail","Musherbrum"]},et=function(){return["/tripdetail","Diranpeak"]},nt=function(){return["/tripdetail","Rakaposhi"]},rt=function(){return["/tripdetail","chongo"]},it=function(){return["/tripdetail","K-7"]},ot=function(){return["/tripdetail","K-6"]},st=function(){return["/tripdetail","spantik"]},at=function(){return["/tripdetail","Muztaghtower"]},ut=function(){return["/tripdetail","trangotower"]},ct=function(){return["/tripdetail","UliBiaho"]},lt=function(){return["/tripdetail","AinaBrakk"]},ht=function(){return["/tripdetail","ShiptonSpire"]},ft=function(){return["/tripdetail","LatokPeakI"]},dt=function(){return["/tripdetail","LatokPeakII"]},pt=function(){return["/tripdetail","LatokPeakIII"]},gt=function(){return["/tripdetail","LatokPeakIV"]},mt=function(){return["/tripdetail","OgrePeak"]},vt=function(){return["/tripdetail","BainthaBrakk"]},bt=function(){return["/tripdetail","LadyFinger"]},yt=function(){return["/tripdetail","K-2GhandogoroLaTrek"]},_t=function(){return["/tripdetail","BiafoHishperSnowLakeTrek"]},wt=function(){return["/tripdetail","BaturaTrek"]},Et=function(){return["/tripdetail","WakhanCorridorTrek"]},It=function(){return["/tripdetail","NangmaValley"]},St=function(){return["/tripdetail","K-7ValleyTrek"]},Ct=function(){return["/tripdetail","RakaposhiBasecampTrek"]},Tt=function(){return["/tripdetail","NangaParbatFairyMeadowsTrek"]},Nt=function(){return["/tripdetail","NorthernJeepSafari"]},xt=function(){return["/tripdetail","NorthernTours"]},kt=function(){return["/tripdetail","Hunza Valley Short Tour"]},Ot=function(){return["/tripdetail","Hunting"]},At=function(){return["/tripdetail","Kayaking"]},Rt=function(){return["/tripdetail","Rafting"]},Pt=function(){return["/tripdetail","Photography"]},Mt=function(){return["/tripdetail","Documentary"]},Dt=function(){return["/findatrip","all"]};let Lt=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}resetPwd(){this.authService.sendPasswordResetEmail()}onLogout(){this.authService.logout()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(z.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-header"]],decls:237,vars:88,consts:[["id","mySidenav",1,"sidenav"],["href","javascript:void(0)","onclick","closeNav()",1,"closebtn"],[3,"routerLink"],["href","./nanga_parbat_m.html"],["href","./broadpeak.html"],["href","./Gasherbrum1.html"],["href","./Gasherbrum2.html"],["href","./Gasherbrum3.html"],["href","./Gasherbrum4.html"],["href","./Musherbrum.html"],["href","./Diranpeak.html"],["href","./Rakaposhi.html"],["href","./chongo.html"],["href","./k7.html"],["href","./k6.html"],["href","./spantik.html"],["href","./Muztaghtower.html"],["id","mySidenav1",1,"sidenav"],["href","javascript:void(0)","onclick","closeNav1()",1,"closebtn"],["href","./trangotower.html"],["href","./Ulibiaho.html"],["href","./Ainabrakk.html"],["href","./Shiptonspire.html"],["href","./Latokpeak1.html"],["href","./Latokpeak2.html"],["href","./Latokpeak3.html"],["href","./Latokpeak4.html"],["href","./Ogrepeak.html"],["href","./Bainthabrakk.html"],["href","./Ladyfinger.html"],["id","mySidenav2",1,"sidenav"],["href","javascript:void(0)","onclick","closeNav2()",1,"closebtn"],["href","./K-2-Ghandogoro.html"],["href","./biafo_trek.html"],["href","./Baturatrek.html"],["href","./wakhan_corridor.html"],["href","./Nangmavalley.html"],["href","./K7valley.html"],["href","./RakaposhiTrek.html"],["href","./nanga_parbat.html"],["id","mySidenav3",1,"sidenav"],["href","javascript:void(0)","onclick","closeNav3()",1,"closebtn"],["href","./baltistan_jeep.html"],["href","./northtours.html"],["href","./hunza_velley.html"],["id","mySidenav4",1,"sidenav"],["href","javascript:void(0)","onclick","closeNav4()",1,"closebtn"],["href","./hunting.html"],["href","./Kayaking.html"],["href","./rafting.html"],["href","./photography.html"],["href","./documentary.html"],[1,"wroppp"],["id","sticky254",1,"sticky22"],[1,"minetak","navbar","w-100","navbar-expand-md","navbar-dark",2,"background-color","none"],["id","logo_area"],["id","logo"],["href","/"],["src","./assets/logo1.png","alt","TAK PAKISTAN"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"menee","collapse","navbar-collapse"],[1,"autodpd2"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["href","#",1,"nav-link","link11"],["onclick","openNav()",1,"nav-item","dropdown","link85","tav11"],["href","#","onclick","openNav()","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link11","tav11"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","matk"],["routerLinkActive","on",1,"dropdown-item","ownyt",3,"routerLink"],[1,"dropdown-item","ownyt",3,"routerLink"],["onclick","openNav1()",1,"nav-item","dropdown","link85","tav11"],["href","#","onclick","openNav1()","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link11","tav11"],["onclick","openNav2()",1,"nav-item","dropdown","link85","tav11"],["href","#","onclick","openNav2()","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link11","tav11"],["onclick","openNav3()",1,"nav-item","dropdown","link85","tav11"],["href","#","onclick","openNav3()","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link11","tav11"],["onclick","openNav4()",1,"nav-item","dropdown","link85","tav11"],["href","#","onclick","openNav4()","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link11","tav11"],[1,"nav-item","dropdown","link85"],["href","/what-we-do",1,"nav-link11"],["href","/tak-experience",1,"nav-link11"],["href","/whytak",1,"nav-link11"],[1,"nav-item","dropdown","tfbt","link85"],[1,"nav-link11","pin_marker",3,"routerLink"],["src","./assets/pin.png","alt",".."],["id","sticky256",1,"mats"],[1,"pp2"],["href","begin_plan.html",1,"start-planning-nav-button"],[1,"pp"],["href","tel:+923345357208",1,"start-planning-nav-button"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"a",1),r.pc(2,"\xd7"),r.Mb(),r.Nb(3,"a",2),r.pc(4,"Explore K-2"),r.Mb(),r.Nb(5,"a",3),r.pc(6,"Nanga Parbat"),r.Mb(),r.Nb(7,"a",4),r.pc(8,"Broad Peak"),r.Mb(),r.Nb(9,"a",5),r.pc(10,"Gasherbrum I"),r.Mb(),r.Nb(11,"a",6),r.pc(12,"Gasherbrum II"),r.Mb(),r.Nb(13,"a",7),r.pc(14,"Gasherbrum III"),r.Mb(),r.Nb(15,"a",8),r.pc(16,"Gasherbrum IV"),r.Mb(),r.Nb(17,"a",9),r.pc(18,"Musherbrum"),r.Mb(),r.Nb(19,"a",10),r.pc(20,"Diran Peak"),r.Mb(),r.Nb(21,"a",11),r.pc(22,"Rakaposhi"),r.Mb(),r.Nb(23,"a",12),r.pc(24,"Chogolisa"),r.Mb(),r.Nb(25,"a",13),r.pc(26,"K-7"),r.Mb(),r.Nb(27,"a",14),r.pc(28,"K-6"),r.Mb(),r.Nb(29,"a",15),r.pc(30,"Spang Tik Expidition"),r.Mb(),r.Nb(31,"a",16),r.pc(32,"Muztagh Tower"),r.Mb(),r.Mb(),r.Nb(33,"div",17),r.Nb(34,"a",18),r.pc(35,"\xd7"),r.Mb(),r.Nb(36,"a",19),r.pc(37,"Trango Tower"),r.Mb(),r.Nb(38,"a",20),r.pc(39,"Uli Biaho"),r.Mb(),r.Nb(40,"a",21),r.pc(41,"Aina Brakk"),r.Mb(),r.Nb(42,"a",22),r.pc(43,"Shipton Spire"),r.Mb(),r.Nb(44,"a",23),r.pc(45,"Latok Peak I"),r.Mb(),r.Nb(46,"a",24),r.pc(47,"Latok Peak II"),r.Mb(),r.Nb(48,"a",25),r.pc(49,"Latok Peak III"),r.Mb(),r.Nb(50,"a",26),r.pc(51,"Latok Peak IV"),r.Mb(),r.Nb(52,"a",27),r.pc(53,"Ogre Peak"),r.Mb(),r.Nb(54,"a",28),r.pc(55,"Baintha Brakk"),r.Mb(),r.Nb(56,"a",29),r.pc(57,"Ladyfinger Peak"),r.Mb(),r.Mb(),r.Nb(58,"div",30),r.Nb(59,"a",31),r.pc(60,"\xd7"),r.Mb(),r.Nb(61,"a",32),r.pc(62,"K-2 Ghandogoro La Trek"),r.Mb(),r.Nb(63,"a",33),r.pc(64,"Biafo Hishper Snow Lake Trek"),r.Mb(),r.Nb(65,"a",34),r.pc(66,"Batura Trek"),r.Mb(),r.Nb(67,"a",35),r.pc(68,"Wakhan Corridor Trek"),r.Mb(),r.Nb(69,"a",36),r.pc(70,"Nangma Valley"),r.Mb(),r.Nb(71,"a",37),r.pc(72,"K-7 Valley Trek"),r.Mb(),r.Nb(73,"a",38),r.pc(74,"Rakaposhi Basecamp Trek"),r.Mb(),r.Nb(75,"a",39),r.pc(76,"Nanga Parbat Fairy Meadows Trek"),r.Mb(),r.Mb(),r.Nb(77,"div",40),r.Nb(78,"a",41),r.pc(79,"\xd7"),r.Mb(),r.Nb(80,"a",42),r.pc(81,"Northern Jeep Safari"),r.Mb(),r.Nb(82,"a",43),r.pc(83,"Northern Tours"),r.Mb(),r.Nb(84,"a",44),r.pc(85,"Hunza Valley Short Tour"),r.Mb(),r.Mb(),r.Nb(86,"div",45),r.Nb(87,"a",46),r.pc(88,"\xd7"),r.Mb(),r.Nb(89,"a",47),r.pc(90,"Hunting"),r.Mb(),r.Nb(91,"a",48),r.pc(92,"Kayaking"),r.Mb(),r.Nb(93,"a",49),r.pc(94,"Rafting"),r.Mb(),r.Nb(95,"a",50),r.pc(96,"Photography"),r.Mb(),r.Nb(97,"a",51),r.pc(98,"Documentary"),r.Mb(),r.Mb(),r.Nb(99,"div",52),r.Nb(100,"div",53),r.Nb(101,"nav",54),r.Nb(102,"div",55),r.Nb(103,"div",56),r.Nb(104,"a",57),r.Lb(105,"img",58),r.Mb(),r.Mb(),r.Mb(),r.Nb(106,"button",59),r.Lb(107,"span",60),r.Mb(),r.Nb(108,"div",61),r.Nb(109,"div",62),r.Nb(110,"ul",63),r.Nb(111,"li",64),r.Lb(112,"a",65),r.Mb(),r.Nb(113,"li",66),r.Nb(114,"a",67),r.pc(115," Mountaineering"),r.Mb(),r.Nb(116,"div",68),r.Nb(117,"a",69),r.pc(118,"Explore K-2"),r.Mb(),r.Nb(119,"a",69),r.pc(120,"Nanga Parbat"),r.Mb(),r.Nb(121,"a",69),r.pc(122,"Broad Peak"),r.Mb(),r.Nb(123,"a",70),r.pc(124,"Gasherbrum I"),r.Mb(),r.Nb(125,"a",70),r.pc(126,"Gasherbrum II"),r.Mb(),r.Nb(127,"a",70),r.pc(128,"Gasherbrum III"),r.Mb(),r.Nb(129,"a",70),r.pc(130,"Gasherbrum IV"),r.Mb(),r.Nb(131,"a",70),r.pc(132,"Musherbrum"),r.Mb(),r.Nb(133,"a",70),r.pc(134,"Diran Peak"),r.Mb(),r.Nb(135,"a",70),r.pc(136,"Rakaposhi"),r.Mb(),r.Nb(137,"a",70),r.pc(138,"Chogolisa"),r.Mb(),r.Nb(139,"a",70),r.pc(140,"K-7"),r.Mb(),r.Nb(141,"a",70),r.pc(142,"K-6"),r.Mb(),r.Nb(143,"a",70),r.pc(144,"Spang Tik Expidition"),r.Mb(),r.Nb(145,"a",70),r.pc(146,"Muztagh Tower"),r.Mb(),r.Mb(),r.Mb(),r.Nb(147,"li",71),r.Nb(148,"a",72),r.pc(149," Rock Climbing"),r.Mb(),r.Nb(150,"div",68),r.Nb(151,"a",70),r.pc(152,"Trango Tower"),r.Mb(),r.Nb(153,"a",70),r.pc(154,"Uli Biaho"),r.Mb(),r.Nb(155,"a",70),r.pc(156,"Aina Brakk"),r.Mb(),r.Nb(157,"a",70),r.pc(158,"Shipton Spire"),r.Mb(),r.Nb(159,"a",70),r.pc(160,"Latok Peak I"),r.Mb(),r.Nb(161,"a",70),r.pc(162,"Latok Peak II"),r.Mb(),r.Nb(163,"a",70),r.pc(164,"Latok Peak III"),r.Mb(),r.Nb(165,"a",70),r.pc(166,"Latok Peak IV"),r.Mb(),r.Nb(167,"a",70),r.pc(168,"Ogre Peak"),r.Mb(),r.Nb(169,"a",70),r.pc(170,"Baintha Brakk"),r.Mb(),r.Nb(171,"a",70),r.pc(172,"Lady Finger"),r.Mb(),r.Mb(),r.Mb(),r.Nb(173,"li",73),r.Nb(174,"a",74),r.pc(175," Trekking"),r.Mb(),r.Nb(176,"div",68),r.Nb(177,"a",70),r.pc(178,"K-2 Ghandogoro La Trek"),r.Mb(),r.Nb(179,"a",70),r.pc(180,"Biafo Hishper Snow Lake Trek"),r.Mb(),r.Nb(181,"a",70),r.pc(182,"Batura Trek"),r.Mb(),r.Nb(183,"a",70),r.pc(184,"Wakhan Corridor Trek"),r.Mb(),r.Nb(185,"a",70),r.pc(186,"Nangma Valley"),r.Mb(),r.Nb(187,"a",70),r.pc(188,"K-7 Valley Trek"),r.Mb(),r.Nb(189,"a",70),r.pc(190,"Rakaposhi Basecamp Trek"),r.Mb(),r.Nb(191,"a",70),r.pc(192,"Nanga Parbat Fairy Meadows Trek"),r.Mb(),r.Mb(),r.Mb(),r.Nb(193,"li",75),r.Nb(194,"a",76),r.pc(195," Tours"),r.Mb(),r.Nb(196,"div",68),r.Nb(197,"a",70),r.pc(198,"Northern Jeep Safari"),r.Mb(),r.Nb(199,"a",70),r.pc(200,"Northern Tours"),r.Mb(),r.Nb(201,"a",70),r.pc(202,"Hunza Valley Short Tour"),r.Mb(),r.Mb(),r.Mb(),r.Nb(203,"li",77),r.Nb(204,"a",78),r.pc(205," Special Interest"),r.Mb(),r.Nb(206,"div",68),r.Nb(207,"a",70),r.pc(208,"Hunting"),r.Mb(),r.Nb(209,"a",70),r.pc(210,"Kayaking"),r.Mb(),r.Nb(211,"a",70),r.pc(212,"Rafting"),r.Mb(),r.Nb(213,"a",70),r.pc(214,"Photography"),r.Mb(),r.Nb(215,"a",70),r.pc(216,"Documentary"),r.Mb(),r.Mb(),r.Mb(),r.Nb(217,"li",79),r.Nb(218,"a",80),r.pc(219," What We Do"),r.Mb(),r.Mb(),r.Nb(220,"li",79),r.Nb(221,"a",81),r.pc(222," TAK Experiences"),r.Mb(),r.Mb(),r.Nb(223,"li",79),r.Nb(224,"a",82),r.pc(225," Why TAK"),r.Mb(),r.Mb(),r.Nb(226,"li",83),r.Nb(227,"a",84),r.Lb(228,"img",85),r.pc(229,"Trip Finder"),r.Mb(),r.Mb(),r.Mb(),r.Nb(230,"div",86),r.Nb(231,"p",87),r.Nb(232,"a",88),r.pc(233,"Start Planning"),r.Mb(),r.Mb(),r.Nb(234,"p",89),r.Nb(235,"a",90),r.pc(236," +92.334.5357208"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.yb(3),r.bc("routerLink",r.ec(44,G)),r.yb(114),r.bc("routerLink",r.ec(45,K)),r.yb(2),r.bc("routerLink",r.ec(46,Q)),r.yb(2),r.bc("routerLink",r.ec(47,Y)),r.yb(2),r.bc("routerLink",r.ec(48,$)),r.yb(2),r.bc("routerLink",r.ec(49,X)),r.yb(2),r.bc("routerLink",r.ec(50,J)),r.yb(2),r.bc("routerLink",r.ec(51,Z)),r.yb(2),r.bc("routerLink",r.ec(52,tt)),r.yb(2),r.bc("routerLink",r.ec(53,et)),r.yb(2),r.bc("routerLink",r.ec(54,nt)),r.yb(2),r.bc("routerLink",r.ec(55,rt)),r.yb(2),r.bc("routerLink",r.ec(56,it)),r.yb(2),r.bc("routerLink",r.ec(57,ot)),r.yb(2),r.bc("routerLink",r.ec(58,st)),r.yb(2),r.bc("routerLink",r.ec(59,at)),r.yb(6),r.bc("routerLink",r.ec(60,ut)),r.yb(2),r.bc("routerLink",r.ec(61,ct)),r.yb(2),r.bc("routerLink",r.ec(62,lt)),r.yb(2),r.bc("routerLink",r.ec(63,ht)),r.yb(2),r.bc("routerLink",r.ec(64,ft)),r.yb(2),r.bc("routerLink",r.ec(65,dt)),r.yb(2),r.bc("routerLink",r.ec(66,pt)),r.yb(2),r.bc("routerLink",r.ec(67,gt)),r.yb(2),r.bc("routerLink",r.ec(68,mt)),r.yb(2),r.bc("routerLink",r.ec(69,vt)),r.yb(2),r.bc("routerLink",r.ec(70,bt)),r.yb(6),r.bc("routerLink",r.ec(71,yt)),r.yb(2),r.bc("routerLink",r.ec(72,_t)),r.yb(2),r.bc("routerLink",r.ec(73,wt)),r.yb(2),r.bc("routerLink",r.ec(74,Et)),r.yb(2),r.bc("routerLink",r.ec(75,It)),r.yb(2),r.bc("routerLink",r.ec(76,St)),r.yb(2),r.bc("routerLink",r.ec(77,Ct)),r.yb(2),r.bc("routerLink",r.ec(78,Tt)),r.yb(6),r.bc("routerLink",r.ec(79,Nt)),r.yb(2),r.bc("routerLink",r.ec(80,xt)),r.yb(2),r.bc("routerLink",r.ec(81,kt)),r.yb(6),r.bc("routerLink",r.ec(82,Ot)),r.yb(2),r.bc("routerLink",r.ec(83,At)),r.yb(2),r.bc("routerLink",r.ec(84,Rt)),r.yb(2),r.bc("routerLink",r.ec(85,Pt)),r.yb(2),r.bc("routerLink",r.ec(86,Mt)),r.yb(12),r.bc("routerLink",r.ec(87,Dt)))},directives:[W.f,W.e],styles:[""]}),t})();function jt(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div"),r.Nb(1,"li",17),r.Nb(2,"button"),r.Nb(3,"a",43),r.pc(4,"Admin"),r.Mb(),r.Mb(),r.Nb(5,"button"),r.Nb(6,"a",44),r.Ub("click",(function(){return r.hc(t),r.Yb().onLogout()})),r.pc(7,"Logout"),r.Mb(),r.Mb(),r.Mb(),r.Mb()}}function Ft(t,e){1&t&&(r.Nb(0,"div"),r.Nb(1,"li",17),r.Nb(2,"a",45),r.pc(3,"Login"),r.Mb(),r.Mb(),r.Mb())}const Ut=function(){return["/touroptions","mountaineering"]},Vt=function(){return["/touroptions","rockclimbing"]},qt=function(){return["/touroptions","trekking"]},Ht=function(){return["/touroptions","tours"]},Bt=function(){return["/touroptions","special"]},Wt=function(){return["/findatrip","all"]};let zt=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}resetPwd(){this.authService.sendPasswordResetEmail()}onLogout(){this.authService.logout()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(z.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-footer"]],decls:76,vars:20,consts:[[1,"footer"],[1,"wrapper"],[1,"logos"],["routerLink","/",1,"footer-logo",2,"text-decoration","none"],["src","./assets/logo1.png",2,"padding-right","10px","width","250px"],["href","https://www.facebook.com/takPakistan","target","_blank","title","Facebook"],["src","./assets/fb-icon.png",2,"width","60px"],[1,"desktop-menu"],[1,"lft","menu"],[1,"menu-about-container"],["id","menu-about",1,"menu"],["id","menu-item-49029",1,"menu-item","menu-item-type-post_type","menu-item-object-page","menu-item-has-children","menu-item-49029"],["href","/since2007"],["id","menu-item-49032",1,"menu-item","menu-item-type-post_type","menu-item-object-page","menu-item-49032"],["href","/tak-experience"],["id","menu-item-81939",1,"menu-item","menu-item-type-post_type","menu-item-object-page","menu-item-81939"],["href","what-we-do"],["id","menu-item-42123",1,"menu-item","menu-item-type-post_type","menu-item-object-page","menu-item-42123"],["href","/whytak"],[4,"ngIf"],[1,"mid","menu"],[1,"lft"],[1,"menu-find-lft-container"],["id","menu-find-lft",1,"menu"],["id","menu-item-35165",1,"menu-item","menu-item-type-post_type","menu-item-object-page","menu-item-35165"],[3,"routerLink"],["id","menu-item-82118",1,"menu-item","menu-item-type-post_type","menu-item-object-page","menu-item-82118"],["id","menu-item-49122",1,"menu-item","menu-item-type-post_type","menu-item-object-page","menu-item-49122"],[1,"menu","rgt"],[1,"menu-more-container"],["id","menu-more",1,"menu"],["id","menu-item-4431",1,"menu-item","menu-item-type-custom","menu-item-object-custom","menu-item-4431"],["href","/begin-plan"],["id","menu-item-199",1,"menu-item","menu-item-type-post_type","menu-item-object-page","menu-item-199"],["id","menu-item-26913",1,"menu-item","menu-item-type-post_type","menu-item-object-page","menu-item-26913"],["href","/Contact-us"],[1,"card","text-center"],[1,"card-1"],[2,"color","white"],[1,"footer_menu_area"],[2,"font-family","Gotham SSm A,Gotham SSm B","color","#999"],["href","/Contact-us",2,"text-decoration","none","color","#fff"],["href","tel:+923345357208",2,"text-decoration","none","color","#fff"],["routerLink","/admin/adminPanelHome"],["href","#",3,"click"],["routerLink","/login"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"a",3),r.Lb(4,"img",4),r.Mb(),r.Nb(5,"a",5),r.Lb(6,"img",6),r.Mb(),r.Mb(),r.Nb(7,"div",7),r.Nb(8,"div",8),r.Nb(9,"h3"),r.pc(10,"ABOUT US"),r.Mb(),r.Nb(11,"div",9),r.Nb(12,"ul",10),r.Nb(13,"li",11),r.Nb(14,"a",12),r.pc(15,"Since 2007"),r.Mb(),r.Mb(),r.Nb(16,"li",13),r.Nb(17,"a",14),r.pc(18,"Our Experiences"),r.Mb(),r.Mb(),r.Nb(19,"li",15),r.Nb(20,"a",16),r.pc(21," What We Do"),r.Mb(),r.Mb(),r.Nb(22,"li",17),r.Nb(23,"a",18),r.pc(24,"Why Us"),r.Mb(),r.Mb(),r.Nb(25,"li",17),r.oc(26,jt,8,0,"div",19),r.Zb(27,"async"),r.oc(28,Ft,4,0,"div",19),r.Zb(29,"async"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(30,"div",20),r.Nb(31,"h3"),r.pc(32,"FIND TRIPS"),r.Mb(),r.Nb(33,"div",21),r.Nb(34,"div",22),r.Nb(35,"ul",23),r.Nb(36,"li",24),r.Nb(37,"a",25),r.pc(38,"Mountaineering"),r.Mb(),r.Mb(),r.Nb(39,"li",26),r.Nb(40,"a",25),r.pc(41,"Rock Climbing"),r.Mb(),r.Mb(),r.Nb(42,"li",27),r.Nb(43,"a",25),r.pc(44,"Trekking"),r.Mb(),r.Mb(),r.Nb(45,"li",24),r.Nb(46,"a",25),r.pc(47,"Tours"),r.Mb(),r.Mb(),r.Nb(48,"li",26),r.Nb(49,"a",25),r.pc(50,"Special Interest"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(51,"div",28),r.Nb(52,"h3"),r.pc(53,"MORE TAK"),r.Mb(),r.Nb(54,"div",29),r.Nb(55,"ul",30),r.Nb(56,"li",31),r.Nb(57,"a",32),r.pc(58,"Start Planning"),r.Mb(),r.Mb(),r.Nb(59,"li",33),r.Nb(60,"a",25),r.pc(61,"Find Offers"),r.Mb(),r.Mb(),r.Nb(62,"li",34),r.Nb(63,"a",35),r.pc(64,"Contact Us"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(65,"div",36),r.Nb(66,"div",37),r.Nb(67,"H3",38),r.pc(68,"TRAVEL AMAZING KARAKORAM"),r.Mb(),r.Mb(),r.Nb(69,"div",39),r.Nb(70,"h5",40),r.pc(71," \xa9 2020 TRAVEL AMAZING KARAKORAM. All Rights Reserved | "),r.Nb(72,"a",41),r.pc(73,"Contact Us"),r.Mb(),r.Nb(74,"a",42),r.pc(75," +92-334-5357208"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.yb(2),r.nc("background-image","url(./assets/logo1.png) no repeat"),r.yb(24),r.bc("ngIf",r.ac(27,10,e.authService.user)),r.yb(2),r.bc("ngIf",!r.ac(29,12,e.authService.user)),r.yb(9),r.bc("routerLink",r.ec(14,Ut)),r.yb(3),r.bc("routerLink",r.ec(15,Vt)),r.yb(3),r.bc("routerLink",r.ec(16,qt)),r.yb(3),r.bc("routerLink",r.ec(17,Ht)),r.yb(3),r.bc("routerLink",r.ec(18,Bt)),r.yb(11),r.bc("routerLink",r.ec(19,Wt)))},directives:[W.f,o.k],pipes:[o.b],encapsulation:2}),t})(),Gt=(()=>{class t{constructor(t,e){this.router=t,this.renderer=e}onSelectMenu(t){const e=document.getElementById("bd-docs-nav");this.renderer.removeClass(e,"show"),this.router.navigate(["/"+t])}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(W.c),r.Kb(r.D))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:5,vars:0,template:function(t,e){1&t&&(r.Nb(0,"header"),r.Lb(1,"app-header"),r.Mb(),r.Nb(2,"div"),r.Lb(3,"router-outlet"),r.Mb(),r.Lb(4,"app-footer"))},directives:[Lt,W.h,zt],styles:[""]}),t})();var Kt=n("um2w");const Qt=function(){return["/touroptions","mountaineering"]},Yt=function(){return["/touroptions","climbing"]},$t=function(){return["/touroptions","trekking"]},Xt=function(){return["/touroptions","tours"]},Jt=function(){return["/touroptions","special"]};let Zt=(()=>{class t{constructor(t){this.homeService=t.get(Kt.a),this.initialize()}initialize(){this.getcontents()}getcontents(){this.homeService.getlist("homepage").snapshotChanges().subscribe(t=>{this.homecontentlist=[],t.forEach(t=>{var e=t.payload.toJSON();for(var n of(e.$key=t.key,this.homecontentlist.push(e),this.items=this.homecontentlist,this.loaded=!0,this.homecontentlist))"1000"==n.id&&(this.id10000_data=n.data,this.id10000_img=n.image),"1001"==n.id&&(this.id10001_data=n.data,this.id10001_img=n.image),"1002"==n.id&&(this.id10002_data=n.data,this.id10002_img=n.image),"1003"==n.id&&(this.id10003_data=n.data,this.id10003_img=n.image),"1004"==n.id&&(this.id10004_data=n.data,this.id10004_title=n.title,this.id10004_img=n.image),"1005"==n.id&&(this.id10005_data=n.data,this.id10005_title=n.title,this.id10005_img=n.image),"1006"==n.id&&(this.id10006_data=n.data,this.id10006_title=n.title,this.id10006_img=n.image),"1007"==n.id&&(this.id10007_data=n.data,this.id10007_title=n.title,this.id10007_img=n.image),"1008"==n.id&&(this.id10008_data=n.data,this.id10008_title=n.title,this.id10008_img=n.image),"1009"==n.id&&(this.id109_data=n.data,this.id109_title=n.title,this.id109_img=n.image),"1010"==n.id&&(this.id110_data=n.data,this.id110_title=n.title,this.id110_img=n.image),"1011"==n.id&&(this.id111_data=n.data,this.id111_title=n.title,this.id111_img=n.image),"1012"==n.id&&(this.id112_data=n.data,this.id112_title=n.title,this.id112_img=n.image),"1013"==n.id&&(this.id113_data=n.data,this.id113_title=n.title,this.id113_img=n.image),"1016"==n.id&&(this.id116_data=n.data,this.id116_title=n.title,this.id116_img=n.image),"1017"==n.id&&(this.id117_data=n.data,this.id117_title=n.title,this.id117_img=n.image),"1018"==n.id&&(this.id118_data=n.data,this.id118_title=n.title,this.id118_img=n.image),"1019"==n.id&&(this.id119_data=n.data,this.id119_title=n.title,this.id119_img=n.image),"1021"==n.id&&(this.id121_data=n.data,this.id121_title=n.title,this.id121_img=n.image),"1022"==n.id&&(this.id122_data=n.data,this.id122_title=n.title,this.id122_img=n.image),"1023"==n.id&&(this.id123_data=n.data,this.id123_title=n.title,this.id123_img=n.image),"1024"==n.id&&(this.id124_data=n.data,this.id124_title=n.title,this.id124_img=n.image),"1025"==n.id&&(this.id125_data=n.data,this.id125_title=n.title,this.id125_img=n.image)})})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.r))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-home"]],decls:202,vars:49,consts:[[1,"cbody"],[1,"myhomediv"],["id","cont1 new",1,"count1","new"],["id","hometak","data-ride","carousel",1,"carousel","mysliderownone","slide","carousel-fade"],[1,"carousel-inner"],[1,"headimg","carousel-item","active"],["alt","...",1,"d-block","w-100",3,"src"],[1,"h25"],[1,"myfadingfect"],[1,"headimg","carousel-item"],[1,"holder","white","grey7"],[2,"display","inline-flex"],["novalidate","",1,"needs-validation","myform1",2,"display","inline-block"],["aria-hidden","true","focusable","false","data-prefix","fad","data-icon","paper-plane","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa","fa-paper-plane","fa-w-16","fa-lg"],[1,"fa-group"],["fill","currentColor","d","M245.53 410.5l-75 92.83c-14 17.1-42.5 7.8-42.5-15.8V358l280.26-252.77c5.5-4.9 13.3 2.6 8.6 8.3L191.72 387.87z",1,"fa-secondary"],["fill","currentColor","d","M511.59 28l-72 432a24.07 24.07 0 0 1-33 18.2l-214.87-90.33 225.17-274.34c4.7-5.7-3.1-13.2-8.6-8.3L128 358 14.69 313.83a24 24 0 0 1-2.2-43.2L476 3.23c17.29-10 39 4.6 35.59 24.77z",1,"fa-primary"],["name","myDestination1",1,"myfomr11","mdb-select","cur-dropdown","ftre12","type","ft11","validate","md-form","myfomr122"],["value","",2,"display","none"],["value",""],[2,"display","inline-block"],["name","myDestination",1,"myfomr11","mdb-select","cur-dropdown","ftre12","type","validate","md-form"],[3,"routerLink"],["id","go_mini","type","button","onclick","window.open(this.form.myDestination.options[this.form.myDestination.selectedIndex].value,'_top')","value","View Trips",1,"myfomr12"],[1,"message"],["href","/what-we-offer",1,"nav-link",2,"color","lemonchiffon"],[2,"font-size","large"],[1,"center","traveler"],[1,"what-sets",2,"user-select","none"],[1,"center56"],[1,"whath2"],[1,"whath1"],["href","/whytak",2,"text-decoration","none","font-family","'Segoe UI', Tahoma, Geneva, Verdana, sans-serif","font-size","24px"],[1,"fa","fa-chevron-circle-right"],[1,"whereever",2,"user-select","none"],[1,"text-center"],[1,"center",2,"user-select","none"],[2,"font-size","larger","text-align","center","color","teal"],[1,"center7"],[1,"rowss"],[1,"mydife"],["href","/personal-trips",1,"nav-linkp"],["id","card",1,"card"],[1,"card-title"],[1,"card-text1"],["alt","...","id","card",3,"src"],["href","/group_trips",1,"nav-linkp"],[1,"title2"],["id","myCarousel","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#myCarousel","data-slide-to","0",1,"active"],["data-target","#myCarousel","data-slide-to","1"],["data-target","#myCarousel","data-slide-to","2"],["data-target","#myCarousel","data-slide-to","3"],[1,"carousel-inner",2,"margin-left","300px"],[1,"item","active"],[1,"mycsscls1","rore1",2,"width","500px","height","350px"],["href","./K-2-Ghandogoro",1,"nav-linkp"],["id","card5",1,"card"],["id","erpq"],["alt","...",3,"src"],[1,"divown"],[1,"item"],["href","#myCarousel","role","button","data-slide","next",1,"right","carousel-control"],["aria-hidden","true",1,"glyphicon","glyphicon-chevron-right"],[1,"sr-only"],["href","#myCarousel","role","button","data-slide","prev",1,"left","carousel-control"],["aria-hidden","true",1,"glyphicon","glyphicon-chevron-left"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"div",3),r.Nb(4,"div",4),r.Nb(5,"div",5),r.Lb(6,"img",6),r.Nb(7,"div",7),r.pc(8,"Your "),r.Nb(9,"span",8),r.pc(10),r.Mb(),r.pc(11," Adventure Starts Here"),r.Mb(),r.Mb(),r.Nb(12,"div",9),r.Lb(13,"img",6),r.Nb(14,"div",7),r.pc(15,"Your "),r.Nb(16,"span",8),r.pc(17),r.Mb(),r.pc(18," Adventure Starts Here "),r.Mb(),r.Mb(),r.Nb(19,"div",9),r.Lb(20,"img",6),r.Nb(21,"div",7),r.pc(22,"Your "),r.Nb(23,"span",8),r.pc(24),r.Mb(),r.pc(25,"Rock Climbing Starts Here "),r.Mb(),r.Mb(),r.Nb(26,"div",9),r.Lb(27,"img",6),r.Nb(28,"div",7),r.pc(29,"Your "),r.Nb(30,"span",8),r.pc(31),r.Mb(),r.pc(32," Jeep Safari Starts Here"),r.Mb(),r.Mb(),r.Nb(33,"div",9),r.Lb(34,"img",6),r.Nb(35,"div",7),r.pc(36,"Your "),r.Nb(37,"span",8),r.pc(38),r.Mb(),r.pc(39," Starts Here"),r.Mb(),r.Mb(),r.Nb(40,"div",9),r.Lb(41,"img",6),r.Nb(42,"div",7),r.pc(43,"Your "),r.Nb(44,"span",8),r.pc(45),r.Mb(),r.pc(46," Starts Here"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(47,"div",10),r.Nb(48,"div",11),r.Nb(49,"form",12),r.Nb(50,"h3"),r.Nb(51,"span"),r.Xb(),r.Nb(52,"svg",13),r.Nb(53,"g",14),r.Lb(54,"path",15),r.Lb(55,"path",16),r.Mb(),r.Mb(),r.Mb(),r.pc(56," \xa0 I want to join\xa0"),r.Mb(),r.Wb(),r.Nb(57,"select",17),r.Nb(58,"option",18),r.pc(59,"\xa0"),r.Mb(),r.Nb(60,"option",19),r.pc(61,"with group"),r.Mb(),r.Nb(62,"option",19),r.pc(63,"privately"),r.Mb(),r.Mb(),r.Nb(64,"h3",20),r.pc(65,"of"),r.Mb(),r.Nb(66,"select",21),r.Nb(67,"option",18),r.pc(68,"\xa0"),r.Mb(),r.Nb(69,"option",22),r.pc(70,"Mountaineering"),r.Mb(),r.Nb(71,"option",22),r.pc(72,"Rock Climbing"),r.Mb(),r.Nb(73,"option",22),r.pc(74,"Trekking"),r.Mb(),r.Nb(75,"option",22),r.pc(76,"Tours"),r.Mb(),r.Nb(77,"option",22),r.pc(78,"Special Interest"),r.Mb(),r.Mb(),r.Lb(79,"input",23),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(80,"div",24),r.Nb(81,"a",25),r.Nb(82,"h1",26),r.pc(83),r.Mb(),r.Mb(),r.Mb(),r.Nb(84,"div",27),r.Nb(85,"p"),r.pc(86),r.Mb(),r.Mb(),r.Nb(87,"div",28),r.Nb(88,"div",29),r.Nb(89,"H1",30),r.pc(90),r.Mb(),r.Nb(91,"H1",31),r.pc(92),r.Nb(93,"a",32),r.pc(94,"Read more "),r.Lb(95,"i",33),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(96,"div",34),r.Lb(97,"br"),r.Nb(98,"h2",35),r.pc(99),r.Mb(),r.Mb(),r.Nb(100,"div",36),r.Nb(101,"h2",37),r.pc(102),r.Mb(),r.Lb(103,"br"),r.Mb(),r.Nb(104,"div",38),r.Nb(105,"div",39),r.Nb(106,"div",40),r.Nb(107,"a",41),r.Nb(108,"div",42),r.Nb(109,"h5",43),r.pc(110),r.Mb(),r.Nb(111,"p",44),r.pc(112),r.Lb(113,"i",33),r.Mb(),r.Lb(114,"img",45),r.Mb(),r.Mb(),r.Mb(),r.Nb(115,"div",40),r.Nb(116,"a",46),r.Nb(117,"div",42),r.Nb(118,"h5",43),r.pc(119),r.Mb(),r.Nb(120,"p",44),r.pc(121),r.Lb(122,"i",33),r.Mb(),r.Lb(123,"img",45),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(124,"div",47),r.Nb(125,"h2"),r.pc(126,"The "),r.Nb(127,"span"),r.pc(128,"Latest"),r.Mb(),r.pc(129," from TAK"),r.Mb(),r.Mb(),r.Nb(130,"div",48),r.Nb(131,"ol",49),r.Lb(132,"li",50),r.Lb(133,"li",51),r.Lb(134,"li",52),r.Lb(135,"li",53),r.Mb(),r.Nb(136,"div",54),r.Nb(137,"div",55),r.Nb(138,"div",56),r.Nb(139,"a",57),r.Nb(140,"div",58),r.Nb(141,"h5",43),r.pc(142),r.Mb(),r.Nb(143,"div",59),r.Lb(144,"img",60),r.Nb(145,"div",61),r.Nb(146,"p"),r.pc(147),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(148,"div",62),r.Nb(149,"div",56),r.Nb(150,"a",57),r.Nb(151,"div",58),r.Nb(152,"h5",43),r.pc(153),r.Mb(),r.Nb(154,"div",59),r.Lb(155,"img",60),r.Nb(156,"div",61),r.Nb(157,"p"),r.pc(158),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(159,"div",62),r.Nb(160,"div",56),r.Nb(161,"a",57),r.Nb(162,"div",58),r.Nb(163,"h5",43),r.pc(164),r.Mb(),r.Nb(165,"div",59),r.Lb(166,"img",60),r.Nb(167,"div",61),r.Nb(168,"p"),r.pc(169),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(170,"div",62),r.Nb(171,"div",56),r.Nb(172,"a",57),r.Nb(173,"div",58),r.Nb(174,"h5",43),r.pc(175),r.Mb(),r.Nb(176,"div",59),r.Lb(177,"img",60),r.Nb(178,"div",61),r.Nb(179,"p"),r.pc(180),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(181,"div",62),r.Nb(182,"div",56),r.Nb(183,"a",57),r.Nb(184,"div",58),r.Nb(185,"h5",43),r.pc(186),r.Mb(),r.Nb(187,"div",59),r.Lb(188,"img",60),r.Nb(189,"div",61),r.Nb(190,"p"),r.pc(191),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(192,"div"),r.Nb(193,"a",63),r.Lb(194,"span",64),r.Nb(195,"span",65),r.pc(196,"Next"),r.Mb(),r.Mb(),r.Mb(),r.Nb(197,"div"),r.Nb(198,"a",66),r.Lb(199,"span",67),r.Nb(200,"span",65),r.pc(201,"Previous"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.yb(6),r.cc("src",e.id10000_img,r.kc),r.yb(4),r.qc(e.id10000_data),r.yb(3),r.cc("src",e.id10001_img,r.kc),r.yb(4),r.qc(e.id10001_data),r.yb(3),r.cc("src",e.id10002_img,r.kc),r.yb(4),r.qc(e.id10002_data),r.yb(3),r.cc("src",e.id10003_img,r.kc),r.yb(4),r.qc(e.id10003_data),r.yb(3),r.cc("src",e.id10004_img,r.kc),r.yb(4),r.qc(e.id10004_data),r.yb(3),r.cc("src",e.id10005_img,r.kc),r.yb(4),r.qc(e.id10005_data),r.yb(24),r.bc("routerLink",r.ec(44,Qt)),r.yb(2),r.bc("routerLink",r.ec(45,Yt)),r.yb(2),r.bc("routerLink",r.ec(46,$t)),r.yb(2),r.bc("routerLink",r.ec(47,Xt)),r.yb(2),r.bc("routerLink",r.ec(48,Jt)),r.yb(6),r.rc(" ",e.id10006_data," "),r.yb(3),r.rc(" ",e.id10007_data," "),r.yb(4),r.qc(e.id10008_title),r.yb(2),r.rc(" ",e.id10008_data," "),r.yb(7),r.qc(e.id109_title),r.yb(3),r.rc(" ",e.id109_data,""),r.yb(8),r.qc(e.id110_title),r.yb(2),r.rc("",e.id110_data," "),r.yb(2),r.cc("src",e.id110_img,r.kc),r.yb(5),r.qc(e.id111_title),r.yb(2),r.qc(e.id111_data),r.yb(2),r.cc("src",e.id111_img,r.kc),r.yb(19),r.qc(e.id121_title),r.yb(2),r.cc("src",e.id121_img,r.kc),r.yb(3),r.rc("",e.id121_data," "),r.yb(6),r.qc(e.id122_title),r.yb(2),r.cc("src",e.id122_img,r.kc),r.yb(3),r.rc(" ",e.id122_data," "),r.yb(6),r.qc(e.id123_title),r.yb(2),r.cc("src",e.id123_img,r.kc),r.yb(3),r.qc(e.id123_data),r.yb(6),r.qc(e.id124_title),r.yb(2),r.cc("src",e.id124_img,r.kc),r.yb(3),r.qc(e.id124_data),r.yb(6),r.qc(e.id125_title),r.yb(2),r.cc("src",e.id125_img,r.kc),r.yb(3),r.qc(e.id125_data))},directives:[W.d],styles:[""]}),t})(),te=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-not-found"]],decls:2,vars:0,consts:[[1,"text-center"]],template:function(t,e){1&t&&(r.Nb(0,"p",0),r.pc(1,"Page not-found "),r.Mb())},styles:[""]}),t})();function ee(t,e){if(1&t&&r.Lb(0,"img",70),2&t){const t=r.Yb();r.cc("src",t.homedata1.image,r.kc)}}function ne(t,e){if(1&t&&(r.Nb(0,"h3",71),r.pc(1),r.Mb()),2&t){const t=r.Yb();r.yb(1),r.rc(" ",t.homedata1.title,"")}}function re(t,e){if(1&t&&(r.Nb(0,"h5"),r.pc(1),r.Mb()),2&t){const t=r.Yb();r.yb(1),r.qc(t.mduration)}}function ie(t,e){if(1&t&&(r.Nb(0,"h5"),r.pc(1),r.Mb()),2&t){const t=r.Yb();r.yb(1),r.rc("",t.maltitude," Meters")}}function oe(t,e){if(1&t&&(r.Nb(0,"h5"),r.pc(1),r.Mb()),2&t){const t=r.Yb();r.yb(1),r.qc(t.mbookingdate)}}function se(t,e){if(1&t&&(r.Nb(0,"div"),r.Lb(1,"p",72),r.Mb()),2&t){const t=e.$implicit;r.yb(1),r.bc("innerHTML",t.value,r.ic)}}function ae(t,e){if(1&t&&(r.Nb(0,"div",73),r.Nb(1,"span",74),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.qc(t.value)}}function ue(t,e){if(1&t&&(r.Nb(0,"div",73),r.Nb(1,"span",74),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.rc("",t.value," ")}}function ce(t,e){if(1&t&&(r.Nb(0,"div",75),r.Nb(1,"span",74),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.rc("\xa0 ",t.value," \xa0")}}function le(t,e){if(1&t&&r.Lb(0,"img",76),2&t){const t=r.Yb();r.cc("src",t.homedata2.image,r.kc)}}function he(t,e){if(1&t&&r.Lb(0,"img",76),2&t){const t=r.Yb();r.cc("src",t.homedata3.image,r.kc)}}function fe(t,e){if(1&t&&r.Lb(0,"img",76),2&t){const t=r.Yb();r.cc("src",t.homedata4.image,r.kc)}}function de(t,e){if(1&t&&r.Lb(0,"img",76),2&t){const t=r.Yb();r.cc("src",t.homedata5.image,r.kc)}}function pe(t,e){if(1&t&&r.Lb(0,"img",76),2&t){const t=r.Yb();r.cc("src",t.homedata6.image,r.kc)}}function ge(t,e){if(1&t&&r.Lb(0,"img",76),2&t){const t=r.Yb();r.cc("src",t.homedata7.image,r.kc)}}function me(t,e){if(1&t&&(r.Nb(0,"div",77),r.Nb(1,"div"),r.Nb(2,"p",78),r.pc(3),r.Mb(),r.Mb(),r.Mb()),2&t){const t=e.$implicit,n=r.Yb();r.Bb("owl-carousel daybyday-carousel ",n.item_para,""),r.yb(3),r.qc(t.value)}}function ve(t,e){if(1&t&&r.Lb(0,"div"),2&t){const t=r.Yb();r.mc("background-image: url(",t.homedata10.image,"); \n    background-repeat: no-repeat; width: 100%; height: 500px; background-size: 100% 500px;")}}function be(t,e){if(1&t&&r.Lb(0,"img",79),2&t){const t=r.Yb();r.cc("src",t.homedata9.image,r.kc)}}function ye(t,e){if(1&t&&(r.Nb(0,"div",80),r.Nb(1,"div"),r.Nb(2,"div"),r.Nb(3,"strong"),r.pc(4),r.Mb(),r.Nb(5,"ul"),r.Nb(6,"li"),r.pc(7),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(4),r.qc(t.name),r.yb(3),r.rc(" ",t.value," ")}}function _e(t,e){1&t&&(r.Nb(0,"h3"),r.pc(1,"General Services"),r.Mb())}function we(t,e){if(1&t&&(r.Nb(0,"ul"),r.Nb(1,"div",66),r.Nb(2,"li"),r.pc(3),r.Mb(),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(3),r.rc(" ",t.value," ")}}function Ee(t,e){1&t&&(r.Nb(0,"h4"),r.pc(1,"Staffs: "),r.Mb())}function Ie(t,e){if(1&t&&(r.Nb(0,"ul"),r.Nb(1,"li"),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.rc(" ",t.value," ")}}function Se(t,e){1&t&&(r.Nb(0,"h4"),r.pc(1,"Porters: "),r.Mb())}function Ce(t,e){if(1&t&&(r.Nb(0,"ul"),r.Nb(1,"li"),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.rc(" ",t.value," ")}}function Te(t,e){1&t&&(r.Nb(0,"h4"),r.pc(1,"Camping Equipment: "),r.Mb())}function Ne(t,e){if(1&t&&(r.Nb(0,"ul"),r.Nb(1,"li"),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.rc(" ",t.value," ")}}function xe(t,e){if(1&t&&(r.Nb(0,"ul"),r.Nb(1,"li"),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.rc(" ",t.value," ")}}function ke(t,e){if(1&t&&(r.Nb(0,"ul"),r.Nb(1,"li"),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.rc(" ",t.value," ")}}function Oe(t,e){if(1&t&&r.Lb(0,"img",7),2&t){const t=r.Yb();r.cc("src",t.homedata1.image,r.kc)}}function Ae(t,e){if(1&t&&(r.Nb(0,"div",8),r.Nb(1,"div",9),r.Nb(2,"h1"),r.pc(3),r.Mb(),r.Nb(4,"p"),r.pc(5),r.Mb(),r.Mb(),r.Nb(6,"div"),r.Lb(7,"iframe",10),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.yb(3),r.rc(" ",t.homedata1.title,""),r.yb(2),r.rc(" ",t.homedata1.data," "),r.yb(2),r.bc("src",t.url,r.jc)}}function Re(t,e){if(1&t&&(r.Nb(0,"a",11),r.Nb(1,"div",12),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.Lb(4,"img",13),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.dc("href","/",t.homedata2.name,"",r.kc),r.yb(3),r.qc(t.homedata2.title),r.yb(1),r.cc("src",t.homedata2.image,r.kc),r.yb(2),r.rc("",t.homedata2.data," ")}}function Pe(t,e){if(1&t&&(r.Nb(0,"a",14),r.Nb(1,"div",15),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.Lb(4,"img",13),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.dc("href","/",t.homedata3.name,"",r.kc),r.yb(3),r.rc(" ",t.homedata3.title,""),r.yb(1),r.cc("src",t.homedata3.image,r.kc),r.yb(2),r.rc("",t.homedata3.data," ")}}function Me(t,e){if(1&t&&(r.Nb(0,"a",11),r.Nb(1,"div",12),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.Lb(4,"img",13),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.dc("href","/",t.homedata4.name,"",r.kc),r.yb(3),r.qc(t.homedata4.title),r.yb(1),r.cc("src",t.homedata4.image,r.kc),r.yb(2),r.rc("",t.homedata4.data," ")}}function De(t,e){if(1&t&&r.Lb(0,"img",13),2&t){const t=r.Yb(2);r.cc("src",t.homedata5.image,r.kc)}}function Le(t,e){if(1&t&&r.Lb(0,"img",13),2&t){const t=r.Yb(3);r.cc("src",t.homedata16.image,r.kc)}}function je(t,e){if(1&t&&(r.Nb(0,"a",14),r.Nb(1,"div",15),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.oc(4,Le,1,1,"img",16),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb(2);r.dc("href","/",t.homedata16.name,"",r.kc),r.yb(3),r.rc(" ",t.homedata16.title,""),r.yb(1),r.bc("ngIf",t.homedata16),r.yb(2),r.rc("",t.homedata16.data," ")}}function Fe(t,e){if(1&t&&r.Lb(0,"img",13),2&t){const t=r.Yb(3);r.cc("src",t.homedata6.image,r.kc)}}function Ue(t,e){if(1&t&&(r.Nb(0,"a",11),r.Nb(1,"div",12),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.oc(4,Fe,1,1,"img",16),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb(2);r.dc("href","/",t.homedata6.name,"",r.kc),r.yb(3),r.qc(t.homedata6.title),r.yb(1),r.bc("ngIf",t.homedata6),r.yb(2),r.rc("",t.homedata6.data," ")}}function Ve(t,e){if(1&t&&(r.Nb(0,"div",3),r.Nb(1,"a",11),r.Nb(2,"div",12),r.Nb(3,"h2"),r.pc(4),r.Mb(),r.oc(5,De,1,1,"img",16),r.Nb(6,"h5"),r.pc(7),r.Mb(),r.Mb(),r.Mb(),r.oc(8,je,7,4,"a",5),r.oc(9,Ue,7,4,"a",4),r.Mb()),2&t){const t=r.Yb();r.yb(1),r.dc("href","/",t.homedata5.name,"",r.kc),r.yb(3),r.qc(t.homedata5.title),r.yb(1),r.bc("ngIf",t.homedata5),r.yb(2),r.rc("",t.homedata5.data," "),r.yb(1),r.bc("ngIf",t.homedata16),r.yb(1),r.bc("ngIf",t.homedata6)}}function qe(t,e){if(1&t&&r.Lb(0,"img",13),2&t){const t=r.Yb(2);r.cc("src",t.homedata7.image,r.kc)}}function He(t,e){if(1&t&&(r.Nb(0,"a",11),r.Nb(1,"div",12),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.oc(4,qe,1,1,"img",16),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.dc("href","/",t.homedata7.name,"",r.kc),r.yb(3),r.qc(t.homedata7.title),r.yb(1),r.bc("ngIf",t.homedata7),r.yb(2),r.rc("",t.homedata7.data," ")}}function Be(t,e){if(1&t&&r.Lb(0,"img",13),2&t){const t=r.Yb(2);r.cc("src",t.homedata8.image,r.kc)}}function We(t,e){if(1&t&&(r.Nb(0,"a",14),r.Nb(1,"div",15),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.oc(4,Be,1,1,"img",16),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.dc("href","/",t.homedata8.name,"",r.kc),r.yb(3),r.rc(" ",t.homedata8.title,""),r.yb(1),r.bc("ngIf",t.homedata8),r.yb(2),r.rc("",t.homedata8.data," ")}}function ze(t,e){if(1&t&&r.Lb(0,"img",13),2&t){const t=r.Yb(2);r.cc("src",t.homedata9.image,r.kc)}}function Ge(t,e){if(1&t&&(r.Nb(0,"a",11),r.Nb(1,"div",12),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.oc(4,ze,1,1,"img",16),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.dc("href","/",t.homedata9.name,"",r.kc),r.yb(3),r.qc(t.homedata9.title),r.yb(1),r.bc("ngIf",t.homedata9),r.yb(2),r.rc("",t.homedata9.data," ")}}function Ke(t,e){if(1&t&&r.Lb(0,"img",13),2&t){const t=r.Yb(2);r.cc("src",t.homedata10.image,r.kc)}}function Qe(t,e){if(1&t&&(r.Nb(0,"a",11),r.Nb(1,"div",12),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.oc(4,Ke,1,1,"img",16),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.dc("href","/",t.homedata10.name,"",r.kc),r.yb(3),r.qc(t.homedata10.title),r.yb(1),r.bc("ngIf",t.homedata10),r.yb(2),r.rc("",t.homedata10.data," ")}}function Ye(t,e){if(1&t&&r.Lb(0,"img",13),2&t){const t=r.Yb(2);r.cc("src",t.homedata11.image,r.kc)}}function $e(t,e){if(1&t&&(r.Nb(0,"a",14),r.Nb(1,"div",15),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.oc(4,Ye,1,1,"img",16),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.dc("href","/",t.homedata11.name,"",r.kc),r.yb(3),r.rc(" ",t.homedata11.title,""),r.yb(1),r.bc("ngIf",t.homedata11),r.yb(2),r.rc("",t.homedata11.data," ")}}function Xe(t,e){if(1&t&&r.Lb(0,"img",13),2&t){const t=r.Yb(2);r.cc("src",t.homedata12.image,r.kc)}}function Je(t,e){if(1&t&&(r.Nb(0,"a",11),r.Nb(1,"div",12),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.oc(4,Xe,1,1,"img",16),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.dc("href","/",t.homedata12.name,"",r.kc),r.yb(3),r.qc(t.homedata12.title),r.yb(1),r.bc("ngIf",t.homedata12),r.yb(2),r.rc("",t.homedata12.data," ")}}function Ze(t,e){if(1&t&&r.Lb(0,"img",13),2&t){const t=r.Yb(2);r.cc("src",t.homedata13.image,r.kc)}}function tn(t,e){if(1&t&&(r.Nb(0,"a",11),r.Nb(1,"div",12),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.oc(4,Ze,1,1,"img",16),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.dc("href","/",t.homedata13.name,"",r.kc),r.yb(3),r.qc(t.homedata13.title),r.yb(1),r.bc("ngIf",t.homedata13),r.yb(2),r.rc("",t.homedata13.data," ")}}function en(t,e){if(1&t&&r.Lb(0,"img",13),2&t){const t=r.Yb(2);r.cc("src",t.homedata14.image,r.kc)}}function nn(t,e){if(1&t&&(r.Nb(0,"a",14),r.Nb(1,"div",15),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.oc(4,en,1,1,"img",16),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.dc("href","/",t.homedata14.name,"",r.kc),r.yb(3),r.rc(" ",t.homedata14.title,""),r.yb(1),r.bc("ngIf",t.homedata14),r.yb(2),r.rc("",t.homedata14.data," ")}}function rn(t,e){if(1&t&&r.Lb(0,"img",13),2&t){const t=r.Yb(2);r.cc("src",t.homedata15.image,r.kc)}}function on(t,e){if(1&t&&(r.Nb(0,"a",11),r.Nb(1,"div",12),r.Nb(2,"h2"),r.pc(3),r.Mb(),r.oc(4,rn,1,1,"img",16),r.Nb(5,"h5"),r.pc(6),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Yb();r.dc("href","/",t.homedata15.name,"",r.kc),r.yb(3),r.qc(t.homedata15.title),r.yb(1),r.bc("ngIf",t.homedata15),r.yb(2),r.rc("",t.homedata15.data," ")}}function sn(t,e){if(1&t&&(r.Nb(0,"div"),r.Lb(1,"p",71),r.Mb()),2&t){const t=e.$implicit;r.yb(1),r.bc("innerHTML",t.value,r.ic)}}function an(t,e){if(1&t&&(r.Nb(0,"div",72),r.Nb(1,"div"),r.Nb(2,"p",73),r.pc(3),r.Mb(),r.Mb(),r.Mb()),2&t){const t=e.$implicit,n=r.Yb();r.Bb("owl-carousel daybyday-carousel ",n.item_para,""),r.yb(3),r.qc(t.value)}}function un(t,e){if(1&t&&(r.Nb(0,"div",74),r.Nb(1,"div"),r.Nb(2,"div"),r.Nb(3,"p"),r.pc(4),r.Mb(),r.Mb(),r.Nb(5,"div"),r.Nb(6,"ul"),r.Nb(7,"li"),r.pc(8),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(4),r.rc("",t.name," "),r.yb(4),r.rc(" ",t.value," ")}}function cn(t,e){if(1&t&&(r.Nb(0,"ul"),r.Nb(1,"div",66),r.Nb(2,"li"),r.pc(3),r.Mb(),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(3),r.rc(" ",t.value," ")}}function ln(t,e){1&t&&(r.Nb(0,"h4"),r.pc(1,"Staffs: "),r.Mb())}function hn(t,e){if(1&t&&(r.Nb(0,"ul"),r.Nb(1,"li"),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.rc(" ",t.value," ")}}function fn(t,e){1&t&&(r.Nb(0,"h4"),r.pc(1,"Porters: "),r.Mb())}function dn(t,e){if(1&t&&(r.Nb(0,"ul"),r.Nb(1,"li"),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.rc(" ",t.value," ")}}function pn(t,e){1&t&&(r.Nb(0,"h4"),r.pc(1,"Camping Equipment: "),r.Mb())}function gn(t,e){if(1&t&&(r.Nb(0,"ul"),r.Nb(1,"li"),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.rc(" ",t.value," ")}}function mn(t,e){if(1&t&&(r.Nb(0,"ul"),r.Nb(1,"li"),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.rc(" ",t.value," ")}}function vn(t,e){if(1&t&&(r.Nb(0,"ul"),r.Nb(1,"li"),r.pc(2),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(2),r.rc(" ",t.value," ")}}const bn=[{path:"",component:Zt},{path:"tripdetail/:name",component:(()=>{class t{constructor(t,e,n,r){this.route=e,this.dom=n,this.router=r,this.slides=[[]],this.cards=[],this.homeService=t.get(Kt.a),this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.router.events.subscribe(t=>{t instanceof W.b&&(this.router.navigated=!1,window.scrollTo(0,0))})}ngOnInit(){this.mypage=null,this.userSubscription=this.route.params.subscribe(t=>{this.mypage=void 0!==t.name?t.name:"/"}),this.initialize()}initialize(){this.getcontents()}getcontents(){if(this.listofPages="chongo,Cheery_Blossom,naran_kaghan,hunza_velley,K2-Ghandogoro,hunza_autumn,wakhan_corridor,shandur, trangotower, bike_adventure, spantik, baltistan_jeep, nanga_parbat, biafo_trek, explore_baltistan",this.iternerylist=[],this.features=[],this.includeds=[],this.essentials_staff=[],this.essentials_porter=[],this.essentials_camp=[],this.notincludeds=[],this.descList=[],this.essentials=[],this.dateRangList=[],this.peopleList=[],this.priceList=[],this.loaded=!1,this.item_para=null,this.homeService.getlist("tripdata").snapshotChanges().subscribe(t=>{for(var e of(this.tripdatalist=[],t.forEach(t=>{var e=t.payload.toJSON();e.$key=t.key,this.tripdatalist.push(e),this.items=this.tripdatalist,this.loaded=!0}),this.tripdatalist))switch(this.mypage){case"chongo":"2001"==e.id&&(this.tripdata1=e);break;case"Cheery_Blossom":"2000"==e.id&&(this.tripdata1=e);break;case"naran_kaghan":"2002"==e.id&&(this.tripdata1=e);break;case"hunza_velley":"2003"==e.id&&(this.tripdata1=e);break;case"K2-Ghandogoro":"2004"==e.id&&(this.tripdata1=e);break;case"hunza_autumn":"2005"==e.id&&(this.tripdata1=e);break;case"wakhan_corridor":"2006"==e.id&&(this.tripdata1=e);break;case"shandur":"2007"==e.id&&(this.tripdata1=e);break;case"trangotower":"2008"==e.id&&(this.tripdata1=e);break;case"bike_adventure":"2009"==e.id&&(this.tripdata1=e);break;case"spantik":"2010"==e.id&&(this.tripdata1=e);break;case"baltistan_jeep":"2011"==e.id&&(this.tripdata1=e);break;case"nanga_parbat":"2012"==e.id&&(this.tripdata1=e);break;case"biafo_trek":"2013"==e.id&&(this.tripdata1=e);break;case"explore_baltistan":"2014"==e.id&&(this.tripdata1=e)}if(this.tripdata1){let t={name:"",value:this.tripdata1.daterange};this.dateRangList.push(t),t={name:"",value:this.tripdata1.people},this.peopleList.push(t),t={name:"",value:"$"+this.tripdata1.price+" USD"},this.priceList.push(t),this.mduration=this.tripdata1.days,this.maltitude=this.tripdata1.altitude,this.mbookingdate=this.tripdata1.bookingdate}}),this.listofPages.includes(this.mypage)){var t=this.homeService.getlist("homepage");this.nextpage="/book_now",this.nextpageTitle="Book Now"}else t=this.homeService.getlist("/tourpages/"+this.mypage),this.nextpage="/begin-plan",this.tripdatalist=[],this.mbookingdate="Any",this.nextpageTitle="START PLANNING";t.snapshotChanges().subscribe(t=>{for(var e of(this.homedatalist=[],t.forEach(t=>{var e=t.payload.toJSON();e.$key=t.key,this.homedatalist.push(e),this.items=this.homedatalist,this.loaded=!0}),this.homedatalist)){var n=parseInt(e.id);switch(!0){case 2001==n:if(e.name==this.mypage){this.homedata1=e;break}case 2002==n:if(e.name==this.mypage||e.title==this.mypage){this.homedata2=e;break}case 2003==n:if(e.name==this.mypage||e.title==this.mypage){this.homedata3=e;break}case 2004==n:if(e.name==this.mypage||e.title==this.mypage){this.homedata4=e;break}case 2005==n:if(e.name==this.mypage||e.title==this.mypage){this.homedata5=e;break}case 2006==n:if(e.name==this.mypage||e.title==this.mypage){this.homedata6=e;break}case 2007==n:if(e.name==this.mypage||e.title==this.mypage){this.homedata7=e;break}case 2008==n:if(e.name==this.mypage||e.title==this.mypage){this.homedata8=e;break}case 2009==n:if(e.name==this.mypage||e.title==this.mypage){this.homedata9=e;break}case 2010==n:if(e.name==this.mypage||e.title==this.mypage){this.homedata10=e;break}case n>=2120&&n<=2137:if(e.name==this.mypage&&"ITINERARY"==e.title){let t;t=(r=e.data.split(",")).length>1?{name:r[0],value:r[1]}:{name:"",value:r[0]},this.iternerylist.push(t)}e.name==this.mypage&&"ITINERARY_para"==e.title&&(this.item_para=e.data);break;case 2299==n:e.name==this.mypage&&"DateRange"==e.title&&this.dateRangList.push({name:"",value:e.data});break;case 2503==n:e.name==this.mypage&&"map"==e.title&&(this.mapurl=e.data);break;case 2199==n:e.name==this.mypage&&"Description"==e.title&&this.descList.push({name:"",value:e.data});break;case 2290==n:e.name==this.mypage&&"altitude"==e.title&&(this.maltitude=e.data);break;case 2291==n:e.name==this.mypage&&"duration"==e.title&&(this.mduration=e.data);break;case 2501==n:e.name==this.mypage&&"people"==e.title.toLowerCase()&&this.peopleList.push({name:"",value:e.data});break;case 2502==n:if(e.name==this.mypage&&"Price"==e.title){let t=null;t=this.listofPages.includes(this.mypage)?{name:"",value:"$"+e.data+" USD"}:{name:"",value:e.data},this.priceList.push(t)}break;case n>=2137&&n<=2198:if("Features"==e.title)if(e.name==this.mypage){let t;t=(r=e.data.split(",")).length>1?{name:r[0],value:r[1]}:{name:"",value:e.data},this.features.push(t)}else{var r;let t;t=(r=e.data.split(",")).length>1?{name:r[0],value:r[1]}:{name:"",value:r[0]},this.features.push(t)}if("What\u2019s Included"==e.title&&this.includeds.push({name:e.id,value:e.data}),"Essentials"==e.title){let t=null;e.name==this.mypage&&"chongo"!=e.name?(this.essentials_staff=null,this.essentials_porter=null,this.essentials_camp=null,t={name:"",value:e.data},this.essentials.push(t)):n>=2171&&n<=2176?(t={name:"Staff",value:e.data},this.essentials_staff.push(t)):n>=2177&&n<=2179?(t={name:"Porter",value:e.data},this.essentials_porter.push(t)):(t={name:"Camp",value:e.data},this.essentials_camp.push(t))}e.name==this.mypage&&"Does Not Include"==e.title&&this.notincludeds.push({name:"",value:e.data})}}})}mapURL(){return this.dom.bypassSecurityTrustUrl(this.mapurl)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.r),r.Kb(W.a),r.Kb(R),r.Kb(W.c))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-tripDetail"]],decls:128,vars:32,consts:[[1,"cbody"],[1,"my_clss"],["style","width: 1360px;","class","img-er","alt","Responsive image",3,"src",4,"ngIf"],[1,"cartion"],["style","font-size: 40px;","class","hsive",4,"ngIf"],["id","intro_section",1,"how-we-"],[1,"br-trip-info"],[1,"br-trip-lft"],[1,"br-details"],[2,"display","flex","flex-direction","row"],["src","./assets/dur.png","alt","",2,"width","40px","margin-top","8px"],[2,"margin-left","5px"],[4,"ngIf"],[1,"triangle-up"],["src","./assets/tim.png","alt","",2,"width","40px","margin-top","8px"],[1,"br-trip-text"],[4,"ngFor","ngForOf"],[1,"br-trip-rgt","per-per",2,"background","url(./assets/linesangle.png)"],[2,"display","flex","flex-direction","row","display","flex","justify-content","space-between"],[1,"per"],["src","./assets/group.png","alt","",2,"margin-left","5px","vertical-align","baseline","width","30px"],["class","price-rg",4,"ngFor","ngForOf"],[1,"single-info"],[1,"ways-to-go-cta"],[1,"button","start-planning",3,"href"],[1,"per1"],["class","date-rg",4,"ngFor","ngForOf"],[1,"br_trip",2,"margin-bottom","30px"],[2,"position","relative","margin","0 auto","top","0px","left","0px","width","100%","height","250px","overflow","hidden"],["id","myCarousel","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#myCarousel","data-slide-to","0",1,"active"],["data-target","#myCarousel","data-slide-to","1"],["data-target","#myCarousel","data-slide-to","2"],["data-target","#myCarousel","data-slide-to","3"],["role","listbox",1,"carousel-inner"],[1,"item","active"],[1,"span4",2,"padding-left","10px"],["style","width:350px; height: 250px;","class","img-thumbnail",3,"src",4,"ngIf"],[1,"item"],["href","#myCarousel","role","button","data-slide","next",1,"right","carousel-control"],["aria-hidden","true",1,"glyphicon","glyphicon-chevron-right"],[1,"sr-only"],[1,"buttonsyt"],["onclick","openC('iten', this, 'darkolivegreen', 'white')","id","defaultOpen",1,"tabli"],["onclick","openC('mapi', this, 'darkolivegreen', 'white')",1,"tabli"],[1,"daybyday",2,"margin-bottom","10px"],[1,"wrapper"],["id","iten",1,"lft","tabcon","cur"],["style","margin-left: 10px;",3,"class",4,"ngFor","ngForOf"],["id","mapi","width","455","height","510","frameborder","0","allowfullscreen","",1,"tabcon",2,"border","0",3,"src"],[3,"style",4,"ngIf"],[1,"br-tabs"],[1,"buttons"],["onclick","openCity('London', this, 'white', 'black')","id","defaultOpen",1,"tablink"],["onclick","openCity('Paris', this, 'white', 'black')",1,"tablink"],["onclick","openCity('Tokyo', this, 'white', 'black')",1,"tablink"],["onclick","openCity('Oslo', this, 'white', 'black')",1,"tablink"],[1,"tabs-content"],["id","London",1,"tabcontent","act-tab","tab","cur"],[1,"oimg"],[3,"src",4,"ngIf"],[1,"mid"],["style","display: flex; flex-direction: column;",4,"ngFor","ngForOf"],["id","Paris",1,"tabcontent","whats-tab","tab"],["id","Tokyo",1,"tabcontent","whats-tab","tab"],[1,"lft"],[1,"rgt"],["id","Oslo",1,"tabcontent","gear-tab","tab","bike2"],[1,"fll"],["alt","Responsive image",1,"img-er",2,"width","1360px",3,"src"],[1,"hsive",2,"font-size","40px"],[3,"innerHTML"],[1,"price-rg"],[1,"from"],[1,"date-rg"],[1,"img-thumbnail",2,"width","350px","height","250px",3,"src"],[2,"margin-left","10px"],[2,"margin-left","50px"],[3,"src"],[2,"display","flex","flex-direction","column"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.oc(2,ee,1,1,"img",2),r.Mb(),r.Nb(3,"div",3),r.oc(4,ne,2,1,"h3",4),r.Mb(),r.Mb(),r.Nb(5,"div",5),r.Nb(6,"div",6),r.Nb(7,"div",7),r.Nb(8,"div",8),r.Nb(9,"ul"),r.Nb(10,"li"),r.Nb(11,"div",9),r.Nb(12,"div"),r.Lb(13,"img",10),r.Mb(),r.Nb(14,"div",11),r.Nb(15,"span"),r.pc(16,"Duration"),r.Mb(),r.oc(17,re,2,1,"h5",12),r.Mb(),r.Mb(),r.Mb(),r.Nb(18,"li"),r.Nb(19,"div",9),r.Lb(20,"div",13),r.Nb(21,"div",11),r.Nb(22,"span"),r.pc(23,"Altitude"),r.Mb(),r.oc(24,ie,2,1,"h5",12),r.Mb(),r.Mb(),r.Mb(),r.Nb(25,"li"),r.Nb(26,"div",9),r.Nb(27,"div"),r.Lb(28,"img",14),r.Mb(),r.Nb(29,"div",11),r.Nb(30,"span"),r.pc(31,"Booking Deadline"),r.Mb(),r.oc(32,oe,2,1,"h5",12),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(33,"div",15),r.Nb(34,"h4"),r.pc(35,"At a glance"),r.Mb(),r.oc(36,se,2,1,"div",16),r.Mb(),r.Mb(),r.Nb(37,"div",17),r.Nb(38,"div",18),r.Nb(39,"div"),r.Nb(40,"div",9),r.Nb(41,"div"),r.Nb(42,"span",19),r.pc(43,"Group Size"),r.Mb(),r.Mb(),r.Nb(44,"div"),r.Lb(45,"img",20),r.Mb(),r.Mb(),r.oc(46,ae,3,1,"div",21),r.Mb(),r.Nb(47,"div"),r.Nb(48,"span",19),r.pc(49,"price per person"),r.Mb(),r.oc(50,ue,3,1,"div",21),r.Mb(),r.Mb(),r.Nb(51,"span",22),r.pc(52,"Prices vary based on departure season."),r.Mb(),r.Nb(53,"div",23),r.Nb(54,"a",24),r.pc(55),r.Mb(),r.Mb(),r.Nb(56,"div"),r.Nb(57,"span",25),r.pc(58,"Available Dates"),r.Mb(),r.oc(59,ce,3,1,"div",26),r.Mb(),r.Mb(),r.Mb(),r.Nb(60,"div",27),r.Nb(61,"div",28),r.Nb(62,"div",29),r.Nb(63,"ol",30),r.Lb(64,"li",31),r.Lb(65,"li",32),r.Lb(66,"li",33),r.Lb(67,"li",34),r.Mb(),r.Nb(68,"div",35),r.Nb(69,"div",36),r.Nb(70,"div",37),r.oc(71,le,1,1,"img",38),r.oc(72,he,1,1,"img",38),r.oc(73,fe,1,1,"img",38),r.Mb(),r.Mb(),r.Nb(74,"div",39),r.Nb(75,"div",37),r.oc(76,de,1,1,"img",38),r.oc(77,pe,1,1,"img",38),r.oc(78,ge,1,1,"img",38),r.Mb(),r.Mb(),r.Mb(),r.Nb(79,"div"),r.Nb(80,"a",40),r.Lb(81,"span",41),r.Nb(82,"span",42),r.pc(83,"Next"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(84,"div",43),r.Nb(85,"button",44),r.pc(86,"\xa0I T I N E R A R Y\xa0"),r.Mb(),r.Nb(87,"button",45),r.pc(88,"\xa0M A P\xa0"),r.Mb(),r.Mb(),r.Nb(89,"div",46),r.Nb(90,"div",47),r.Nb(91,"div",48),r.oc(92,me,4,4,"div",49),r.Mb(),r.Lb(93,"iframe",50),r.Mb(),r.Mb(),r.oc(94,ve,1,3,"div",51),r.Nb(95,"div",52),r.Nb(96,"div",47),r.Nb(97,"div",53),r.Nb(98,"button",54),r.pc(99,"Features"),r.Mb(),r.Nb(100,"button",55),r.pc(101,"What\u2019s Included"),r.Mb(),r.Nb(102,"button",56),r.pc(103,"Essentials"),r.Mb(),r.Nb(104,"button",57),r.pc(105,"Does Not Include"),r.Mb(),r.Mb(),r.Nb(106,"div",58),r.Nb(107,"div",59),r.Nb(108,"div",60),r.oc(109,be,1,1,"img",61),r.Mb(),r.Nb(110,"div",62),r.oc(111,ye,8,2,"div",63),r.Nb(112,"div",64),r.oc(113,_e,2,0,"h3",12),r.oc(114,we,4,1,"ul",16),r.Mb(),r.Nb(115,"div",65),r.Nb(116,"div",66),r.oc(117,Ee,2,0,"h4",12),r.oc(118,Ie,3,1,"ul",16),r.Mb(),r.Nb(119,"div",67),r.oc(120,Se,2,0,"h4",12),r.oc(121,Ce,3,1,"ul",16),r.oc(122,Te,2,0,"h4",12),r.oc(123,Ne,3,1,"ul",16),r.oc(124,xe,3,1,"ul",16),r.Mb(),r.Mb(),r.Nb(125,"div",68),r.Nb(126,"div",69),r.oc(127,ke,3,1,"ul",16),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.yb(2),r.bc("ngIf",e.homedata1),r.yb(2),r.bc("ngIf",e.homedata1),r.yb(13),r.bc("ngIf",e.mduration),r.yb(7),r.bc("ngIf",e.maltitude),r.yb(8),r.bc("ngIf",e.mbookingdate),r.yb(4),r.bc("ngForOf",e.descList),r.yb(10),r.bc("ngForOf",e.peopleList),r.yb(4),r.bc("ngForOf",e.priceList),r.yb(4),r.cc("href",e.nextpage,r.kc),r.yb(1),r.rc(" ",e.nextpageTitle,""),r.yb(4),r.bc("ngForOf",e.dateRangList),r.yb(12),r.bc("ngIf",e.homedata2),r.yb(1),r.bc("ngIf",e.homedata3),r.yb(1),r.bc("ngIf",e.homedata4),r.yb(3),r.bc("ngIf",e.homedata5),r.yb(1),r.bc("ngIf",e.homedata6),r.yb(1),r.bc("ngIf",e.homedata7),r.yb(14),r.bc("ngForOf",e.iternerylist),r.yb(1),r.bc("src",e.dom.bypassSecurityTrustResourceUrl(e.mapurl),r.jc),r.yb(1),r.bc("ngIf",e.homedata10),r.yb(15),r.bc("ngIf",e.homedata9),r.yb(2),r.bc("ngForOf",e.features),r.yb(2),r.bc("ngIf",e.includeds),r.yb(1),r.bc("ngForOf",e.includeds),r.yb(3),r.bc("ngIf",e.essentials_staff),r.yb(1),r.bc("ngForOf",e.essentials_staff),r.yb(2),r.bc("ngIf",e.essentials_porter),r.yb(1),r.bc("ngForOf",e.essentials_porter),r.yb(1),r.bc("ngIf",e.essentials_camp),r.yb(1),r.bc("ngForOf",e.essentials_camp),r.yb(1),r.bc("ngForOf",e.essentials),r.yb(3),r.bc("ngForOf",e.notincludeds))},directives:[o.k,o.j],styles:[""]}),t})()},{path:"touroptions/:name",component:(()=>{class t{constructor(t,e,n,r){this.router=t,this.route=n,this.dom=r,this.homeService=e.get(Kt.a),this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.router.events.subscribe(t=>{t instanceof W.b&&(this.router.navigated=!1,window.scrollTo(0,0))})}ngOnInit(){this.mypage=null,this.userSubscription=this.route.params.subscribe(t=>{this.mypage=void 0!==t.name?t.name:"/"}),this.initialize()}initialize(){this.getcontents()}getcontents(){this.homeService.getlist("mountaineering/"+this.mypage).snapshotChanges().subscribe(t=>{for(var e of(this.homedataList=[],t.forEach(t=>{var e=t.payload.toJSON();e.$key=t.key,this.homedataList.push(e),this.items=this.homedataList,this.loaded=!0}),this.homedataList))"mountaineering"==this.mypage&&("3201"==e.id&&(this.url=this.dom.bypassSecurityTrustResourceUrl(e.data)),"3101"==e.id&&(this.homedata1=e,this.homedata1.name=this.homedata1.title.replace(/\s/g,"")),"3102"==e.id&&(this.homedata2=e,this.homedata2.name=this.homedata2.title.replace(/\s/g,"")),"3103"==e.id&&(this.homedata3=e,this.homedata3.name=this.homedata3.title.replace(/\s/g,"")),"3104"==e.id&&(this.homedata4=e,this.homedata4.name=this.homedata4.title.replace(/\s/g,"")),"3105"==e.id&&(this.homedata5=e,this.homedata5.name=this.homedata5.title.replace(/\s/g,"")),"3106"==e.id&&(this.homedata6=e,this.homedata6.name=this.homedata6.title.replace(/\s/g,"")),"3107"==e.id&&(this.homedata7=e,this.homedata7.name=this.homedata7.title.replace(/\s/g,"")),"3108"==e.id&&(this.homedata8=e,this.homedata8.name=this.homedata8.title.replace(/\s/g,"")),"3109"==e.id&&(this.homedata9=e,this.homedata9.name=this.homedata9.title.replace(/\s/g,"")),"3110"==e.id&&(this.homedata10=e,this.homedata10.name=this.homedata10.title.replace(/\s/g,"")),"3111"==e.id&&(this.homedata11=e,this.homedata11.name=this.homedata11.title.replace(/\s/g,"")),"3112"==e.id&&(this.homedata12=e,this.homedata12.name=this.homedata12.title.replace(/\s/g,"")),"3113"==e.id&&(this.homedata13=e,this.homedata13.name=this.homedata13.title.replace(/\s/g,"")),"3114"==e.id&&(this.homedata14=e,this.homedata14.name=this.homedata14.title.replace(/\s/g,"")),"3115"==e.id&&(this.homedata15=e,this.homedata15.name=this.homedata15.title.replace(/\s/g,"")),"3116"==e.id&&(this.homedata16=e,this.homedata16.name=this.homedata16.title.replace(/\s/g,""))),"trekking"==this.mypage&&("3300"==e.id&&(this.url=this.dom.bypassSecurityTrustResourceUrl(e.data)),"3301"==e.id&&(this.homedata1=e,this.homedata1.name=this.homedata1.title.replace(/\s/g,"")),"3302"==e.id&&(this.homedata2=e,this.homedata2.name=this.homedata2.title.replace(/\s/g,"")),"3303"==e.id&&(this.homedata3=e,this.homedata3.name=this.homedata3.title.replace(/\s/g,"")),"3304"==e.id&&(this.homedata4=e,this.homedata4.name=this.homedata4.title.replace(/\s/g,"")),"3305"==e.id&&(this.homedata5=e,this.homedata5.name=this.homedata5.title.replace(/\s/g,"")),"3306"==e.id&&(this.homedata6=e,this.homedata6.name=this.homedata6.title.replace(/\s/g,"")),"3307"==e.id&&(this.homedata7=e,this.homedata7.name=this.homedata7.title.replace(/\s/g,"")),"3308"==e.id&&(this.homedata8=e,this.homedata8.name=this.homedata8.title.replace(/\s/g,"")),"3309"==e.id&&(this.homedata9=e,this.homedata9.name=this.homedata9.title.replace(/\s/g,"")),"3310"==e.id&&(this.homedata10=e,this.homedata10.name=this.homedata10.title.replace(/\s/g,"")),"3311"==e.id&&(this.homedata11=e,this.homedata11.name=this.homedata11.title.replace(/\s/g,"")),"3312"==e.id&&(this.homedata12=e,this.homedata12.name=this.homedata12.title.replace(/\s/g,"")),"3313"==e.id&&(this.homedata13=e,this.homedata13.name=this.homedata13.title.replace(/\s/g,"")),"3314"==e.id&&(this.homedata14=e,this.homedata14.name=this.homedata14.title.replace(/\s/g,"")),"3315"==e.id&&(this.homedata15=e,this.homedata15.name=this.homedata15.title.replace(/\s/g,"")),"3316"==e.id&&(this.homedata16=e,this.homedata16.name=this.homedata16.title.replace(/\s/g,""))),"rockclimbing"==this.mypage&&("3200"==e.id&&(this.url=this.dom.bypassSecurityTrustResourceUrl(e.data)),"3201"==e.id&&(this.homedata1=e,this.homedata1.name=this.homedata1.title.replace(/\s/g,"")),"3202"==e.id&&(this.homedata2=e,this.homedata2.name=this.homedata2.title.replace(/\s/g,"")),"3203"==e.id&&(this.homedata3=e,this.homedata3.name=this.homedata3.title.replace(/\s/g,"")),"3204"==e.id&&(this.homedata4=e,this.homedata4.name=this.homedata4.title.replace(/\s/g,"")),"3205"==e.id&&(this.homedata5=e,this.homedata5.name=this.homedata5.title.replace(/\s/g,"")),"3206"==e.id&&(this.homedata6=e,this.homedata6.name=this.homedata6.title.replace(/\s/g,"")),"3207"==e.id&&(this.homedata7=e,this.homedata7.name=this.homedata7.title.replace(/\s/g,"")),"3208"==e.id&&(this.homedata8=e,this.homedata8.name=this.homedata8.title.replace(/\s/g,"")),"3209"==e.id&&(this.homedata9=e,this.homedata9.name=this.homedata9.title.replace(/\s/g,"")),"3210"==e.id&&(this.homedata10=e,this.homedata10.name=this.homedata10.title.replace(/\s/g,"")),"3211"==e.id&&(this.homedata11=e,this.homedata11.name=this.homedata11.title.replace(/\s/g,"")),"3212"==e.id&&(this.homedata12=e,this.homedata12.name=this.homedata12.title.replace(/\s/g,"")),"3213"==e.id&&(this.homedata13=e,this.homedata13.name=this.homedata13.title.replace(/\s/g,"")),"3214"==e.id&&(this.homedata14=e,this.homedata14.name=this.homedata14.title.replace(/\s/g,"")),"3215"==e.id&&(this.homedata15=e,this.homedata15.name=this.homedata15.title.replace(/\s/g,"")),"3216"==e.id&&(this.homedata16=e,this.homedata16.name=this.homedata16.title.replace(/\s/g,""))),"tours"==this.mypage&&("3400"==e.id&&(this.url=this.dom.bypassSecurityTrustResourceUrl(e.data)),"3401"==e.id&&(this.homedata1=e,this.homedata1.name=this.homedata1.title.replace(/\s/g,"")),"3402"==e.id&&(this.homedata2=e,this.homedata2.name=this.homedata2.title.replace(/\s/g,"")),"3403"==e.id&&(this.homedata3=e,this.homedata3.name=this.homedata3.title.replace(/\s/g,"")),"3404"==e.id&&(this.homedata4=e,this.homedata4.name=this.homedata4.title.replace(/\s/g,"")),"3405"==e.id&&(this.homedata5=e,this.homedata5.name=this.homedata5.title.replace(/\s/g,"")),"3406"==e.id&&(this.homedata6=e,this.homedata6.name=this.homedata6.title.replace(/\s/g,"")),"3407"==e.id&&(this.homedata7=e,this.homedata7.name=this.homedata7.title.replace(/\s/g,"")),"3408"==e.id&&(this.homedata8=e,this.homedata8.name=this.homedata8.title.replace(/\s/g,"")),"3409"==e.id&&(this.homedata9=e,this.homedata9.name=this.homedata9.title.replace(/\s/g,"")),"3410"==e.id&&(this.homedata10=e,this.homedata10.name=this.homedata10.title.replace(/\s/g,"")),"3411"==e.id&&(this.homedata11=e,this.homedata11.name=this.homedata11.title.replace(/\s/g,"")),"3412"==e.id&&(this.homedata12=e,this.homedata12.name=this.homedata12.title.replace(/\s/g,"")),"3413"==e.id&&(this.homedata13=e,this.homedata13.name=this.homedata13.title.replace(/\s/g,"")),"3414"==e.id&&(this.homedata14=e,this.homedata14.name=this.homedata14.title.replace(/\s/g,"")),"3415"==e.id&&(this.homedata15=e,this.homedata15.name=this.homedata15.title.replace(/\s/g,"")),"3416"==e.id&&(this.homedata16=e,this.homedata16.name=this.homedata16.title.replace(/\s/g,""))),"special"==this.mypage&&("3500"==e.id&&(this.url=this.dom.bypassSecurityTrustResourceUrl(e.data)),"3501"==e.id&&(this.homedata1=e,this.homedata1.name=this.homedata1.title.replace(/\s/g,"")),"3502"==e.id&&(this.homedata2=e,this.homedata2.name=this.homedata2.title.replace(/\s/g,"")),"3503"==e.id&&(this.homedata3=e,this.homedata3.name=this.homedata3.title.replace(/\s/g,"")),"3504"==e.id&&(this.homedata4=e,this.homedata4.name=this.homedata4.title.replace(/\s/g,"")),"3505"==e.id&&(this.homedata5=e,this.homedata5.name=this.homedata5.title.replace(/\s/g,"")),"3506"==e.id&&(this.homedata6=e,this.homedata6.name=this.homedata6.title.replace(/\s/g,"")),"3507"==e.id&&(this.homedata7=e,this.homedata7.name=this.homedata7.title.replace(/\s/g,"")),"3508"==e.id&&(this.homedata8=e,this.homedata8.name=this.homedata8.title.replace(/\s/g,"")),"3509"==e.id&&(this.homedata9=e,this.homedata9.name=this.homedata9.title.replace(/\s/g,"")),"3510"==e.id&&(this.homedata10=e,this.homedata10.name=this.homedata10.title.replace(/\s/g,"")),"3511"==e.id&&(this.homedata11=e,this.homedata11.name=this.homedata11.title.replace(/\s/g,"")),"3512"==e.id&&(this.homedata12=e,this.homedata12.name=this.homedata12.title.replace(/\s/g,"")),"3513"==e.id&&(this.homedata13=e,this.homedata13.name=this.homedata13.title.replace(/\s/g,"")),"3514"==e.id&&(this.homedata14=e,this.homedata14.name=this.homedata14.title.replace(/\s/g,"")),"3515"==e.id&&(this.homedata15=e,this.homedata15.name=this.homedata15.title.replace(/\s/g,"")),"3516"==e.id&&(this.homedata16=e,this.homedata16.name=this.homedata16.title.replace(/\s/g,"")))})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(W.c),r.Kb(r.r),r.Kb(W.a),r.Kb(R))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-tourDetail"]],decls:20,vars:15,consts:[[2,"width","100%"],["style","width: 100%; height: 100%;","alt","",3,"src",4,"ngIf"],["class","txtvid what-is1",4,"ngIf"],[1,"txtvid",2,"margin-bottom","60px"],[3,"href",4,"ngIf"],["class","cent",3,"href",4,"ngIf"],["class","txtvid","style","margin-bottom: 60px;",4,"ngIf"],["alt","",2,"width","100%","height","100%",3,"src"],[1,"txtvid","what-is1"],[1,"what-is-the2"],["width","500","height","260","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope","allowfullscreen","",3,"src"],[3,"href"],[1,"what-is-the1"],["alt",".",3,"src"],[1,"cent",3,"href"],[1,"what-is-the1","cent"],["alt",".",3,"src",4,"ngIf"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.oc(1,Oe,1,1,"img",1),r.Mb(),r.oc(2,Ae,8,3,"div",2),r.Nb(3,"div",3),r.oc(4,Re,7,4,"a",4),r.oc(5,Pe,7,4,"a",5),r.oc(6,Me,7,4,"a",4),r.Mb(),r.oc(7,Ve,10,6,"div",6),r.Nb(8,"div",3),r.oc(9,He,7,4,"a",4),r.oc(10,We,7,4,"a",5),r.oc(11,Ge,7,4,"a",4),r.Mb(),r.Nb(12,"div",3),r.oc(13,Qe,7,4,"a",4),r.oc(14,$e,7,4,"a",5),r.oc(15,Je,7,4,"a",4),r.Mb(),r.Nb(16,"div",3),r.oc(17,tn,7,4,"a",4),r.oc(18,nn,7,4,"a",5),r.oc(19,on,7,4,"a",4),r.Mb()),2&t&&(r.yb(1),r.bc("ngIf",e.homedata1),r.yb(1),r.bc("ngIf",e.homedata1),r.yb(2),r.bc("ngIf",e.homedata2),r.yb(1),r.bc("ngIf",e.homedata3),r.yb(1),r.bc("ngIf",e.homedata4),r.yb(1),r.bc("ngIf",e.homedata5),r.yb(2),r.bc("ngIf",e.homedata7),r.yb(1),r.bc("ngIf",e.homedata8),r.yb(1),r.bc("ngIf",e.homedata9),r.yb(2),r.bc("ngIf",e.homedata10),r.yb(1),r.bc("ngIf",e.homedata11),r.yb(1),r.bc("ngIf",e.homedata12),r.yb(2),r.bc("ngIf",e.homedata13),r.yb(1),r.bc("ngIf",e.homedata14),r.yb(1),r.bc("ngIf",e.homedata15))},directives:[o.k],styles:[""]}),t})()},{path:"tours/:name",component:(()=>{class t{constructor(t,e,n){this.route=e,this.dom=n,this.slides=[[]],this.cards=[],this.homeService=t.get(Kt.a),this.mypage=null,this.userSubscription=this.route.params.subscribe(t=>{this.mypage=void 0!==t.name?t.name:"/"})}ngOnInit(){this.iternerydata=[],this.featuresdata=[],this.includedata=[],this.essent_staff=[],this.essent_porter=[],this.essent_camp=[],this.notincludedata=[],this.descriptList=[],this.essentialsdata=[],this.dateRangdata=[],this.peopledata=[],this.pricedata=[],this.item_para=null,this.getcontents()}getcontents(){this.homeService.getlist("/tourpages/"+this.mypage).snapshotChanges().subscribe(t=>{for(var e of(this.homedatalist=[],t.forEach(t=>{var e=t.payload.toJSON();e.$key=t.key,this.homedatalist.push(e),this.items=this.homedatalist,this.loaded=!0}),this.homedatalist)){var n=parseInt(e.id);switch(!0){case 2001==n:if(e.name==this.mypage){this.data11=e;break}case 2002==n:if(e.title==this.mypage){this.data21=e;break}case 2003==n:if(e.title==this.mypage){this.data31=e;break}case 2004==n:if(e.title==this.mypage){this.data41=e;break}case 2005==n:if(e.title==this.mypage){this.data51=e;break}case 2006==n:if(e.title==this.mypage){this.data61=e;break}case 2007==n:if(e.title==this.mypage){this.data71=e;break}case 2008==n:if(e.title==this.mypage){this.data81=e;break}case 2009==n:if(e.title==this.mypage){this.data91=e;break}case 2010==n:if(e.title==this.mypage){this.data101=e;break}case n>=2120&&n<=2137:if(e.name==this.mypage&&"ITINERARY"==e.title){let t;t=(r=e.data.split(",")).length>1?{name:r[0],value:r[1]}:{name:"",value:r[0]},this.iternerydata.push(t),console.log(this.iternerydata)}e.name==this.mypage&&"ITINERARY_para"==e.title&&(this.item_para=e.data);break;case 2299==n:e.name==this.mypage&&"DateRange"==e.title&&(this.mdateRange=e.data);break;case 2290==n:e.name==this.mypage&&"altitude"==e.title&&(this.maltitude=e.data);break;case 2291==n:e.name==this.mypage&&"duration"==e.title&&(this.mduration=e.data);break;case 2503==n:e.name==this.mypage&&"map"==e.title&&(this.mapurl=e.data);break;case 2199==n:e.name==this.mypage&&"Description"==e.title&&this.descriptList.push({name:"",value:e.data});break;case 2501==n:e.name==this.mypage&&"people"==e.title.toLowerCase()&&this.peopledata.push({name:"",value:e.data});break;case 2502==n:e.name==this.mypage&&"Price"==e.title&&this.pricedata.push({name:"",value:e.data});break;case n>=2137&&n<=2198:if("Features"==e.title)if(e.name==this.mypage){let t;t=(r=e.data.split(",")).length>1?{name:r[0],value:r[1]}:{name:"",value:e.data},this.featuresdata.push(t)}else{var r;let t;t=(r=e.data.split(",")).length>1?{name:r[0],value:r[1]}:{name:"",value:r[0]},this.featuresdata.push(t)}if("What\u2019s Included"==e.title&&this.includedata.push({name:e.id,value:e.data}),"Essentials"==e.title){let t=null;e.name==this.mypage&&"chongo"!=e.name?(this.essent_staff=null,this.essent_porter=null,this.essent_camp=null,t={name:"",value:e.data},this.essentialsdata.push(t)):n>=2171&&n<=2176?(t={name:"Staff",value:e.data},this.essent_staff.push(t)):n>=2177&&n<=2179?(t={name:"Porter",value:e.data},this.essent_porter.push(t)):(t={name:"Camp",value:e.data},this.essent_camp.push(t))}e.name==this.mypage&&"Does Not Include"==e.title&&this.notincludedata.push({name:"",value:e.data})}}})}mapURL(){return this.dom.bypassSecurityTrustUrl(this.mapurl)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.r),r.Kb(W.a),r.Kb(R))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-touroptions"]],decls:141,vars:27,consts:[[1,"cbody"],[1,"wrtrap"],[2,"width","100%"],[1,"my_clss",2,"width","100%"],["alt","...",1,"img-er",3,"src"],[1,"hsive"],["id","intro_section",1,"how-we-"],[1,"br-trip-info"],[1,"br-trip-lft"],[1,"br-details"],[2,"display","flex","flex-direction","row"],["src","./assets/dur.png","alt","",2,"width","40px","margin-top","8px"],[2,"margin-left","5px"],[1,"triangle-up"],["src","./assets/tim.png","alt","",2,"width","40px","margin-top","8px"],[1,"br-trip-text"],[4,"ngFor","ngForOf"],[1,"br-trip-rgt","per-per"],[2,"display","flex","flex-direction","row","display","flex","justify-content","space-between"],[1,"per"],["src","./assets/group.png","alt","",2,"margin-left","5px","vertical-align","baseline","width","30px"],[1,"price-rg"],[1,"from"],[1,"single-info"],[1,"ways-to-go-cta"],["href","/begin-plan",1,"button","start-planning"],[1,"per1"],[1,"date-rg"],[1,"br_trip",2,"margin-bottom","30px"],[2,"position","relative","margin","30 auto","top","0px","left","30px","width","100%","height","280px","overflow","hidden"],["id","myCarousel","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#myCarousel","data-slide-to","0",1,"active"],["data-target","#myCarousel","data-slide-to","1"],["data-target","#myCarousel","data-slide-to","2"],["data-target","#myCarousel","data-slide-to","3"],["role","listbox",1,"carousel-inner"],[1,"item","active"],[1,"span4",2,"padding-left","50px"],[1,"img-thumbnail",2,"width","350px","height","280px",3,"src"],[1,"item"],["href","#myCarousel","role","button","data-slide","next",1,"right","carousel-control"],["aria-hidden","true",1,"glyphicon","glyphicon-chevron-right"],[1,"sr-only"],[1,"buttonsyt"],["onclick","openC('iten', this, 'darkolivegreen', 'white')","id","defaultOpen",1,"tabli"],["onclick","openC('mapi', this, 'darkolivegreen', 'white')",1,"tabli"],[1,"daybyday",2,"margin-bottom","10px"],[1,"wrapper"],["id","iten",1,"lft","tabcon","cur"],["style","margin-left: 10px;",3,"class",4,"ngFor","ngForOf"],["id","mapi","width","455","height","510","frameborder","0","allowfullscreen","",1,"tabcon",2,"border","0",3,"src"],[1,"bg_pic"],[1,"br-tabs"],[1,"buttons"],["onclick","openCity('London', this, 'white', 'black')","id","defaultOpen",1,"tablink"],["onclick","openCity('Paris', this, 'white', 'black')",1,"tablink"],["onclick","openCity('Tokyo', this, 'white', 'black')",1,"tablink"],["onclick","openCity('Oslo', this, 'white', 'black')",1,"tablink"],[1,"tabs-content"],["id","London",1,"tabcontent","act-tab","tab","cur"],[3,"src"],[1,"mid"],["style","display: flex; flex-direction: column;",4,"ngFor","ngForOf"],["id","Paris",1,"tabcontent","whats-tab","tab"],["id","Tokyo",1,"tabcontent","whats-tab","tab"],[1,"lft"],[4,"ngIf"],[1,"rgt"],["id","Oslo",1,"tabcontent","gear-tab","tab","bike2"],[1,"fll"],[3,"innerHTML"],[2,"margin-left","10px"],[2,"margin-left","50px"],[2,"display","flex","flex-direction","column"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.Nb(3,"div",3),r.Lb(4,"img",4),r.Nb(5,"div",5),r.pc(6),r.Mb(),r.Mb(),r.Mb(),r.Nb(7,"div",6),r.Nb(8,"div",7),r.Nb(9,"div",8),r.Nb(10,"div",9),r.Nb(11,"ul"),r.Nb(12,"li"),r.Nb(13,"div",10),r.Nb(14,"div"),r.Lb(15,"img",11),r.Mb(),r.Nb(16,"div",12),r.Nb(17,"span"),r.pc(18,"Duration"),r.Mb(),r.Nb(19,"h5"),r.pc(20),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(21,"li"),r.Nb(22,"div",10),r.Lb(23,"div",13),r.Nb(24,"div",12),r.Nb(25,"span"),r.pc(26,"Altitude"),r.Mb(),r.Nb(27,"h5"),r.pc(28),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(29,"li"),r.Nb(30,"div",10),r.Nb(31,"div"),r.Lb(32,"img",14),r.Mb(),r.Nb(33,"div",12),r.Nb(34,"span"),r.pc(35,"Booking Deadline"),r.Mb(),r.Nb(36,"h5"),r.pc(37,"None"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(38,"div",15),r.Nb(39,"h4"),r.pc(40,"At a glance"),r.Mb(),r.oc(41,sn,2,1,"div",16),r.Lb(42,"p"),r.Lb(43,"p"),r.Mb(),r.Mb(),r.Nb(44,"div",17),r.Nb(45,"div",18),r.Nb(46,"div"),r.Nb(47,"div",10),r.Nb(48,"div"),r.Nb(49,"span",19),r.pc(50,"Group Size"),r.Mb(),r.Mb(),r.Nb(51,"div"),r.Lb(52,"img",20),r.Mb(),r.Mb(),r.Nb(53,"div",21),r.Nb(54,"span",22),r.pc(55,"Any"),r.Mb(),r.Mb(),r.Mb(),r.Nb(56,"div"),r.Nb(57,"span",19),r.pc(58,"price per person"),r.Mb(),r.Nb(59,"div",21),r.Nb(60,"span",22),r.pc(61,"Tell us your range"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(62,"span",23),r.pc(63,"Prices vary based on departure season."),r.Mb(),r.Nb(64,"div",24),r.Nb(65,"a",25),r.pc(66," Start Planning"),r.Mb(),r.Mb(),r.Nb(67,"div"),r.Nb(68,"span",26),r.pc(69,"Available Dates"),r.Mb(),r.Nb(70,"div",27),r.Nb(71,"span",22),r.pc(72,"\xa0Pick your own dates\xa0"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(73,"div",28),r.Nb(74,"div",29),r.Nb(75,"div",30),r.Nb(76,"ol",31),r.Lb(77,"li",32),r.Lb(78,"li",33),r.Lb(79,"li",34),r.Lb(80,"li",35),r.Mb(),r.Nb(81,"div",36),r.Nb(82,"div",37),r.Nb(83,"div",38),r.Lb(84,"img",39),r.Lb(85,"img",39),r.Lb(86,"img",39),r.Mb(),r.Mb(),r.Nb(87,"div",40),r.Nb(88,"div",38),r.Lb(89,"img",39),r.Lb(90,"img",39),r.Lb(91,"img",39),r.Mb(),r.Mb(),r.Mb(),r.Nb(92,"div"),r.Nb(93,"a",41),r.Lb(94,"span",42),r.Nb(95,"span",43),r.pc(96,"Next"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(97,"div",44),r.Nb(98,"button",45),r.pc(99,"\xa0I T I N E R A R Y\xa0"),r.Mb(),r.Nb(100,"button",46),r.pc(101,"\xa0M A P\xa0"),r.Mb(),r.Mb(),r.Nb(102,"div",47),r.Nb(103,"div",48),r.Nb(104,"div",49),r.oc(105,an,4,4,"div",50),r.Mb(),r.Lb(106,"iframe",51),r.Mb(),r.Mb(),r.Lb(107,"div",52),r.Nb(108,"div",53),r.Nb(109,"div",48),r.Nb(110,"div",54),r.Nb(111,"button",55),r.pc(112,"Features"),r.Mb(),r.Nb(113,"button",56),r.pc(114,"What\u2019s Included"),r.Mb(),r.Nb(115,"button",57),r.pc(116,"Essentials"),r.Mb(),r.Nb(117,"button",58),r.pc(118,"Does Not Include"),r.Mb(),r.Mb(),r.Nb(119,"div",59),r.Nb(120,"div",60),r.Lb(121,"img",61),r.Nb(122,"div",62),r.oc(123,un,9,2,"div",63),r.Mb(),r.Mb(),r.Nb(124,"div",64),r.Nb(125,"h3"),r.pc(126,"General Services"),r.Mb(),r.oc(127,cn,4,1,"ul",16),r.Mb(),r.Nb(128,"div",65),r.Nb(129,"div",66),r.oc(130,ln,2,0,"h4",67),r.oc(131,hn,3,1,"ul",16),r.Mb(),r.Nb(132,"div",68),r.oc(133,fn,2,0,"h4",67),r.oc(134,dn,3,1,"ul",16),r.oc(135,pn,2,0,"h4",67),r.oc(136,gn,3,1,"ul",16),r.oc(137,mn,3,1,"ul",16),r.Mb(),r.Mb(),r.Nb(138,"div",69),r.Nb(139,"div",70),r.oc(140,vn,3,1,"ul",16),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.yb(4),r.cc("src",e.data11.image,r.kc),r.yb(2),r.qc(e.data11.title),r.yb(14),r.rc("",e.mduration," DAYS"),r.yb(8),r.qc(e.maltitude),r.yb(13),r.bc("ngForOf",e.descriptList),r.yb(43),r.cc("src",e.data21.image,r.kc),r.yb(1),r.cc("src",e.data31.image,r.kc),r.yb(1),r.cc("src",e.data41.image,r.kc),r.yb(3),r.cc("src",e.data51.image,r.kc),r.yb(1),r.cc("src",e.data61.image,r.kc),r.yb(1),r.cc("src",e.data71.image,r.kc),r.yb(14),r.bc("ngForOf",e.iternerydata),r.yb(1),r.bc("src",e.dom.bypassSecurityTrustResourceUrl(e.mapurl),r.jc),r.yb(1),r.mc("background-image: url(",e.data101.image,");"),r.yb(14),r.cc("src",e.data91.image,r.kc),r.yb(2),r.bc("ngForOf",e.featuresdata),r.yb(4),r.bc("ngForOf",e.includedata),r.yb(3),r.bc("ngIf",e.essent_staff),r.yb(1),r.bc("ngForOf",e.essent_staff),r.yb(2),r.bc("ngIf",e.essent_porter),r.yb(1),r.bc("ngForOf",e.essent_porter),r.yb(1),r.bc("ngIf",e.essent_camp),r.yb(1),r.bc("ngForOf",e.essent_camp),r.yb(1),r.bc("ngForOf",e.essentialsdata),r.yb(3),r.bc("ngForOf",e.notincludedata))},directives:[o.j,o.k],styles:[""]}),t})()},{path:"admin",loadChildren:()=>n.e(12).then(n.bind(null,"SX0p")).then(t=>t.AdminModule)},{path:"where-wego",loadChildren:()=>n.e(18).then(n.bind(null,"Wkqt")).then(t=>t.WhereWeGoModule)},{path:"whytak",loadChildren:()=>n.e(19).then(n.bind(null,"1wYH")).then(t=>t.WhyTakModule)},{path:"whats-new",loadChildren:()=>n.e(17).then(n.bind(null,"5BgC")).then(t=>t.WhatsNewModule)},{path:"findatrip/:name",loadChildren:()=>n.e(11).then(n.bind(null,"pCNe")).then(t=>t.TripFinderModule)},{path:"what-we-do",loadChildren:()=>n.e(16).then(n.bind(null,"hiCO")).then(t=>t.WhatWeDoModule)},{path:"tak-experience",loadChildren:()=>n.e(15).then(n.bind(null,"/YM0")).then(t=>t.TakExperienceModule)},{path:"adminPanel/:name",loadChildren:()=>Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,"jriX")).then(t=>t.PageListModule)},{path:"messageList",loadChildren:()=>Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,"cNca")).then(t=>t.MessageListModule)},{path:"login",loadChildren:()=>Promise.all([n.e(0),n.e(25)]).then(n.bind(null,"lIRb")).then(t=>t.LoginModule)},{path:"personal-trips",loadChildren:()=>Promise.all([n.e(0),n.e(23)]).then(n.bind(null,"SbFb")).then(t=>t.TripsModule)},{path:"begin-plan",loadChildren:()=>Promise.all([n.e(0),n.e(24)]).then(n.bind(null,"b1uW")).then(t=>t.StartPlanningModule)},{path:"Contact-us",loadChildren:()=>Promise.all([n.e(0),n.e(22)]).then(n.bind(null,"+3Qf")).then(t=>t.ContactModule)},{path:"tripMessages",loadChildren:()=>Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,"TmEB")).then(t=>t.TripsListModule)},{path:"planningMessages",loadChildren:()=>Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,"MxVw")).then(t=>t.PlanningListModule)},{path:"since2007",loadChildren:()=>n.e(20).then(n.bind(null,"GP8u")).then(t=>t.Since2007Module)},{path:"methods-togo",loadChildren:()=>n.e(21).then(n.bind(null,"yJpA")).then(t=>t.TravelModule)},{path:"tripsdata",loadChildren:()=>Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,"TmEB")).then(t=>t.TripsListModule)},{path:"tripsdata/:id",loadChildren:()=>Promise.all([n.e(0),n.e(2),n.e(7)]).then(n.bind(null,"jPEh")).then(t=>t.TripFormModule)},{path:"**",component:te}];let yn=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[W.g.forRoot(bn,{initialNavigation:"enabled",onSameUrlNavigation:"reload"})],W.g]}),t})();var _n,wn=n("S/Aq");n("6Joi");let En=(()=>{let t=_n=class{static enablePersistence(t){return{ngModule:_n,providers:[{provide:wn.b,useValue:!0},{provide:wn.c,useValue:t}]}}};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[wn.a]}),t})();var In=n("aECQ");n("LOEa");let Sn=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[In.a]}),t})();var Cn=n("qBqN"),Tn=n("BAab"),Nn=n("wj3C"),xn=n.n(Nn),kn=n("30Go"),On=n("S+S0"),An="firebasestorage.googleapis.com",Rn=function(){function t(t,e){this.code_=Mn(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return Mn(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}(),Pn="canceled";function Mn(t){return"storage/"+t}function Dn(){return new Rn("unknown","An unknown error occurred, please check the error payload for server response.")}function Ln(){return new Rn(Pn,"User canceled the upload/download.")}function jn(){return new Rn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Fn(){return new Rn("no-download-url","The given file does not have any download URLs.")}function Un(t,e,n){return new Rn("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)}function Vn(){return new Rn("app-deleted","The Firebase app was deleted.")}function qn(t,e){return new Rn("invalid-format","String does not match format '"+t+"': "+e)}function Hn(t){throw new Rn("internal-error","Internal error: "+t)}var Bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function Wn(t){switch(t){case Bn.RAW:case Bn.BASE64:case Bn.BASE64URL:case Bn.DATA_URL:return;default:throw"Expected one of the event types: ["+Bn.RAW+", "+Bn.BASE64+", "+Bn.BASE64URL+", "+Bn.DATA_URL+"]."}}var zn=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Gn(t,e){switch(t){case Bn.RAW:return new zn(Kn(e));case Bn.BASE64:case Bn.BASE64URL:return new zn(Qn(t,e));case Bn.DATA_URL:return new zn((n=new Yn(e)).base64?Qn(Bn.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw qn(Bn.DATA_URL,"Malformed data URL.")}return Kn(e)}(n.rest),new Yn(e).contentType)}var n;throw Dn()}function Kn(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Qn(t,e){switch(t){case Bn.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw qn(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Bn.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw qn(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(c){throw qn(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Yn=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw qn(Bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),$n={STATE_CHANGED:"state_changed"},Xn="running",Jn="pausing",Zn="paused",tr="success",er="canceling",nr="canceled",rr="error",ir={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function or(t){switch(t){case Xn:case Jn:case er:return ir.RUNNING;case Zn:return ir.PAUSED;case tr:return ir.SUCCESS;case nr:return ir.CANCELED;case rr:default:return ir.ERROR}}function sr(t){return null!=t}function ar(t){return void 0!==t}function ur(t){return"function"==typeof t}function cr(t){return"object"==typeof t}function lr(t){return cr(t)&&null!==t}function hr(t){return"string"==typeof t||t instanceof String}function fr(t){return dr(t)&&Number.isInteger(t)}function dr(t){return"number"==typeof t||t instanceof Number}function pr(t){return gr()&&t instanceof Blob}function gr(){return"undefined"!=typeof Blob}var mr=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),vr=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=mr.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=mr.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=mr.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Hn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),sr(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return sr(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Hn("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Hn("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Hn("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){sr(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){sr(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),br=function(){function t(){}return t.prototype.createXhrIo=function(){return new vr},t}();function yr(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function _r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=yr();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(gr())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var wr=function(){function t(t,e){var n=0,r="";pr(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(pr(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(gr()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(_r.apply(null,r))}var i=e.map((function(t){return hr(t)?Gn(Bn.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Er=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new Rn("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=An.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new Rn("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function Ir(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return cr(n=e)&&!Array.isArray(n)?e:null}function Sr(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function Cr(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Tr(t){return"https://"+An+"/v0"+t}function Nr(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function xr(t,e){return e}var kr=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||xr}}(),Or=null;function Ar(t,e,n){var r=Ir(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Er(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Rr(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function Pr(t){if(!cr(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!cr(n))throw"Expected object for 'customMetadata' mapping."}else if(lr(n))throw"Mapping for '"+e+"' cannot be an object."}}function Mr(t){if(!cr(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!fr(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!hr(t.pageToken))throw"Expected pageToken to be string."}}var Dr=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Lr(t){if(!t)throw Dn()}function jr(t,e){return function(n,r){var i=Ar(t,r,e);return Lr(null!==i),i}}function Fr(t){return function(e,n){var r;return(r=401===e.getStatus()?new Rn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Rn("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Rn("unauthorized","User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function Ur(t){var e=Fr(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Rn("object-not-found","Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function Vr(t,e,n){var r=Tr(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Dr(r,"GET",jr(t,n),i);return o.errorHandler=Ur(e),o}function qr(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Tr(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new Dr(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Ir(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new Er(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new Er(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return Lr(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=Fr(e),u}function Hr(t,e,n){var r=Tr(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Dr(r,"GET",function(t,e){return function(n,r){var i=Ar(t,r,e);return Lr(null!==i),function(t,e){var n=Ir(e);if(null===n)return null;if(!hr(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return Tr("/b/"+i(t.bucket)+"/o/"+i(n))+Nr({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=Ur(e),o}function Br(t,e,n,r){var i=Tr(e.fullServerUrl()),o=Rr(n,r),s=t.maxOperationRetryTime,a=new Dr(i,"PATCH",jr(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Ur(e),a}function Wr(t,e){var n=Tr(e.fullServerUrl()),r=new Dr(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Ur(e),r}function zr(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Gr=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Kr(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Lr(!1)}return Lr(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Qr=262144,Yr=function(){return function(t,e,n){if(ur(t)||sr(e)||sr(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),$r=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function Xr(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var s,a,u,c;if(!(r<=n.length&&n.length<=i))throw(s=r)===(a=i)?(u=s,c=1===s?"argument":"arguments"):(u="between "+s+" and "+a,c="arguments"),new Rn("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+u+" "+c+", received "+n.length+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(l){throw l instanceof Error?Un(o,t,l.message):Un(o,t,l)}}var Jr=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!ar(e)||t(e)},this.optional=!!e}}();function Zr(t,e){function n(t){if(!hr(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new Jr(r,e)}function ti(){return new Jr((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||gr()&&t instanceof Blob))throw"Expected Blob or File."}))}function ei(t){return new Jr(Pr,t)}function ni(t){return new Jr(Mr,t)}function ri(){return new Jr((function(t){if(!(dr(t)&&t>=0))throw"Expected a number 0 or greater."}))}function ii(t,e){return new Jr((function(e){if(!(null===e||sr(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function oi(t){return new Jr((function(t){if(null!==t&&!ur(t))throw"Expected a Function."}),t)}function si(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var ai,ui,ci=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=Xn,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(Pn)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(rr))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(Pn)?s.completeTransitions_():(s.error_=t,s.transition_(rr))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===Xn&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case Xn:t(n);break;case er:e.transition_(nr);break;case Jn:e.transition_(Zn)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=zr(e,r,i),a={name:s.fullPath},u=Tr(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Rr(s,n),h=new Dr(u,"POST",(function(t){var e;Kr(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Lr(!1)}return Lr(hr(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=Fr(e),h}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=new Dr(n,"POST",(function(t){var e=Kr(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Lr(!1)}n||Lr(!1);var i=Number(n);return Lr(!isNaN(i)),new Gr(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Fr(e),i}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=Qr*this.chunkMultiplier_,n=new Gr(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new Gr(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Rn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw jn();var p=new Dr(n,"POST",(function(t,n){var i,s=Kr(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?jr(e,o)(t,n):null,new Gr(a,c,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=Fr(t),p}(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_(rr)}var s=t.service_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(tr)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){Qr*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=Vr(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(tr)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=zr(e,r,i),c=Rr(u,n),l=wr.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw jn();var h={name:u.fullPath},f=Tr(o),d=t.maxUploadRetryTime,p=new Dr(f,"POST",jr(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=Fr(e),p}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(tr)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case er:case Jn:this.state_=t,null!==this.request_&&this.request_.cancel();break;case Xn:var e=this.state_===Zn;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case Zn:this.state_=t,this.notifyObservers_();break;case nr:this.error_=Ln(),this.state_=t,this.notifyObservers_();break;case rr:case tr:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case Jn:this.transition_(Zn);break;case er:this.transition_(nr);break;case Xn:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=or(this.state_);return new $r(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==$n.STATE_CHANGED)throw"Expected one of the event types: ["+$n.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=oi(!0).validator,a=ii(null,!0).validator;function u(t){try{return void s(t)}catch(e){}try{if(a(t),!(ar(t.next)||ar(t.error)||ar(t.complete)))throw"";return}catch(e){throw o}}var c=[Zr(i),ii(u,!0),oi(!0),oi(!0)];Xr("on",c,arguments);var l=this;function h(t){return function(e,n,i){null!==t&&Xr("on",t,arguments);var o=new Yr(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(t){if(null===t)throw o;u(t)}var d=[ii(f),oi(!0),oi(!0)],p=!(ar(e)||ar(n)||ar(r));return p?h(d):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(or(this.state_)){case ir.SUCCESS:si(this.resolve_.bind(null,this.snapshot))();break;case ir.CANCELED:case ir.ERROR:si(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(or(this.state_)){case ir.RUNNING:case ir.PAUSED:t.next&&si(t.next.bind(t,this.snapshot))();break;case ir.SUCCESS:t.complete&&si(t.complete.bind(t))();break;case ir.CANCELED:case ir.ERROR:t.error&&si(t.error.bind(t,this.error_))();break;default:t.error&&si(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){Xr("resume",[],arguments);var t=this.state_===Zn||this.state_===Jn;return t&&this.transition_(Xn),t},t.prototype.pause=function(){Xr("pause",[],arguments);var t=this.state_===Xn;return t&&this.transition_(Jn),t},t.prototype.cancel=function(){Xr("cancel",[],arguments);var t=this.state_===Xn||this.state_===Jn;return t&&this.transition_(er),t},t}(),li=function(){function t(t,e){this.service=t,this.location=e instanceof Er?e:Er.makeFromUrl(e)}return t.prototype.toString=function(){return Xr("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(Or)return Or;var t=[];t.push(new kr("bucket")),t.push(new kr("generation")),t.push(new kr("metageneration")),t.push(new kr("name","fullPath",!0));var e=new kr("name");e.xform=function(t,e){return function(t){return!hr(t)||t.length<2?t:Cr(t)}(e)},t.push(e);var n=new kr("size");return n.xform=function(t,e){return sr(e)?Number(e):e},t.push(n),t.push(new kr("timeCreated")),t.push(new kr("updated")),t.push(new kr("md5Hash",null,!0)),t.push(new kr("cacheControl",null,!0)),t.push(new kr("contentDisposition",null,!0)),t.push(new kr("contentEncoding",null,!0)),t.push(new kr("contentLanguage",null,!0)),t.push(new kr("contentType",null,!0)),t.push(new kr("metadata","customMetadata",!0)),Or=t}()},t.prototype.child=function(t){Xr("child",[Zr()],arguments);var e=Sr(this.location.path,t),n=new Er(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Er(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new Er(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Cr(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),Xr("put",[ti(),ei(!0)],arguments),this.throwIfRoot_("put"),new ci(this,this.service,this.location,this.mappings(),new wr(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Bn.RAW),Xr("putString",[Zr(),Zr(Wn,!0),ei(!0)],arguments),this.throwIfRoot_("putString");var r=Gn(e,t),i=Object.assign({},n);return!sr(i.contentType)&&sr(r.contentType)&&(i.contentType=r.contentType),new ci(this,this.service,this.location,this.mappings(),new wr(r.data,!0),i)},t.prototype.delete=function(){var t=this;return Xr("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n=Wr(t.service,t.location);return t.service.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){Xr("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(kn.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(kn.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){Xr("list",[ni(!0)],arguments);var e=this;return this.service.getAuthToken().then((function(n){var r=t||{},i=qr(e.service,e.location,"/",r.pageToken,r.maxResults);return e.service.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return Xr("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=Vr(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return Xr("updateMetadata",[ei()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=Br(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return Xr("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n=Hr(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw Fn();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new Rn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),hi=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),fi=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());ar(a)?i(a):i()}catch(u){o(u)}else null!==s?((r=Dn()).setServerResponseProp(s.getResponseText()),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Vn():Ln():new Rn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new di(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new di(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===mr.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new di(s,n))}else{var a=n.getErrorCode()===mr.ABORT;e(!1,new di(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(kn.__spreadArrays)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(kn.__spreadArrays)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),di=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}(),pi=function(){function t(e,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?Er.makeFromBucketSpec(i):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new gi(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:Er.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return Object(kn.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(kn.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new li(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new hi(Vn());var r=function(t,e,n,r){var i=Nr(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==xn.a?xn.a.SDK_VERSION:"AppManager")}(s),new fi(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(Xr("ref",[Zr(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new li(this,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Er.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return Xr("refFromURL",[Zr(e,!1)],arguments),new li(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){Xr("setMaxUploadRetryTime",[ri()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){Xr("setMaxOperationRetryTime",[ri()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),gi=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();ui={TaskState:ir,TaskEvent:$n,StringFormat:Bn,Storage:pi,Reference:li},(ai=xn.a).INTERNAL.registerComponent(new On.Component("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new pi(n,r,new br,e)}),"PUBLIC").setServiceProps(ui).setMultipleInstances(!0)),ai.registerVersion("@firebase/storage","0.3.43");let mi=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Tn.a]}),t})(),vi=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[Gt]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[z.a,q.a,Cn.a],imports:[[j,yn,mi,H.AngularFireModule.initializeApp(i.a.firebase),B.AngularFireDatabaseModule,En,Sn]]}),t})();var bi=n("NXyV"),yi=n("z6cu"),_i=n("xgIS"),wi=n("LRne"),Ei=n("GyhO"),Ii=n("XNiG"),Si=n("5yfJ"),Ci=n("VRyK"),Ti=n("lJxs"),Ni=n("pLZG"),xi=n("eIep"),ki=n("NfdI"),Oi=n("IzEk"),Ai=n("vkgz"),Ri=n("3E0/");const Pi="Service workers are disabled or not supported by this browser";class Mi{constructor(t){if(this.serviceWorker=t,t){const e=Object(_i.a)(t,"controllerchange").pipe(Object(Ti.a)(()=>t.controller)),n=Object(bi.a)(()=>Object(wi.a)(t.controller)),r=Object(Ei.a)(n,e);this.worker=r.pipe(Object(Ni.a)(t=>!!t)),this.registration=this.worker.pipe(Object(xi.a)(()=>t.getRegistration()));const i=Object(_i.a)(t,"message").pipe(Object(Ti.a)(t=>t.data)).pipe(Object(Ni.a)(t=>t&&t.type)).pipe(Object(ki.a)());i.connect(),this.events=i}else this.worker=this.events=this.registration=Object(bi.a)(()=>Object(yi.a)(new Error("Service workers are disabled or not supported by this browser")))}postMessage(t,e){return this.worker.pipe(Object(Oi.a)(1),Object(Ai.a)(n=>{n.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithStatus(t,e,n){const r=this.waitForStatus(n),i=this.postMessage(t,e);return Promise.all([r,i]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){return this.events.pipe(Object(Ni.a)(e=>e.type===t))}nextEventOfType(t){return this.eventsOfType(t).pipe(Object(Oi.a)(1))}waitForStatus(t){return this.eventsOfType("STATUS").pipe(Object(Ni.a)(e=>e.nonce===t),Object(Oi.a)(1),Object(Ti.a)(t=>{if(!t.status)throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Di=(()=>{class t{constructor(t){if(this.sw=t,this.subscriptionChanges=new Ii.a,!t.isEnabled)return this.messages=Si.a,this.notificationClicks=Si.a,void(this.subscription=Si.a);this.messages=this.sw.eventsOfType("PUSH").pipe(Object(Ti.a)(t=>t.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Object(Ti.a)(t=>t.data)),this.pushManager=this.sw.registration.pipe(Object(Ti.a)(t=>t.pushManager));const e=this.pushManager.pipe(Object(xi.a)(t=>t.getSubscription()));this.subscription=Object(Ci.a)(e,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(Pi));const e={userVisibleOnly:!0};let n=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return e.applicationServerKey=r,this.pushManager.pipe(Object(xi.a)(t=>t.subscribe(e)),Object(Oi.a)(1)).toPromise().then(t=>(this.subscriptionChanges.next(t),t))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Object(Oi.a)(1),Object(xi.a)(t=>{if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(t=>{if(!t)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Pi))}decodeBase64(t){return atob(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Mi))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Li=(()=>{class t{constructor(t){if(this.sw=t,!t.isEnabled)return this.available=Si.a,void(this.activated=Si.a);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pi));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pi));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Mi))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class ji{}const Fi=new r.q("NGSW_REGISTER_SCRIPT");function Ui(t,e,n,i){return()=>{if(!Object(o.o)(i)||!("serviceWorker"in navigator)||!1===n.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)s=n.registrationStrategy();else{const[e,...r]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(e){case"registerImmediately":s=Object(wi.a)(null);break;case"registerWithDelay":s=Vi(+r[0]||0);break;case"registerWhenStable":s=r[0]?Object(Ci.a)(qi(t),Vi(+r[0])):qi(t);break;default:throw new Error("Unknown ServiceWorker registration strategy: "+n.registrationStrategy)}}t.get(r.z).runOutsideAngular(()=>s.pipe(Object(Oi.a)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(t=>console.error("Service worker registration failed with:",t))))}}function Vi(t){return Object(wi.a)(null).pipe(Object(Ri.a)(t))}function qi(t){return t.get(r.g).isStable.pipe(Object(Ni.a)(t=>t))}function Hi(t,e){return new Mi(Object(o.o)(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let Bi=(()=>{class t{static register(e,n={}){return{ngModule:t,providers:[{provide:Fi,useValue:e},{provide:ji,useValue:n},{provide:Mi,useFactory:Hi,deps:[ji,r.B]},{provide:r.d,useFactory:Ui,deps:[r.r,Fi,ji,r.B],multi:!0}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Di,Li]}),t})(),Wi=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[Gt]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[vi,j.withServerTransition({appId:"angular-starter"}),V,Bi.register("ngsw-worker.js",{enabled:i.a.production})]]}),t})();i.a.production&&Object(r.S)(),document.addEventListener("DOMContentLoaded",()=>{D().bootstrapModule(Wi).catch(t=>console.log(t))})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("30Go"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new p(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function m(t,e){return t.replace(v,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function b(t){return JSON.parse(t)}var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=b(c(o[0])||""),n=b(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function I(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}var S=144e5;e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=p,e.MAX_VALUE_MILLIS=S,e.RANDOM_FACTOR=.5,e.Sha1=_,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(S,r+i)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=I,e.getUA=f,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=b,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(I(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(I(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(I(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zp1y:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new s(t,n))}}class s{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new a(t,this.observables,this.project))}}class a extends r.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let o=0;o<r;o++){let t=e[o];this.add(Object(i.a)(this,t,void 0,o))}}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,3]]]);